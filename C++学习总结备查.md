# C++ å­¦ä¹ æ€»ç»“

æœ¬æ–‡éåŸºç¡€æ•™å­¦æ–‡ï¼Œè€Œæ˜¯åœ¨æœ‰ C è¯­è¨€çš„åŸºç¡€ä¸Šå¯¹ C++ å­¦ä¹ çš„æ€»ç»“è®°å½•ï¼Œé•¿æœŸç§¯ç´¯&æ›´æ–°ã€‚

æ¬¢è¿åœ¨åŸæ–‡ [github](https://github.com/Staok/Cpp-Learning) / [gitee](https://gitee.com/staok/Cpp-Learning) ä»“åº“ æ issue æŒ‡å‡ºé”™è¯¯ï¼Œå’Œ æ PR æ¥ä¸€åŒå»ºè®¾å†…å®¹ã€‚ 

æœ¬æ–‡çš„ Github ä»“åº“åœ°å€ å†…æ–‡ç« ä¼šä¸æ–­æ›´æ–°ï¼Œè€Œå‘åœ¨å…¶å®ƒä½ç½®çš„ä¸ä¼šè·Ÿè¿›äº†ï¼Œæœ¬æ–‡çš„ Gitee ä»“åº“åœ°å€ è®¿é—®æ›´æµç•…ã€‚

*p.s æœ¬æ–‡ä¸ºä¸ªäººå¯¹ C++ å­¦ä¹ çš„æ€»ç»“ï¼Œæœ¬äººä¹ æƒ¯æ€§æŠŠä¸€å—é¢†åŸŸçš„å†…å®¹ç”¨ä¸€ç¯‡å¤§æ–‡ç« ï¼ˆä¸‡å­—ä¸ºå•ä½è®¡ï¼‰æ¥æ±‡èšï¼ˆè€Œéåˆ†äº†å¾ˆå¤šä¸ªå°æ–‡ç« ï¼‰ï¼Œè¯´ç™½äº†æ˜¯ä¸»è¦ç”¨äºä¸ªäººæ€»ç»“å’Œå¤‡æŸ¥ï¼Œè€Œéåšæ•™ç¨‹ï¼Œå› è€Œä¼šæœ‰ä¸ªäººå¯¹å†…å®¹çš„æŒ‘é€‰ï¼Œè€Œéç…§æ¬è¯¥é¢†åŸŸçš„å¤§éƒ¨åˆ†å†…å®¹ï¼ˆå› æ­¤æœ¬æ–‡ä¼šé—æ¼ä¸€äº›è¿‡äºåŸºç¡€çš„ä¸œè¥¿ï¼‰ï¼Œä»¥åŠä½¿ç”¨çš„æœ€ä½³å®è·µï¼ŒåäºŒç‚¹ï¼Œå¯ä»¥é€šè¿‡å¤šçœ‹ä¸€äº›æœ€ä½³å®è·µçš„æ–‡ç« å’Œå·¥ç¨‹æ¥å¯¹è‡ªå·±è¿›è¡Œæé«˜ï¼ˆä¸‹é¢ä¹Ÿä¼šç»™å‡ºå¾ˆå¤šæ¨èçœ‹çš„é“¾æ¥ï¼‰ï¼›æœ¬æ–‡ä¼šç»™å‡ºå¤§é‡çš„å‚è€ƒé“¾æ¥ï¼Œç»å¤§å¤šæ•°éƒ½æ˜¯æ¼«é•¿æ—¶é—´é‡Œé¢å‘ç°ã€æŒ‘é€‰ã€æ•´ç†å‡ºæ¥çš„ç²¾å“ï¼Œä¹Ÿå°±æ˜¯ä¸ªäººæŠŠæœ¬æ–‡å½“å­—å…¸æ¥ç”¨ï¼›å› ä¸ºéæ•™ç¨‹ï¼Œè€Œæ˜¯é¢å‘æœ‰ä¸€å®šåŸºç¡€çš„äººï¼Œè€Œä¸”ä¸€ä¸ªæ–‡ç« çš„ä½“é‡ç›¸æ¯”äºå¤§å¤šæ•°ç½‘ç»œæ–‡ç« æ˜¾å¾— "è¿‡äºå·¨å¤§"ï¼Œçœ‹çš„äººå°‘ä¹Ÿæ˜¯åº”è¯¥çš„ã€‚*



å°šæœ‰ ä¸€äº› æ ‡è®°äº† TODO çš„åœ°æ–¹ æœ‰å¾…æ–½å·¥ã€‚æ²¡æœ‰ä¸‰å¤´å…­è‡‚ï¼Œå¾ˆå¤šèµ„æ–™ æ‰‹å¤´å’Œè„‘é‡Œ éƒ½æœ‰ åªæ˜¯å°šæœªæ²¡æœ‰æ•´ç†å‡ºæ¥ã€‚



> è™½æŠ±æ–‡ç« ï¼Œå¼€å£è°äº²ã€‚ä¸”é™¶é™¶ã€ä¹å°½å¤©çœŸã€‚å‡ æ—¶å½’å»ï¼Œä½œä¸ªé—²äººã€‚å¯¹ä¸€å¼ ç´ï¼Œä¸€å£¶é…’ï¼Œä¸€æºªäº‘ã€‚



------

## C/C++ ç²¾å“æ–‡ æ±‡æ€»

ä¸‹é¢çš„æ•™ç¨‹ä¼šåˆ—ä¸¾å¾ˆå¤šï¼Œé€‰æ‹©åˆé€‚è‡ªå·±çš„å»çœ‹å³å¯ã€‚

**C è¯­è¨€å…¥é—¨**

- èœé¸Ÿæ•™ç¨‹ [C è¯­è¨€æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cprogramming/c-tutorial.html)ã€‚
- Cè¯­è¨€ä¸­æ–‡ç½‘ [ç½‘ç«™åœ°å›¾ (biancheng.net)](http://c.biancheng.net/sitemap/)ï¼Œä¸ªåˆ«å°èŠ‚éœ€è¦ RMBã€‚
- Bç«™æœâ€œCè¯­è¨€å­¦ä¹ â€ [Cè¯­è¨€å­¦ä¹  _ æœç´¢ç»“æœ_ å“”å“©å“”å“© _Bilibili](https://search.bilibili.com/all?keyword=Cè¯­è¨€å­¦ä¹ )ï¼Œéšä¾¿ä¸€æœä¸€å¤§æŠŠï¼Œå…¶å®ƒè¯­è¨€åŒç†ã€‚

**å¯¹äº C è¯­è¨€ç‰¹æ€§çš„ç²¾å“æ±‡æ€»**

- [Knowledge-Notes/2 - Cè¯­è¨€ç¬”è®° at master Â· wuxiaolie/Knowledge-Notes (github.com)](https://github.com/wuxiaolie/Knowledge-Notes/tree/master/2 - Cè¯­è¨€ç¬”è®°)ã€‚
- [embedded/01_C at master Â· kuraxii/embedded (github.com)](https://github.com/kuraxii/embedded/tree/master/01_C)ã€‚
- [lh233/C-knowledge: å…³äºCè¯­è¨€çš„åŸºç¡€çŸ¥è¯† (github.com)](https://github.com/lh233/C-knowledge)ã€‚

**C è¯­è¨€æé«˜**

- C è¯­è¨€ä¸‰å‰‘å®¢ï¼šã€ŠCå’ŒæŒ‡é’ˆã€‹ã€ã€ŠCé™·é˜±ä¸ç¼ºé™·ã€‹å’Œã€ŠCä¸“å®¶ç¼–ç¨‹ã€‹ï¼Œç»å…¸æ°¸æµä¼ ã€‚

- [ã€ŠåµŒå…¥å¼Cè¯­è¨€çš„è‡ªæˆ‘ä¿®å…»ã€‹](https://book.douban.com/subject/35446929/) ä»æ²™å­è®²åˆ°CPUï¼Œä»ç¼–è¾‘å™¨è®²åˆ°ç¼–è¯‘å™¨ï¼Œä»é«˜é˜¶Cè¯­è¨€è®²åˆ°å†…å­˜ç®¡ç†ï¼Œä»GNUè®²åˆ°å¤šä»»åŠ¡ç¼–ç¨‹ã€‚[ã€ŠåµŒå…¥å¼Cè¯­è¨€è‡ªæˆ‘ä¿®å…»ã€‹å‹˜è¯¯ - å…¬ä¼—å·æ–‡ç« æ±‡æ€» | å®…å­¦éƒ¨è½ (zhaixue.cc)](https://www.zhaixue.cc/weixin/weixin-correction.html)ã€‚

- åˆ—ä¸€äº›æé«˜çš„ä¹¦ï¼šï¼ˆæœ‰çš„ä¹¦å¯ä»¥ç½‘ä¸Šæ‰¾åˆ°ç”µå­ç‰ˆï¼ˆåªæé†’ä¸€ä¸‹ï¼‰ï¼‰

  - [è®©ä½ ä¸å†å®³æ€•æŒ‡é’ˆâ€”â€”CæŒ‡é’ˆè¯¦è§£(ç»å…¸,éå¸¸è¯¦ç»†) - ç®€ä¹¦ (jianshu.com)](https://www.jianshu.com/p/9b8aeaba8ca8)ï¼Œ[è®©ä½ ä¸å†å®³æ€•æŒ‡é’ˆâ€”â€”CæŒ‡é’ˆè¯¦è§£(ç»å…¸,éå¸¸è¯¦ç»†)_ç¨‹åºè€å…µçš„åšå®¢-CSDNåšå®¢_æŒ‡é’ˆ](https://blog.csdn.net/soonfly/article/details/51131141)ã€‚
  - [ä½ å¿…é¡»çŸ¥é“çš„495ä¸ªCè¯­è¨€é—®é¢˜ (è±†ç“£) (douban.com)](https://book.douban.com/subject/26868092/)ï¼Œ[ä½ å¿…é¡»çŸ¥é“çš„495ä¸ªCè¯­è¨€é—®é¢˜_benpaobagzbçš„åšå®¢-CSDNåšå®¢_ä½ å¿…é¡»çŸ¥é“çš„495ä¸ªcè¯­è¨€é—®é¢˜](https://blog.csdn.net/benpaobagzb/article/details/48442099)ï¼Œ[ã€Šä½ å¿…é¡»çŸ¥é“çš„495ä¸ªCè¯­è¨€é—®é¢˜ã€‹çŸ¥è¯†ç¬”è®°åŠè¡¥å…… - Alexia(minmin) - åšå®¢å›­ (cnblogs.com)](https://www.cnblogs.com/lanxuezaipiao/p/3539262.html)ã€‚
  - [Cè¯­è¨€æ·±åº¦è§£å‰– (è±†ç“£) (douban.com)](https://book.douban.com/subject/4924419/)ã€‚
  - [Cè¯­è¨€çš„åº•å±‚æ“ä½œ_zhongjieçš„ä¸“æ -CSDNåšå®¢_cè¯­è¨€åº•å±‚æ¶æ„](https://blog.csdn.net/zhongjiekangping/article/details/4953044)ã€‚
  - [æ·±å…¥ç†è§£CæŒ‡é’ˆ (è±†ç“£) (douban.com)](https://book.douban.com/subject/25827246/)ã€‚
  - [åµŒå…¥å¼å­¦ä¹ ç½‘\]åµŒå…¥å¼Cç²¾å.pdf å…è´¹åœ¨çº¿é˜…è¯» (book118.com)](https://max.book118.com/html/2019/0416/6201034040002023.shtm)ï¼Œ[åµŒå…¥å¼Cè¯­è¨€ç²¾åæ–‡ç« é›†é”¦.pdf_åµŒå…¥å¼c-Cæ–‡æ¡£ç±»èµ„æº-CSDNæ–‡åº“](https://download.csdn.net/download/flyinchina1991/10256853)ã€‚

- æœ¬æ–‡ä½œè€…çš„ â€œC è§„èŒƒâ€ï¼š

  Giteeï¼š[C & MCUç¼–å†™è§„èŒƒå’Œå…¶ä»–.md Â· ç°ç™¾/coding-style-and-more - Gitee.com](https://gitee.com/staok/coding-style-and-more/blob/main/C & MCUç¼–å†™è§„èŒƒå’Œå…¶ä»–.md)ã€‚

  Githubï¼š[coding-style-and-more/C & MCUç¼–å†™è§„èŒƒå’Œå…¶ä»–.md at main Â· Staok/coding-style-and-more (github.com)](https://github.com/Staok/coding-style-and-more/blob/main/C %26 MCUç¼–å†™è§„èŒƒå’Œå…¶ä»–.md)ã€‚

- å­¦å®Œä¸€é—¨è¯­è¨€è¦èµ¶ç´§å»çœ‹è¯¥è¯­è¨€çš„ **æ•°æ®ç»“æ„ä¸ç®—æ³•**ã€‚C è¯­è¨€çš„æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Œç½‘æœæ•™ç¨‹ã€‚

  æœ¬æ–‡ä½œè€…çš„ [ï¼ˆå¤§é›†åˆï¼‰æ•°æ®ç»“æ„ä¸ç®—æ³•ç®€è¿°å’ŒCSç»¼åˆ - æ¬¢è¿æ¥åˆ° Staok - ç°ç™¾æ˜“ (github.io)](https://staok.github.io/15æ•°æ®ç»“æ„ä¸ç®—æ³•ç®€è¿°å’Œcsç»¼åˆ/) / [CSDN](https://blog.csdn.net/Staokgo/article/details/122085252)ã€‚
  
  è¿™ä¸ªæ–‡ç« å±äºæ—©æœŸæ•´ç†ï¼Œæ­£å¼çš„ã€å†…å®¹æ›´ä¸°å¯Œçš„ github ä»“åº“ä¸º [Staok/C-Cpp-data-struct-algo: C-C++-æ•°æ®ç»“æ„ä¸ç®—æ³•ç›¸å…³ä¼˜ç§€èµ„æ–™é›†å­ (github.com)](https://github.com/Staok/C-Cpp-data-struct-algo)ã€‚

**C++ æ•™ç¨‹**

- Bç«™å¤§å­¦ [ç„é©¬æ•™è‚² C++40ä¸ªçŸ¥è¯†ç‚¹å¸¦ä½ å…¥é—¨_å“”å“©å“”å“©_bilibili](https://space.bilibili.com/477729104/channel/seriesdetail?sid=864816)ã€‚

- ç®€æ˜æ•™ç¨‹ï¼ˆæ¨èï¼‰ [C++ Beginner's Guide for Python/Java/... Programmers | hacking C++ (hackingcpp.com)](https://hackingcpp.com/cpp/beginners_guide.html)ã€‚

  ä»‹ç» [è®ºC++æ•™ç¨‹å°±å±HackingCppç®€æ´ä¼˜é›…,C++ Primer,cppreference_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1Ko4y137vG/)ã€‚

- ã€ŠC++ Primer Plusï¼ˆç¬¬å…­ç‰ˆ ï¼‰ã€‹ä¸­æ–‡ç‰ˆï¼Œå¤§åšä¹¦ï¼Œé€‚åˆç”¨äºå¤ä¹ å’Œè¯¾ä½™è¡¥å……ã€‚

- èœé¸Ÿæ•™ç¨‹ï¼ˆæ¨æŒ¤ï¼‰ [C++ æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-tutorial.html)ã€‚

- Cè¯­è¨€ä¸­æ–‡ç½‘ [C++å…¥é—¨æ•™ç¨‹ï¼ŒC++åŸºç¡€æ•™ç¨‹ï¼ˆæ›´æ–°å®Œæ¯•ï¼‰ (biancheng.net)](http://c.biancheng.net/cplus/)ï¼Œ[STLæ•™ç¨‹ï¼šC++ STLå¿«é€Ÿå…¥é—¨ï¼ˆéå¸¸è¯¦ç»†ï¼‰ (biancheng.net)](http://c.biancheng.net/stl/)ã€‚

- [å¹²è´§æ¨è ï¼šäº”ä¸‡å­—é•¿æ–‡æ€»ç»“ C/C++ çŸ¥è¯† - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/516819910)ã€‚

- [C++ æ ‡å‡†åº“ç®€ä»‹ - OI Wiki (oi-wiki.org)](https://oi-wiki.org/lang/csl/)ï¼Œ[ç±» - OI Wiki (oi-wiki.org)](https://oi-wiki.org/lang/class/)ã€‚

- [å­¦ä¹ C++è¿™ä¸€ç¯‡å°±å¤Ÿäº†ï¼ˆåŸºç¡€ç¯‡ï¼‰-CSDNåšå®¢](https://blog.csdn.net/m0_60259116/article/details/131987585)ï¼Œ[å­¦ä¹ C++è¿™ä¸€ç¯‡å°±å¤Ÿäº†ï¼ˆæå‡ç¯‡ï¼‰_c++æå‡å­¦ä¹ -CSDNåšå®¢](https://blog.csdn.net/m0_60259116/article/details/131995639)ï¼Œ[å­¦ä¹ C++è¿™ä¸€ç¯‡å°±å¤Ÿäº†ï¼ˆè¿›é˜¶ç¯‡ï¼‰_c++ è¿›é˜¶csdn-CSDNåšå®¢](https://blog.csdn.net/m0_60259116/article/details/132026127)ã€‚

~~C++ å¿«é€Ÿå¤ä¹ ~~ éƒ½æ˜¯äº›åº”è¯•ç”¨çš„~~æ—¶ä»£åºŸå“~~

- ~~[è¿™å¯èƒ½æ˜¯å²ä¸Šæœ€å¿«å­¦ä¹ C++çš„è¯¾ç¨‹ï¼ŒæœŸæœ«è€ƒå‰å¤ä¹ å†²åˆºçš„å®å…¸_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV15Y411j7JW)ã€‚~~
- ~~[å¤ä¹ 100åˆ†é’Ÿæ‹¿ä¸‹100åˆ†ï¼Œä½ èƒ½åšå¾—åˆ°å—ï¼Ÿã€C++ã€‘(é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡)ï¼ˆæ€»å¤ä¹ ï¼‰_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1ta411k7Yn)ã€‚~~

**å¯¹äº C++ è¯­è¨€ç‰¹æ€§çš„ç²¾å“æ±‡æ€»**

- [Knowledge-Notes/2 - C++ç¬”è®° at master Â· wuxiaolie/Knowledge-Notes (github.com)](https://github.com/wuxiaolie/Knowledge-Notes/tree/master/2 - C%2B%2Bç¬”è®°)ã€‚
- [embedded/02_CPP at master Â· kuraxii/embedded (github.com)](https://github.com/kuraxii/embedded/tree/master/02_CPP)ã€‚
- [EmbeddedSystem/Language at master Â· SummerGift/EmbeddedSystem (github.com)](https://github.com/SummerGift/EmbeddedSystem/tree/master/Language)ã€‚



- [chengxumiaodaren/cpp-learning (github.com)](https://github.com/chengxumiaodaren/cpp-learning)ã€‚[CPPå­¦ä¹ èµ„æ–™æ±‡æ€» - é£ä¹¦äº‘æ–‡æ¡£ (feishu.cn)](https://lb3fn675fh.feishu.cn/docx/VUjdd8uCdoufThxHEOzcQQaonCh)ã€‚
- [C++11/14/17/20/23æ–°ç‰¹æ€§ï¼Œå“ªäº›æ˜¯å¿…é¡»æŒæ¡çš„ï¼Œå“ªäº›åŸºæœ¬ç”¨å¾—ä¸å¤šï¼Ÿ - çŸ¥ä¹ (zhihu.com)](https://www.zhihu.com/question/474664436/answer/3612037757)ã€‚

**C++ ç²¾å“ä»“åº“**

ä¸‹é¢è¿™äº› C++ ç¬”è®° / ä»“åº“å¯ç‰›äº†ï¼ˆè¿™äº›ä»“åº“å¤§éƒ¨å·²ç¦»çº¿åˆ° `C++å­¦ä¹ ç›¸å…³Githubä»“åº“æ”¶é›†` æ–‡ä»¶å¤¹ä¸‹ï¼ï¼‰

- [chengxumiaodaren/cpp-learning (github.com)](https://github.com/chengxumiaodaren/cpp-learning)ã€‚å¥½å†…å®¹éå¸¸å¤šã€‚è¿™ä¸ªæ²¡æœ‰ç¦»çº¿åˆ°æœ¬åœ°ã€‚
- [linux-cpp-tutorial: åŸºäºLinuxçš„C++ æ•™ç¨‹åˆé›†ï¼Œ åŒ…æ‹¬C++åŸºç¡€ï¼Œ C++æœåŠ¡å™¨ï¼Œ C++ä¸“é¢˜ - Gitee.com](https://gitee.com/andy-upp/linux-cpp-tutorial/tree/master)ã€‚
- [czs108/Cpp-Primer-5th-Notes-CN: ğŸ“š ã€ŠC++ Primerä¸­æ–‡ç‰ˆï¼ˆç¬¬5ç‰ˆï¼‰ã€‹ç¬”è®° (github.com)](https://github.com/czs108/Cpp-Primer-5th-Notes-CN)ã€‚
- [demon90s/CppStudy: My study notes for c/cpp language (github.com)](https://github.com/demon90s/CppStudy)ã€‚
- [Light-City/CPlusPlusThings: C++é‚£äº›äº‹ (github.com)](https://github.com/Light-City/CPlusPlusThings)ã€‚



- [0voice/introduce_c-cpp_manual: ä¸€ä¸ªæ”¶é›†C/C++æ–°æ‰‹å­¦ä¹ çš„å…¥é—¨é¡¹ç›®ï¼Œæ•´ç†æ”¶çº³å¼€å‘è€…å¼€æºçš„å°é¡¹ç›®ã€å·¥å…·ã€æ¡†æ¶ã€æ¸¸æˆç­‰ï¼Œè§†é¢‘ï¼Œä¹¦ç±ï¼Œé¢è¯•é¢˜/ç®—æ³•é¢˜ï¼ŒæŠ€æœ¯æ–‡ç« ã€‚ (github.com)](https://github.com/0voice/introduce_c-cpp_manual)ã€‚
- [0voice/cpp_new_features: 2021å¹´æœ€æ–°æ•´ç†ï¼Œ C++ å­¦ä¹ èµ„æ–™ï¼Œå«C++ 11 / 14 / 17 / 20 / 23 æ–°ç‰¹æ€§ã€å…¥é—¨æ•™ç¨‹ã€æ¨èä¹¦ç±ã€ä¼˜è´¨æ–‡ç« ã€å­¦ä¹ ç¬”è®°ã€æ•™å­¦è§†é¢‘ç­‰ (github.com)](https://github.com/0voice/cpp_new_features)ã€‚å¥½å†…å®¹éå¸¸å¤šã€‚è¿™ä¸ªæ²¡æœ‰ç¦»çº¿åˆ°æœ¬åœ°ã€‚



- [FunctionDou/STL: STLæºç åˆ†æ (github.com)](https://github.com/FunctionDou/STL)ã€‚
- æ¨èæºç åº“å¯è¯» 1ï¼š[ä½ è¯»è¿‡çš„æœ€å¥½çš„ C++ å¼€æºä»£ç æ˜¯ä»€ä¹ˆï¼Ÿ - çŸ¥ä¹ (zhihu.com)](https://www.zhihu.com/question/21376384)ã€‚
- æ¨èæºç åº“å¯è¯» 2ï¼š[ä½ è¯»è¿‡çš„æœ€å¥½çš„ C++ å¼€æºä»£ç æ˜¯ä»€ä¹ˆï¼Ÿ - çŸ¥ä¹ (zhihu.com)](https://www.zhihu.com/question/21376384/answer/29689529)ã€‚
- æ¨èæºç åº“å¯è¯» 3ï¼š[chenshuo/muduo: Event-driven network library for multi-threaded Linux server in C++11 (github.com)](https://github.com/chenshuo/muduo)ã€‚
- [miloyip/json-tutorial: ä»é›¶å¼€å§‹çš„ JSON åº“æ•™ç¨‹ (github.com)](https://github.com/miloyip/json-tutorial)ã€‚



- [CnTransGroup/EffectiveModernCppChinese: ã€ŠEffective Modern C++ã€‹- å®Œæˆç¿»è¯‘ (github.com)](https://github.com/CnTransGroup/EffectiveModernCppChinese)ã€‚
- [balloonwj/CppGuide: C/C++å­¦ä¹ ï¼Œåç«¯å¼€å‘è¿›é˜¶æŒ‡å—ã€‚ (github.com)](https://github.com/balloonwj/CppGuide)ã€‚

**C++ ç²¾å“æ‚æ–‡**

- [C++_è·¯è¿‡çš„å°ç†Š~çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/qq_32348883/category_11547008.html)ã€‚
- [C++ å®ä¾‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-examples.html)ã€‚



- [C/C++ ç¼–ç¨‹æŠ€æœ¯ - çŸ¥ä¹ (zhihu.com)](https://www.zhihu.com/column/c_1662775871361613824)ã€‚
- [C/C++ Linux è½¯ä»¶å¼€å‘æ¨¡æ‹Ÿé¢è¯• - çŸ¥ä¹ (zhihu.com)](https://www.zhihu.com/column/c_1697924273321160704)ã€‚
- [Linux å¼€å‘ - çŸ¥ä¹ (zhihu.com)](https://www.zhihu.com/column/c_1697391693194809344)ã€‚



- .etc

**C++ å‚è€ƒ / å­—å…¸ / ç‰¹æ€§å¿«é€Ÿç´¢å¼•**

- é¦–æ¨ [cppreference](https://zh.cppreference.com/w/é¦–é¡µ)ã€‚è¿™ä¸ªç½‘ç«™é‡Œé¢çš„æè¿°å¯èƒ½å¤§å¤š "æ¯”è¾ƒå®˜è¯"ï¼Œç›¸å…³çš„å…³é”®å­—å¯ä»¥ç½‘æœæ–‡ç« æ¥å­¦ï¼Œè¿™ä¸ªç½‘ç«™å¯¹äºå¹¿å¤§åº”ç”¨è€…æ¥è¯´å¯ä»¥è®¤ä¸ºæ˜¯æ¯”è¾ƒå…¨çš„åˆ—å‡ºæ¥ "éƒ½æœ‰ä»€ä¹ˆ"ã€‚

  [ç¦»çº¿æŸ¥çœ‹çš„å½’æ¡£ - cppreference.com](https://zh.cppreference.com/w/Cppreference:Archives)ã€‚[cppreferenceç¦»çº¿æ–‡æ¡£ä¸‹è½½ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/651697815)ã€‚

  [C++ æ ‡å‡†åº“æ ‡å¤´ - cppreference.com](https://zh.cppreference.com/w/cpp/header)ã€‚

- hackingcppï¼Œå®¹å™¨ & argoåº“ ç­‰ å›¾å½¢åŒ–å±•ç¤º [C++ Cheat Sheets & Infographics | hacking C++ (hackingcpp.com)](https://hackingcpp.com/cpp/cheat_sheets.html)ã€‚

- [mortennobel/cpp-cheatsheet: Modern C++ Cheatsheet (github.com)](https://github.com/mortennobel/cpp-cheatsheet)ã€‚

- [C++ æœ‰ç”¨çš„èµ„æº | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-useful-resources.html)ã€‚

  ä»¥ä¸‹æŒ‘å‡ºä¸Šé¢æ²¡æœ‰çš„åšè¡¥å……

  > ä»¥ä¸‹èµ„æºåŒ…å«äº† C++ æœ‰å…³çš„ç½‘ç«™ã€ä¹¦ç±å’Œæ–‡ç« ã€‚è¯·ä½¿ç”¨å®ƒä»¬æ¥è¿›ä¸€æ­¥å­¦ä¹  C++ çš„çŸ¥è¯†ã€‚
  >
  > C++ æœ‰ç”¨çš„ç½‘ç«™ï¼š
  >
  > - [C++ Programming](http://en.wikibooks.org/wiki/C++_Programming) âˆ’ è¿™æœ¬ä¹¦æ¶µç›–äº† C++ è¯­è¨€ç¼–ç¨‹ã€è½¯ä»¶äº¤äº’è®¾è®¡ã€C++ è¯­è¨€çš„ç°å®ç”Ÿæ´»åº”ç”¨ã€‚
  > - [C++ FAQ](http://www.sunistudio.com/cppfaq/) âˆ’ C++ å¸¸è§é—®é¢˜
  > - [Free Country](http://www.thefreecountry.com/sourcecode/cpp.shtml) âˆ’ Free Country æä¾›äº†å…è´¹çš„ C++ æºä»£ç å’Œ C++ åº“ï¼Œè¿™äº›æºä»£ç å’Œåº“æ¶µç›–äº†å‹ç¼©ã€å­˜æ¡£ã€æ¸¸æˆç¼–ç¨‹ã€æ ‡å‡†æ¨¡æ¿åº“å’Œ GUI ç¼–ç¨‹ç­‰ C++ ç¼–ç¨‹é¢†åŸŸã€‚
  > - [C and C++ Users Group](http://www.hal9k.com/cug/) âˆ’ C å’Œ C++ çš„ç”¨æˆ·å›¢ä½“æä¾›äº†å…è´¹çš„æ¶µç›–å„ç§ç¼–ç¨‹é¢†åŸŸ C++ é¡¹ç›®çš„æºä»£ç ï¼ŒåŒ…æ‹¬ AIã€åŠ¨ç”»ã€ç¼–è¯‘å™¨ã€æ•°æ®åº“ã€è°ƒè¯•ã€åŠ å¯†ã€æ¸¸æˆã€å›¾å½¢ã€GUIã€è¯­è¨€å·¥å…·ã€ç³»ç»Ÿç¼–ç¨‹ç­‰ã€‚

- æœ‰ä¸æ¸…æ¥šçš„æ¦‚å¿µç›´æ¥é—® AI å·¥å…·ã€‚

- .etc

## C/C++ ç²¾å“åº“ æ±‡æ€»

çœ‹åˆ°çš„å°å·§ç²¾è‰¯çš„å°å‹ c/cpp åº“/é¡¹ç›®åˆ—ä¸¾ã€‚



C ç²¾å“ä»“åº“

[jobbole/awesome-c-cn: C èµ„æºå¤§å…¨ä¸­æ–‡ç‰ˆï¼ŒåŒ…æ‹¬äº†ï¼šæ„å»ºç³»ç»Ÿã€ç¼–è¯‘å™¨ã€æ•°æ®åº“ã€åŠ å¯†ã€åˆä¸­é«˜çš„æ•™ç¨‹/æŒ‡å—ã€ä¹¦ç±ã€åº“ç­‰ã€‚ (github.com)](https://github.com/jobbole/awesome-c-cn)ã€‚



C++ ç²¾å“ä»“åº“

[Your list / å®ç”¨åº“ / EE-CS (github.com)](https://github.com/stars/Staok/lists/å®ç”¨åº“-ee-cs)ã€‚



ä»¥åŠ è§åŒç›®å½•çš„ `C-C++å®ç”¨åº“å¤‡æŸ¥.md` æ–‡ç« ã€‚



## ç¼–ç¨‹ç»éªŒã€è°ƒè¯•ã€æ€§èƒ½å’Œå†…å­˜æ£€æŸ¥å·¥å…·é›†åˆ

è§åŒç›®å½•çš„ `ç¼–ç¨‹ç»éªŒã€è°ƒè¯•ã€æ€§èƒ½å’Œå†…å­˜æ£€æŸ¥å·¥å…·é›†åˆ` æ–‡ç« ã€‚



## Shell è„šæœ¬ æ±‡æ€»

- [fengyuhetao/shell: Linuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨æ¡ˆä¾‹ (github.com)](https://github.com/fengyuhetao/shell)ã€‚



## C/C++ æ•°æ®ç»“æ„ä¸ç®—æ³• / è®¾è®¡æ¨¡å¼

å­¦ä¹ ä¸€äº›è®¾è®¡æ¨¡å¼å’Œå®è·µç»éªŒï¼Œå†™æ›´å¥å£®å’Œå¥½ç»´æŠ¤çš„ç¨‹åºã€‚

æ€»ç»“æ•´ç†ä»“åº“ï¼š

C-C++-æ•°æ®ç»“æ„ä¸ç®—æ³•ç®€è¿° [Staok/C-Cpp-data-struct-algo: C-C++-æ•°æ®ç»“æ„ä¸ç®—æ³•ç›¸å…³ä¼˜ç§€èµ„æ–™é›†å­ (github.com)](https://github.com/Staok/C-Cpp-data-struct-algo)ã€‚

C-C++-è®¾è®¡æ¨¡å¼ç»¼åˆ [Staok/C-Cpp-design-patterns: C/C++è®¾è®¡æ¨¡å¼ç›¸å…³ä¼˜ç§€èµ„æ–™é›†å­ (github.com)](https://github.com/Staok/C-Cpp-design-patterns)ã€‚



## C++ (11 / 14 / 17 / 20) åŸºç¡€

ä¸»è¦å›´ç»• C++ 11 / 14 / 17 / 20 ä»¥åŠä»¥ä¸Š çš„ å„ç‰ˆæœ¬ç‰¹æ€§ å±•å¼€

ä¸‹é¢å„å°èŠ‚çš„é¡ºåºæ²¡æœ‰å¤„ç†ã€‚

ä¸‹é¢ç»™å‡ºçš„åŸºç¡€è¯­æ³•å’Œä¾‹å­ï¼Œå®è·µçš„æ—¶å€™å¯ä¸¾ä¸€åä¸‰ä½¿ç”¨ï¼Œå†™ä¸œè¥¿æ—¶å€™å…ˆå¤šæ€è€ƒæ¶æ„ï¼Œä¸å¿…ä¸€ä¸Šæ¥å°±å†™ ç­‰ æƒ…å†µçš„å‡ºç°ï¼Œå‡å°‘åé¢ debug å’Œ é‡æ„çš„æ—¶é—´ã€‚



TODO:

```
ã€ŠC++ Primer Plusï¼ˆç¬¬å…­ç‰ˆ ï¼‰ã€‹ä¹¦ å·²ç»çœ‹å®Œ 4ã€5ã€6ã€7ï¼ˆ7ç« æœ€åè¿˜å·®ä¸€ç‚¹ï¼‰ç« èŠ‚ï¼Œå¼€å§‹å¼„c++æ€»ç»“æ—¶å€™ï¼Œå…ˆå°†å‰é¢è¿™äº› ä¹¦ä¸Š ç”»çº¿ã€ç¬”è®° æ€»ç»“åˆ°è¿™é‡Œï¼›

å½“Linuxåº”ç”¨å®Œä¹‹åï¼Œæ¥ç€çœ‹å®ŒCåŠ åŠ ä¹¦çš„ç¬¬7ç« ï¼Œç„¶åå°†4 5 6 7ç« çš„æ‰€æœ‰åˆ’çº¿éƒ¨åˆ†éƒ½é›¶æ•£çš„æ€»ç»“è¿›å»ï¼Œç„¶åå†æ¥ç€çœ‹åé¢çš„è®¡åˆ’çš„ç« èŠ‚ï¼š10ã€13ç« ï¼Œè¿˜æœ‰ 16.1ã€16.3ã€16.7ã€‚
```



### C++ å„ç‰ˆæœ¬ä¼˜è´¨å‚è€ƒ

- [C++11 - cppreference.com](https://zh.cppreference.com/w/cpp/11)ï¼Œ[C++14 - cppreference.com](https://zh.cppreference.com/w/cpp/14)ï¼Œ[C++17 - cppreference.com](https://zh.cppreference.com/w/cpp/17)ï¼Œ[C++20 - cppreference.com](https://zh.cppreference.com/w/cpp/20)ã€‚
- [c++14æ–°ç‰¹æ€§æ€»ç»“ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/588826142)ã€‚
- [å½“é¢è¯•å®˜é—®æˆ‘C++ 11æ–°ç‰¹æ€§çš„æ—¶å€™ï¼Œåº”è¯¥æ€æ ·å›ç­”ï¼Ÿ - çŸ¥ä¹ (zhihu.com)](https://www.zhihu.com/question/65209863/answer/1957019832)ã€‚
- [chengxumiaodaren/cpp-learning (github.com)](https://github.com/chengxumiaodaren/cpp-learning)ã€‚
- [C++11/14/17/20/23æ–°ç‰¹æ€§ï¼Œå“ªäº›æ˜¯å¿…é¡»æŒæ¡çš„ï¼Œå“ªäº›åŸºæœ¬ç”¨å¾—ä¸å¤šï¼Ÿ - çŸ¥ä¹ (zhihu.com)](https://www.zhihu.com/question/474664436/answer/3612037757)ã€‚
- [c++11 æ–°ç‰¹æ€§æ€»ç»“ï¼ˆä¸€ï¼‰â€”â€”å…³é”®å­—ç¯‡ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/463616036)ã€‚



### åŸºç¡€

*p.s ä¸ C å¤§åŒå°å¼‚çš„éƒ¨åˆ†ä¸åšå±•å¼€ã€‚*



#### å˜é‡ä¸ä½œç”¨åŸŸ

**å˜é‡**

è¡¥å……å‚è€ƒ [C++ æ•°æ®ç±»å‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-data-types.html)ã€[C++ å˜é‡ç±»å‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-variable-types.html)ã€[C++ å˜é‡ä½œç”¨åŸŸ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-variable-scope.html)ï¼›[C++ å¸¸é‡ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-constants-literals.html)ã€[C++ ä¿®é¥°ç¬¦ç±»å‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-modifier-types.html)ã€‚[C++å˜é‡çš„å®šä¹‰ä½ç½® (biancheng.net)](http://c.biancheng.net/view/2195.html)ï¼Œ[C++å¸ƒå°”ç±»å‹ï¼ˆboolï¼‰ (biancheng.net)](http://c.biancheng.net/view/2197.html)ã€‚

```c
void
boolï¼ˆtrue/falseï¼‰
charã€wchar_tã€shortã€intã€long
floatã€double

// c++11 æ–°å¢äº†å‡ ç§æ•°æ®ç±»å‹:
nullptr(åœ¨ c++ ä¸­æ›¿ä»£ NULLï¼Œä¸“ç”¨äº è¡¨ç¤º ç©ºæŒ‡é’ˆï¼›NULL æœ¬è´¨ä¸Šæ˜¯ä¸ª int å‹çš„ 0ï¼Œä¸æ˜¯ä¸ªæŒ‡é’ˆ)
long long
char16_tã€char32_t (Unicode å­—ç¬¦)

 ---

signedã€unsigned

 ---

struct // ç»“æ„ä½“  c++çš„ç»“æ„ä½“é‡Œé¢å¯ä»¥å†™å‡½æ•°ï¼Œé€šè¿‡ â€œç»“æ„ä½“.å‡½æ•°å(..)â€ æ¥è°ƒç”¨
enum   // æšä¸¾    c++ enumçš„æ–°ç‰¹æ€§ä¹‹enum class enum structï¼šhttps://blog.csdn.net/qq_32348883/article/details/122866241
union  // è”åˆ

 ---

constã€staticã€volatile
typedef // ç±»å‹å®šä¹‰
extern  // å¯¹å…¶å®ƒæ–‡ä»¶å¯è§
```



**ä½œç”¨åŸŸ**

1. å…¨å±€ä½œç”¨åŸŸï¼ˆå…¨å±€å˜é‡ï¼‰ã€‚
2. å±€éƒ¨ä½œç”¨åŸŸ / å—ä½œç”¨åŸŸï¼ˆè¯­å¥å— `{...} `å†…çš„å˜é‡ï¼Œå±€éƒ¨å˜é‡ï¼‰ã€‚
3. ç±»åŸŸï¼ˆclassï¼‰ï¼Œå‘½åç©ºé—´ä½œç”¨åŸŸï¼ˆnamespaceï¼‰ã€‚

å—çš„å†…å¤–éƒ¨å‡å®šä¹‰æœ‰åŒåå˜é‡æƒ…å†µä¸‹ï¼Œåœ¨è¿è¡Œåˆ°å—å†…éƒ¨æ—¶ï¼Œä»…ä½¿ç”¨å—å†…éƒ¨çš„åŒåå˜é‡è€Œéšè—æ‰å—å¤–éƒ¨çš„åŒåå˜é‡ã€‚



å…³äº autoã€staticã€thread_localã€externã€mutable è¿™äº› å­˜å‚¨ç±» è¯´æ˜ç¬¦ / ä¿®é¥°ç¬¦ çš„ è¯´æ˜ å’Œ ä½¿ç”¨èŒƒå›´ï¼š

[å­˜å‚¨ç±»è¯´æ˜ç¬¦ - cppreference.com](https://zh.cppreference.com/w/cpp/language/storage_duration)ã€‚



#### é¢„å¤„ç†

è¡¥å……å‚è€ƒ [C++ é¢„å¤„ç†å™¨ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-preprocessor.html)ã€‚

```
#include
#ifã€#ifdefã€#ifndefã€#elifã€#elseã€#endif
#define

#  åæ–‡è½¬å­—ç¬¦ä¸²
## å·¦å³æ–‡æ‹¼æ¥

__func__ã€__LINE__ã€__FILE__ã€__DATE__ã€__TIME__
```



**__has_include é¢„å¤„ç† è¡¨è¾¾å¼**

> ```c++
> #if defined __has_include
>     #if __has_include(<charconv>)
>     	#define has_charconv 1
>     	#include <charconv>
>     #endif
> #endif
> 
> std::optional<int> ConvertToInt(const std::string& str) {
>     int value{};
> #ifdef has_charconv // åˆ¤æ–­æ˜¯å¦æœ‰åŒ…å«æŸä¸ªå¤´æ–‡ä»¶ æˆ– åº“ï¼Œæ ¹æ®å®é™… include çš„ä¸œè¥¿ é€‰æ‹©å¤„ç†æ–¹å¼
>     const auto last = str.data() + str.size();
>     const auto res = std::from_chars(str.data(), last, value);
>     if (res.ec == std::errc{} && res.ptr == last) return value;
> #else
>     // alternative implementation...
>     // å…¶å®ƒæ–¹å¼å®ç°
> #endif
>     return std::nullopt;
> }
> ```
>
> 



#### å¾ªç¯å’Œåˆ†æ”¯ç»“æ„

```
å¾ªç¯ï¼šforã€whileã€do{ }while + continueã€break
åˆ†æ”¯ï¼šifã€if-elseã€if-else if-...-elseã€switch
```



### å‘½åç©ºé—´

è¡¥å……å‚è€ƒ [C++ å‘½åç©ºé—´ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-namespaces.html)ã€[C++å‘½åç©ºé—´ï¼ˆåå­—ç©ºé—´ï¼‰è¯¦è§£ (biancheng.net)](http://c.biancheng.net/view/2192.html)ã€‚

- æœ¬æ„å³ åŒºåˆ†ä¸åŒåº“ä¸­**ç›¸åŒåç§°**çš„å‡½æ•°ã€ç±»ã€å˜é‡ç­‰ã€‚æœ¬è´¨ä¸Šï¼Œå‘½åç©ºé—´å°±æ˜¯å®šä¹‰äº†ä¸€ä¸ªèŒƒå›´ã€‚
- æ˜¯ä¸€ç§ä½œç”¨åŸŸçš„åˆ’åˆ†ï¼Œé€šå¸¸ç”¨äºåŒºåˆ†é¡¹ç›®ä¸­çš„æ¨¡å—æˆ–ç»„ä»¶ï¼Œå…¶ä¸­å¯å®šä¹‰å˜é‡ã€å‡½æ•°ç­‰ã€‚
- å¯åˆ†å¸ƒå¼å®šä¹‰ï¼Œå¯åµŒå¥—ï¼Œå¯å–åˆ«åã€‚æ¨èä½¿ç”¨`::`æ¥å¼•ç”¨å‘½åç©ºé—´é‡Œçš„å¯¹è±¡ã€‚

ä¸‹é¢ç®€å•ä¾‹å­è¯´æ˜ å‘½åç©ºé—´çš„å®šä¹‰ï¼ˆæ–°å®šä¹‰æˆ–å¤šæ¬¡å®šä¹‰å¢åŠ å†…å®¹ï¼‰ã€å¼•ç”¨ï¼ˆä½¿ç”¨ `using` æˆ– `::` ç›´æ¥å¼•ç”¨ï¼‰å’Œ ä¿è¯å…ƒç´ åç§°çš„å”¯ä¸€æ€§ã€‚

```c++
#include <iostream>
using namespace std; /* ä½¿ç”¨ iostream åº“ä¸­ std å‘½åç©ºé—´ çš„å†…å®¹ */
/* using æŒ‡ä»¤ä¹Ÿå¯ä»¥ç”¨æ¥æŒ‡å®šå‘½åç©ºé—´ä¸­çš„ç‰¹å®šé¡¹ç›®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨åªæ‰“ç®—ä½¿ç”¨ std å‘½åç©ºé—´ä¸­çš„ cout éƒ¨åˆ†ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„è¯­å¥ï¼š
    using std::cout; */

// å®šä¹‰ç¬¬ä¸€ä¸ªå‘½åç©ºé—´
// ä¸€ä¸ªå‘½åç©ºé—´çš„å„ä¸ªç»„æˆéƒ¨åˆ†å¯ä»¥åˆ†æ•£åœ¨å¤šä¸ªæ–‡ä»¶ä¸­ï¼Œä¸‹é¢çš„å‘½åç©ºé—´å®šä¹‰å¯ä»¥æ˜¯å®šä¹‰ä¸€ä¸ªæ–°çš„å‘½åç©ºé—´ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸ºå·²æœ‰çš„å‘½åç©ºé—´å¢åŠ æ–°çš„å…ƒç´ 
namespace first_space // è¯¥ å‘½åç©ºé—´ çš„ åå­— first_space
{
    // è¿™é‡Œæ˜¯ä»£ç å£°æ˜
    
    void func()
    {
        cout << "Inside first_space" << endl;
    }
}

namespace first_space // åˆ†å¸ƒå¼å®šä¹‰ï¼Œä¸º å‘½åç©ºé—´ first_space æ·»åŠ æˆå‘˜
{
    int a;
}

// å®šä¹‰ç¬¬äºŒä¸ªå‘½åç©ºé—´
namespace second_space
{
    int b;
    void func()
    {
        cout << "Inside second_space" << endl;
    }
}

int cc1 = 10;

namespace cd 
{
   int c = ::cc1; // å¼•ç”¨å…¨å±€å˜é‡ cc1
    
   namespace d    // å‘½åç©ºé—´ åµŒå¥—
   {
      int d;
   }
}

// using namespace cd; 		// è®¿é—® cd ä¸­çš„æˆå‘˜
// using namespace cd::d; 	// è®¿é—® d ä¸­çš„æˆå‘˜

/* ä½¿ç”¨ :: è¿ç®—ç¬¦æ¥è®¿é—®åµŒå¥—çš„å‘½åç©ºé—´ä¸­çš„æˆå‘˜ï¼š
		
		ä½¿ç”¨ using å¼•ç”¨ï¼ˆä¸æ¨èå¸¸ç”¨åœ¨å‘½åç©ºé—´ï¼‰ï¼šusing namespace cd::d::d;

		æˆ–è€…ç›´æ¥å¼•ç”¨ï¼ˆæ¨èï¼‰ï¼šcd::d::d

	   è¦ä¿è¯åŒåçš„å‡½æ•°ã€å˜é‡ç­‰çš„å”¯ä¸€æ€§ï¼Œä¸èƒ½åŒæ—¶ï¼š
		using namespace first_space; å’Œ using second_space ;
*/

namespace n = cd;     // ç»™ å‘½åç©ºé—´ cd å–åˆ«åä¸º n
namespace dd = cd::d; // ç»™ å‘½åç©ºé—´ d  å–åˆ«åä¸º dd

using namespace first_space;

int main ()
{
 
   // ä¸Šé¢ using è¡¨æ˜ å…¶åé¢çš„ç¨‹åºä½¿ç”¨ first_space å‘½åç©ºé—´çš„å†…å®¹ï¼Œè¿™é‡Œç›´æ¥è°ƒç”¨ç¬¬ä¸€ä¸ªå‘½åç©ºé—´ä¸­çš„å‡½æ•°
   func();
   
   // ä½¿ç”¨ :: è°ƒç”¨ç¬¬äºŒä¸ªå‘½åç©ºé—´ä¸­çš„å‡½æ•°
   second_space::func(); 
 
   return 0;
}

// namespace åµŒå¥—ï¼ŒC++ 17 èµ·
// å¤šå±‚çš„å‘½åç©ºé—´å¯ä»¥è¿™ä¹ˆå®šä¹‰
namespace A::B::C {
    void func();)
}

```



**ä¸‹é¢å¼€å§‹ä»‹ç» c++ STL æ ‡å‡†åº“é‡Œçš„ å¸¸ç”¨æ•°æ®ç»“æ„å®ç°ï¼Œå¸¸ç”¨çš„æœ‰ stringã€vectorã€listã€hash ç­‰ã€‚**

### string

å‚è€ƒï¼š[C++ stringç±»å‹ç†è§£_xuewu0zhijingçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/xuewu0zhijing/article/details/105375414)ã€‚[c++ stringå¸¸è§ç”¨æ³•æ±‡æ€»_è·¯è¿‡çš„å°ç†Š~çš„åšå®¢-CSDNåšå®¢_c++ string ä½¿ç”¨](https://blog.csdn.net/qq_32348883/article/details/124551731)ã€‚

**å„ç§æ–¹æ³•ï¼Œç”¨æ—¶å¯ä»¥åœ¨ [cppreference](https://zh.cppreference.com/w/%E9%A6%96%E9%A1%B5) é‡Œç°æ‰¾å³å¯ã€‚**

ä¸‹é¢çš„å°±æ˜¯çœ‹ç€ç©çš„ã€‚

#### å„ç§åŸºæœ¬æ–¹æ³•

```c++
#include <string>

string str1 = "runoob";
string str2 = "google";
string str3;

/* è¿ç®—ç¬¦é‡è½½
    â€œ+â€ã€â€œ+=â€ï¼šè¿æ¥å¤šä¸ªå­—ç¬¦ä¸²ï¼› 
    â€œ=â€ï¼šç»™å­—ç¬¦ä¸²èµ‹å€¼ï¼›å¦‚
    	str3 = str1;        // å¤åˆ¶ str1 åˆ° str3 
    	str3 = â€œaaaâ€;
    	str3 = str1 + str2; // è¿æ¥ str1 å’Œ str2
    
    â€œ<â€ã€â€œ<=â€ã€â€œ>â€ã€â€œ>=â€ï¼šå­—ç¬¦ä¸²çš„æ¯”è¾ƒï¼›
    â€œ==â€ã€â€œï¼=â€ï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼›
*/

/* string ç±»çš„æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³• éƒ½æ˜¯ â€œstringå¯¹è±¡.æ–¹æ³•;â€ æ¥ç”¨
    size();    // è¿”å›å­—ç¬¦ä¸²é•¿åº¦ï¼Œint len = str3.size(); // str3 çš„æ€»é•¿åº¦
    length();  // è¿”å›å­—ç¬¦ä¸²é•¿åº¦
    empty();   // æ£€æŸ¥ str æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºè¿”å› 1ï¼Œå¦åˆ™è¿”å› 0
    at(n);     // åŒ str[n]; ä½œç”¨ï¼Œå­˜å– str ç¬¬ n + 1 ä¸ªå­—ç¬¦ï¼ˆå¦‚æœæº¢å‡ºä¼šæŠ›å‡ºå¼‚å¸¸ï¼‰
	
	append(â€œabcâ€);            // ä½œç”¨åŒ + è¿ç®—ç¬¦é‡è½½ï¼Œåœ¨å­—ç¬¦ä¸²æœ«å°¾æ·»åŠ å­—ç¬¦ä¸²"abc"ï¼Œå¹¶è¿”å›å½¢æˆçš„æ–°å­—ç¬¦ä¸²
	insert(x, â€œhelloâ€);       // ä» [x] ä½ç½®å¼€å§‹æ·»åŠ å­—ç¬¦ä¸² â€œhelloâ€ï¼Œå¹¶è¿”å›å½¢æˆçš„æ–°å­—ç¬¦ä¸²
    insert(x, â€œhelloâ€, y);    // ä» [x] ä½ç½®å¼€å§‹æ·»åŠ å­—ç¬¦ä¸² â€œhelloâ€ çš„å‰ yä¸ªå­—ç¬¦ï¼Œå¹¶è¿”å›å½¢æˆçš„æ–°å­—ç¬¦ä¸²
    insert(x, â€œhelloâ€, y, z); // ä» [x] ä½ç½®å¼€å§‹æ·»åŠ å­—ç¬¦ä¸² â€œhijklmnâ€ çš„ [y]ä½ç½®å¼€å§‹çš„ z ä¸ªè¿ç»­å­—ç¬¦ ï¼ˆåŒ…æ‹¬ [y] åœ¨å†…ï¼‰ï¼Œå¹¶è¿”å›å½¢æˆçš„æ–°å­—ç¬¦ä¸²
	
	erase(x);    // åˆ é™¤ [x] åŠå…¶ä»¥åçš„å­—ç¬¦ï¼Œå¹¶è¿”å›å½¢æˆçš„æ–°å­—ç¬¦ä¸²
	erase(x, y); // åˆ é™¤ä» [x] å¼€å§‹çš„ y ä¸ªå­—ç¬¦ï¼Œå¹¶è¿”å›å½¢æˆçš„æ–°å­—ç¬¦ä¸²
	
	æŸ¥æ‰¾
	find(" ");     // è¿”å›å­—ç¬¦ä¸² " " åœ¨ str çš„ä½ç½®ï¼›
    find(" ", x);  // åœ¨ str[x] ~ str[n - 1] **(x<nï¼Œä¸‹åŒ)**èŒƒå›´å†…æŸ¥æ‰¾å¹¶è¿”å›å­—ç¬¦ä¸² " " åœ¨ str çš„ä½ç½®ï¼›
    rfind(" ", x); // åœ¨ str[0] ~ str[x] èŒƒå›´å†…æŸ¥æ‰¾å¹¶è¿”å›å­—ç¬¦ä¸² " " åœ¨ str çš„ä½ç½®ï¼›
    
    string ä¸ char* ç›¸äº’æ‹·è´
        char *  è½¬æˆ stringï¼Œç›´æ¥èµ‹å€¼
            string s1 = "aaa";
        
        string è½¬æˆ char *ï¼Œè°ƒç”¨ç±»æ–¹æ³•
            æ³•ä¸€ï¼šåªéœ€è°ƒç”¨ c_str() æ–¹æ³•
                printf("%s\n", s1.c_str());
            æ³•äºŒï¼šè°ƒç”¨ copy() æ–¹æ³•
                char buf[128];
                s1.copy(buf, 3 ,0);  // æŠŠstringä¸­çš„å†…å®¹copyåˆ°char *ç±»å‹çš„bufä¸­ï¼Œä»ä½ç½®0å¼€å§‹æ‹·è´3ä¸ªåˆ°bufä¸­
    
    
    first ç±»æ–¹æ³•
    find_first_of(" ");       // è¿”å› " " ä¸­ä»»ä½•ä¸€ä¸ªå­—ç¬¦é¦–æ¬¡åœ¨ str ä¸­å‡ºç°çš„ä½ç½®ï¼›
    find_first_of(" ", x);    // è¿”å› " " ä¸­ä»»ä½•ä¸€ä¸ªå­—ç¬¦é¦–æ¬¡åœ¨ str[x]~str[n-1] èŒƒå›´ä¸­å‡ºç°çš„ä½ç½®ï¼›
    find_first_not_of(" ");   // è¿”å›é™¤ " " ä»¥å¤–çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦åœ¨ str ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼›
    find_first_not_of(" ", x);// è¿”å›é™¤ " " ä»¥å¤–çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦åœ¨ str[x]~str[n-1] èŒƒå›´ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼›
    
    last ç±»æ–¹æ³•
    find_last_of(" ");          // è¿”å› " " ä¸­ä»»ä½•ä¸€ä¸ªå­—ç¬¦æœ€åä¸€æ¬¡åœ¨ str ä¸­å‡ºç°çš„ä½ç½®ï¼›
    find_last_of(" ", x);       // è¿”å› " " ä¸­ä»»ä½•ä¸€ä¸ªå­—ç¬¦æœ€åä¸€æ¬¡åœ¨ str[0]~str[x] èŒƒå›´ä¸­å‡ºç°çš„ä½ç½®ï¼›
    find_last_not_of(" ");      // è¿”å›é™¤ " " ä»¥å¤–çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦åœ¨ str ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼›
    find_last_not_of(" ", x);   // è¿”å›é™¤ " " ä»¥å¤–çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦åœ¨ str[0]~str[x] èŒƒå›´ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼›
	ä»¥ä¸Šå¦‚æœæ²¡æœ‰æ‰¾åˆ°ç›¸å¯¹åº”çš„å­—ç¬¦ï¼Œå‡è¿”å›string::npos
	
	æ›¿æ¢
	replace(x,y,â€œhelloâ€)ï¼›     // è¿”å›æŠŠ [x]~[x+(y-1)] çš„å†…å®¹æ›¿æ¢ä¸º â€œhelloâ€ åçš„æ–°å­—ç¬¦ä¸²
    replace(x, y, â€œabcdâ€, z); // è¿”å›æŠŠ [x]~[x+(y-1)] çš„å†…å®¹æ›¿æ¢ä¸º â€œabcdâ€ çš„å‰zä¸ªå­—ç¬¦åçš„æ–°å­—ç¬¦ä¸²
    
    å­ä¸²
    substr(x)ï¼›  // è¿”å›[x]åŠä»¥åçš„å­å­—ç¬¦ä¸²
    substr(x,y)ï¼›// è¿”å›[x]~[x+(y-1)]çš„å­å­—ç¬¦ä¸²ï¼ˆå³ä»[x]å¼€å§‹çš„yä¸ªè¿ç»­å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²ï¼‰
*/
```

ç†è§£ï¼š

- [C++åˆé˜¶ï¼šStringç±»_AKAä½ çš„é—ºèœœçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/yourfriendyo/article/details/123267922)ã€‚
- [C++ Stringç±»çš„ç†è§£_ä¸€åªåå«äºŒæ¯›çš„çŒ«çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/cherry_ermao/article/details/51051640)ã€‚
- [ Stringç±»çš„ç†è§£_mm1296939448çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/mm1296939448/article/details/114982153)ã€‚



#### æµçš„æ ¼å¼æ§åˆ¶

è¿™é‡Œé¢æ–¹æ³•å¾ˆå¤šï¼Œéš¾å…¨è®°ï¼Œæ‰€ä»¥**å®é™…å¸¸é—® AI å·¥å…·å»å†™**ã€‚

å‚è€ƒ [C++è¾“å‡ºæµæ ¼å¼æ§åˆ¶_iomanip_51CTOåšå®¢_c++ è¾“å‡ºæ ¼å¼æ§åˆ¶](https://blog.51cto.com/u_15790456/6569587)ï¼Œ[C++è¾“å…¥è¾“å‡ºæµæ ¼å¼æ§åˆ¶_c++è¾“å…¥è¾“å‡ºæ ¼å¼æ§åˆ¶_GNGçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/so_geili/article/details/70406921)ã€‚

ä¸¤ç§æ–¹å¼ï¼šå…·ä½“å†™å‘çœ‹å‚è€ƒå³å¯ã€‚

- ä½¿ç”¨æ§åˆ¶ç¬¦ï¼šå¼•ç”¨å¤´æ–‡ä»¶ `iomanip`ï¼Œä½¿ç”¨æ–¹å¼ `cout << æ§åˆ¶ç¬¦ << æ•°æ® << endl;`ã€‚
- ä½¿ç”¨ cout æˆå‘˜å‡½æ•°ï¼šä¾‹å¦‚ `cout.setf(ios::left);// è®¾ç½®å·¦å¯¹é½`ï¼Œ`cout.width(4);// å®½åº¦ä¸º4`ï¼Œ`cout.precision(2);// è®¾ç½®æµ®ç‚¹æ•°ç²¾åº¦ä¸º2` ç­‰ç­‰ã€‚



#### std::string_view

> é€šå¸¸æˆ‘ä»¬ä¼ é€’ä¸€ä¸ªstringæ—¶ä¼šè§¦å‘å¯¹è±¡çš„æ‹·è´æ“ä½œï¼Œå¤§å­—ç¬¦ä¸²çš„æ‹·è´èµ‹å€¼æ“ä½œä¼šè§¦å‘å †å†…å­˜åˆ†é…ï¼Œå¾ˆå½±å“è¿è¡Œæ•ˆç‡ï¼Œæœ‰äº†string_viewå°±å¯ä»¥é¿å…æ‹·è´æ“ä½œï¼Œå¹³æ—¶ä¼ é€’è¿‡ç¨‹ä¸­ä¼ é€’string_viewå³å¯ã€‚
>
> ```c++
> void func(std::string_view stv) { cout << stv << endl; }
> 
> int main(void) {
>     std::string str = "Hello World";
>     std::cout << str << std::endl;
> 
>     std::string_view stv(str.c_str(), str.size());
>     cout << stv << endl;
>     func(stv);
>     return 0;
> }
> ```
>
> 



### å®¹å™¨

é¦–è¦è¯´æ˜ï¼Œä»¥ä¸‹åˆ—å‡ºå¸¸ç”¨å®¹å™¨ï¼Œæœ‰çš„å¯ç»„åˆä½¿ç”¨ã€‚**å„å®¹å™¨çš„æ–¹æ³•ï¼Œå¯ä»¥åœ¨ [cppreference](https://zh.cppreference.com/w/%E9%A6%96%E9%A1%B5) é‡Œç°æ‰¾ï¼Œæˆ–è€… [C++ Standard Library Containers | hacking C++ (hackingcpp.com)](https://hackingcpp.com/cpp/std/containers.html)**ã€‚

æ³¨æ„æ‰€æœ‰å®¹å™¨ä½¿ç”¨ at() æ–¹æ³• ç­‰çš„æ—¶å€™ï¼Œè‹¥æ²¡æœ‰é¡¹ åˆ™ä¼šæŠ›å¼‚å¸¸ï¼Œè¦å¤„ç†ï¼

å‚è€ƒï¼š

- éƒ½æœ‰ä»€ä¹ˆ [å®¹å™¨åº“ - cppreference.com](https://zh.cppreference.com/w/cpp/container)ã€‚
- [c++å®¹å™¨--vector deque list set map stack queueç‰¹æ€§åŠå…¶é€‰å–å‡†åˆ™_è·¯è¿‡çš„å°ç†Š~çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/qq_32348883/article/details/123223993)ã€‚



å¸¸ç”¨çš„ï¼š

- vectorï¼ŒåŠ¨æ€æ•°ç»„ï¼Œå†…å­˜è¿ç»­ï¼Œå¢åˆ  O(n)ï¼Œæ”¹æŸ¥ O(1)

- listï¼Œé“¾è¡¨ç»“æ„ï¼Œå†…å­˜ä¸è¿ç»­ï¼Œå¢åˆ  O(1)ï¼Œæ”¹æŸ¥ O(n)

- setï¼Œå¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ˆçº¢é»‘æ ‘ï¼‰ï¼Œæœ‰åºçš„ã€ä¸é‡å¤çš„å…ƒç´ é›†åˆï¼Œåˆ›å»ºæ—¶å¯æŒ‡å®šè‡ªå®šä¹‰æ’åº æ’å…¥æ—¶å³æ’å¥½åºï¼ŒæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤ O(logn)

- mapï¼Œçº¢é»‘æ ‘ï¼Œåªå¯å¯¹ key æ’åºï¼Œæ’å…¥çš„æ—¶é—´æ˜¯O(logn),æŸ¥è¯¢æ—¶é—´æ˜¯O(logn)ï¼Œä¸å…è®¸é‡å¤ keyï¼Œè‹¥æœ‰é‡å¤ key åˆ™ç”¨ mutilmap

  æ³¨æ„ï¼šset å’Œ map å®šä¹‰å¥½æ’åºè§„åˆ™å æ–°æ’å…¥æ•°æ® å°±æ’åºå¥½ï¼ˆéå†å‡ºæ¥ï¼‰ï¼Œè¿™ç§æ•°æ®ç»“æ„ä¸å»ºè®®ä¸­é€”æ”¹æ’åºè§„åˆ™ï¼Œå› ä¸ºéœ€è¦å…¨æ¸…

  è‹¥è¦ æ’å…¥å’Œæœç´¢ å‡ä¸º O(1) ä¸”åˆèƒ½éšæ—¶æ’åº çš„ æ•°æ®ç»“æ„ï¼Œå‚è€ƒä½¿ç”¨ ç»“åˆ list + unordered_map çš„ LRU

- unordered_mapï¼Œå“ˆå¸Œï¼Œä¸å¯æ’åºï¼Œæ’å…¥çš„æ—¶é—´æ˜¯ O(logn)ï¼ŒæŸ¥è¯¢æ—¶é—´æ˜¯ O(1)ï¼Œå…¶å®ƒåŸºæœ¬åŒ map



è¿™äº›å®¹å™¨å¸¸ç”¨çš„æ“ä½œè¦ç†Ÿæ‚‰ï¼šæ’å…¥ï¼ˆpush_back()ã€[]ã€insert()ï¼‰ã€æŸ¥æ‰¾ï¼ˆfind()ï¼‰ã€éå†ï¼ˆç†Ÿæ‚‰è¿­ä»£å™¨ä½¿ç”¨ï¼‰ï¼Œè¿˜æœ‰æ’åºï¼ˆstdæä¾›çš„æ’åºï¼Œè‡ªå®šä¹‰æ’åºï¼‰

åˆ é™¤èŠ‚ç‚¹ï¼Œéå†åˆ é™¤èŠ‚ç‚¹ç­‰ã€‚

éå†ï¼Œä¸€èˆ¬ç”¨ `for (it = myMap.begin(); it != myMap.end(); it++)` å’Œ `for (const auto& elem : myMap)` è¿™ä¸¤ç§



#### åŸºç¡€ç±»å‹ vector / list / stack / queue ...

**vector**

- [C++Vectorä½¿ç”¨æ–¹æ³• - mengfanrong - åšå®¢å›­ (cnblogs.com)](https://www.cnblogs.com/mengfanrong/p/3770971.html)ã€‚

```c++
#include <vector>

vector< typeName > v4(n);   // v4å«æœ‰nä¸ªå€¼ä¸º0çš„å…ƒç´ 
vector< typeName > v3(n,i); // v3åŒ…æ‹¬nä¸ªå€¼ä¸ºiçš„typeNameç±»å‹å…ƒç´ 

vector< typeName > v1;      // é»˜è®¤v1ä¸ºç©ºï¼Œæ•…ä»¥ä¸‹çš„èµ‹å€¼æ˜¯é”™è¯¯çš„v1[0]=5;
vector< typeName > v2(v1);  // v2æ˜¯v1çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œè‹¥v1.sizeï¼ˆï¼‰>v2.size()åˆ™èµ‹å€¼åv2.size()è¢«æ‰©å……ä¸ºv1.size()
// æˆ– v2 = v1;
// æˆ– vector<typeName> v2(v1.begin(), v1.end());
// æˆ– int a[4]={0,1,2,3,3}; vector<int> v5(a,a+5); // v5çš„sizeä¸º5ï¼Œv5è¢«åˆå§‹åŒ–ä¸ºaçš„5ä¸ªå€¼ã€‚åä¸€ä¸ªæŒ‡é’ˆè¦æŒ‡å‘å°†è¢«æ‹·è´çš„æœ«å…ƒç´ çš„ä¸‹ä¸€ä½ç½®

/* vectorå¯¹è±¡æœ€é‡è¦çš„å‡ ç§æ“ä½œ
	v.push_back(t)     åœ¨å®¹å™¨çš„æœ€ååŠ å…¥ä¸€ä¸ªå€¼ä¸ºtçš„æ•°æ®ï¼Œå®¹å™¨çš„sizeå˜å¤§
	v.pop_back()       åˆ é™¤å®¹å™¨çš„æœ«å…ƒç´ ï¼Œå¹¶ä¸è¿”å›è¯¥å…ƒç´ 
	v.insert(pointer,number, content)    å‘vä¸­pointeræŒ‡å‘çš„ä½ç½®æ’å…¥numberä¸ªcontentçš„å†…å®¹
    v.insert(pointer, content) æˆ– v.insert(pointer,a[2],a[4]) å°†a[2]åˆ°a[4]ä¸‰ä¸ªå…ƒç´ æ’å…¥
    
	v.size()           è¿”å›å®¹å™¨ä¸­æ•°æ®çš„ä¸ªæ•°ï¼Œsizeè¿”å›å¯¹åº”vectorç±»å®šä¹‰çš„size_typeçš„å€¼ã€‚
	v.resize(2*v.size) æˆ– v.resize(2*v.size, 99) å°†vçš„å®¹é‡ç¿»å€(å¹¶æŠŠæ–°å…ƒç´ çš„å€¼åˆå§‹åŒ–ä¸º99)
	
	v.empty()         åˆ¤æ–­vectoræ˜¯å¦ä¸ºç©º
	
	v.clear()         åˆ é™¤å®¹å™¨ä¸­çš„å…¨éƒ¨å…ƒç´ 
	
	v[n]              è¯»å†™vä¸­ä½ç½®ä¸ºnçš„å…ƒç´ ï¼Œä¸‹æ ‡ä»…ä»…èƒ½ç”¨äºè¯»å†™å·²å­˜åœ¨çš„å…ƒç´ 
	
	v1 == v2          åˆ¤æ–­v1ä¸v2æ˜¯å¦ç›¸ç­‰
	!=ã€<ã€<=ã€>ã€>=    ä¿æŒè¿™äº›æ“ä½œç¬¦æƒ¯æœ‰å«ä¹‰
*/

// éå†æ‰€æœ‰é¡¹
void print(const std::vector<int>& vec) {
    for (const auto& i : vec) {
        std::cout << i << ' ';
    }
    std::cout << std::endl;
}

// åˆ é™¤æŸä¸ªé¡¹çš„æ–¹æ³•
void erase(std::vector<int>& vec, int a) {
    for (auto iter = vec.begin(); iter != vec.end();) {
        if (*iter == a) {
            iter = vec.erase(iter); // erase è¿”å› å½“å‰é¡¹çš„ä¸‹ä¸€é¡¹çš„è¿­ä»£å™¨
        } else {
            ++iter;
        }
    }
}
```

vector è¿­ä»£å™¨ç”¨æ³•ï¼š

[C++ STL vectorå®¹å™¨è¿­ä»£å™¨ç”¨æ³•è¯¦è§£ (biancheng.net)](http://c.biancheng.net/view/6803.html)ã€‚



çœŸæ­£å¯ä»¥é‡Šæ”¾å†…å­˜çš„æ–¹æ³•æ˜¯åŒæ—¶è°ƒç”¨ `clear()` ä¸ `shrink_to_fit()` å‡½æ•°ï¼Œå…¶å®ƒ å®¹å™¨ åŒç†ã€‚å¯¹äºå†…å­˜å¹¶ä¸ç´§å¼ çš„åœºæ™¯ï¼Œè¿™ä¸ªå¹¶ä¸å¸¸ç”¨ã€‚

[C++ STLæ ‡å‡†åº“å®¹å™¨çœŸæ­£å‡å°‘ç©ºé—´çš„æ–¹æ³•_vsä¸­çš„std::listæ€ä¹ˆå¼ºåˆ¶æ¸…ç©ºå†…å­˜-CSDNåšå®¢](https://blog.csdn.net/davidhopper/article/details/128641573)ã€‚



C++11ä¸­çš„emplace_backä¸push_backåŒºåˆ«

[C++11ä¸­çš„emplace_backä¸push_backåŒºåˆ«_emplacebackå’Œpushback-CSDNåšå®¢](https://blog.csdn.net/qq_44918090/article/details/123539708)
[emplaceã€emplace_backç­‰_emplace()å‡½æ•°çš„ç”¨æ³•-CSDNåšå®¢](https://blog.csdn.net/qq_44918090/article/details/129676961)

ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œåœ¨å¯¹vectorçš„æ’å…¥è¿‡ç¨‹ä¸­ï¼Œpush_backæ–¹æ³•æ„é€ äº†ä¸€æ¬¡ï¼Œç§»åŠ¨äº†ä¸¤æ¬¡ï¼›ä½¿ç”¨emplace_backåªè¿›è¡Œäº†ä¸€æ¬¡æ„é€ ï¼Œæ²¡æœ‰è¿›è¡Œå†…å­˜çš„ç§»åŠ¨ã€‚

å¯¹äºæŠŠè¾ƒå¤æ‚çš„ç±»ï¼ˆC++ å®¹å™¨å¦‚ vector / list / map ç­‰ï¼‰ä½œä¸ºå®¹å™¨çš„åŸºæœ¬å•ä½ï¼Œå‘å®¹å™¨æ·»åŠ å…ƒç´ çš„æ—¶å€™å»ºè®® emplace_back()ï¼Œå…¶å®ƒåŸç”Ÿç±»å‹ï¼ˆchar / int ç­‰ï¼‰ç­‰å»ºè®®ç”¨ push_back()ï¼Œ

è‡ªå·±å®šä¹‰ç±»çš„æ„é€ å‡½æ•°ï¼Œå¯ä»¥æä¾›å…¨ï¼šä¸€èˆ¬æ„é€ å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ï¼ˆ`className&`ï¼‰ã€ç§»åŠ¨æ„é€ å‡½æ•°ï¼ˆ`&&` å’Œ `std::move()`ï¼‰ã€‚



**list**

é“¾è¡¨ã€‚ç”¨æ³•ä¸ std::vector å¤§åŒå°å¼‚ã€‚



[ï¼œC++ï¼ listå®¹å™¨æœ¬è´¨|å¸¸ç”¨æ¥å£|è‡ªå®šä¹‰æ’åºè§„åˆ™_c++ list æ’åº-CSDNåšå®¢](https://blog.csdn.net/m0_58618795/article/details/127259452)ã€‚



å¯¹äºlistï¼Œéå†ï¼ŒæŠŠç¬¦åˆæŸä¸ªæ¡ä»¶çš„é¡¹åˆ æ‰ç»™å¦ä¸€ä¸ªlist

```c++
std::list<std::string> dirs;
std::list<std::string> filesDirs_;

for(std::list<std::string>::iterator it = filesDirs_.begin() ; it != filesDirs_.end() ; ) {
    if(it->isDir ...) {
        dirs.push_back((*it));
        // Accept the iterator returned by "erase", it point to next node
        it = filesDirs_.erase(it);
        continue;
    }
    it++;
}
```



**forward_list**

> å•å‘é“¾è¡¨ï¼Œåªå¯ä»¥å‰è¿›ï¼Œåœ¨ç‰¹å®šåœºæ™¯ä¸‹ä½¿ç”¨ï¼Œç›¸æ¯”äºstd::listèŠ‚çœäº†å†…å­˜ï¼Œæé«˜äº†æ€§èƒ½



**array**

å‚è€ƒï¼š[C++ array_æ˜Ÿç©ºé‚£ä¹ˆäº®çš„åšå®¢-CSDNåšå®¢_c++array](https://blog.csdn.net/qq_26646107/article/details/106967633)ã€‚[C++åŸºç¡€ä¹‹å®¹å™¨â€”â€”arrayè¯¦è§£_helpburnçš„åšå®¢-CSDNåšå®¢_array c++](https://blog.csdn.net/itlilyer/article/details/107561110)ã€‚

array æ˜¯åºåˆ—å¼å®¹å™¨ï¼Œç±»ä¼¼äº C è¯­è¨€çš„æ•°ç»„ï¼Œæ˜¯å›ºå®šå¤§å°çš„ï¼Œä¸€æ—¦å®šä¹‰å®Œæˆåå°±æ— æ³•è¿›è¡Œæ‰©å®¹æˆ–æ”¶ç¼©ã€‚

```c++
#include <array>

std::array<int, 4> arr = { 1, 3, 2, 4 };

for (auto it = arr.begin(); it != arr.end(); it++) 
{
		std::cout << *it << " ";
}
```

æœ‰æ–¹æ³•ï¼šbeginï¼ˆè¿”å›ä¸€ä¸ªæŒ‡å‘arrayå®¹å™¨ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ï¼Œè¿­ä»£å™¨å¯ä»¥éšæœºç§»åŠ¨å’Œè®¿é—®å…ƒç´ ï¼‰ï¼Œendï¼Œsizeï¼Œmax_sizeï¼Œemptyï¼Œatï¼Œfrontï¼ˆè¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ çš„å¼•ç”¨ï¼‰ï¼Œbackï¼Œdataï¼Œfillï¼Œswap ç­‰ã€‚



**deque**

å‚è€ƒï¼š

- [C++â€”â€”dequeçš„äº†è§£å’Œä½¿ç”¨_c++ deque-CSDNåšå®¢](https://blog.csdn.net/2301_80401288/article/details/144226678)ã€‚
- [std::deque - cppreference.com](https://zh.cppreference.com/w/cpp/container/deque)ã€‚

> Dequeæ˜¯ä¸€ç§çº¿æ€§æ•°æ®ç»“æ„ï¼Œå®ƒå…è®¸**åœ¨ä¸¤ç«¯è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œ**ã€‚è¿™ä¸¤ç«¯é€šå¸¸è¢«ç§°ä¸ºå‰ç«¯ï¼ˆfrontï¼‰å’Œåç«¯ï¼ˆrearï¼‰ï¼Œæˆ–è€…ç«¯ç‚¹1å’Œç«¯ç‚¹2ã€‚Dequeçš„çµæ´»æ€§åœ¨äºï¼Œå®ƒæ—¢å¯ä»¥ç”¨ä½œé˜Ÿåˆ—ï¼ˆFIFOï¼Œå…ˆè¿›å…ˆå‡ºï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨ä½œæ ˆï¼ˆLIFOï¼Œåè¿›å…ˆå‡ºï¼‰ï¼Œå…·ä½“å–å†³äºå…ƒç´ çš„æ’å…¥å’Œåˆ é™¤æ“ä½œæ˜¯åœ¨å“ªä¸€ç«¯è¿›è¡Œçš„ã€‚dequeæ˜¯C++STLï¼ˆæ ‡å‡†æ¨¡æ¿åº“ï¼‰ä¸­çš„ä¸€ç§å®¹å™¨ï¼Œå¯ä»¥ç”¨äºå­˜å‚¨å„ç§ç±»å‹çš„å…ƒç´ ã€‚dequeçš„ç‰¹ç‚¹æ˜¯å¯ä»¥åœ¨é˜Ÿåˆ—çš„ä¸¤ç«¯è¿›è¡Œå…ƒç´ çš„æ“ä½œï¼Œå¹¶ä¸”å¯ä»¥é«˜æ•ˆåœ°åœ¨é˜Ÿåˆ—çš„ä»»æ„ä½ç½®è¿›è¡Œå…ƒç´ çš„æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚
>



**stack**

å‚è€ƒï¼š[c++ stackç”¨æ³•è¯¦è§£_æ–¯æ–‡ï½çš„åšå®¢-CSDNåšå®¢_c++ stack](https://blog.csdn.net/weixin_52341477/article/details/119250698)ã€‚[C++ä¸­stackä½¿ç”¨è¯¦ç»†è¯´æ˜_æƒ³å»çš„è¿œæ–¹çš„åšå®¢-CSDNåšå®¢_c++stackç”¨æ³•](https://blog.csdn.net/qq_42185999/article/details/115346850)ã€‚

åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰æ•°æ®ç»“æ„çš„å®ç°ã€‚

```c++
#include <stack>

/*
    stack<int> q;	// ä»¥intå‹ä¸ºä¾‹
    q.push(x);		// å°† int ç±»å‹çš„ x å‹å…¥æ ˆé¡¶ï¼ˆæ ˆé¡¶ï¼Œå³å½“å‰æ ˆæŒ‡é’ˆæ‰€æŒ‡å‘çš„ä½ç½®ï¼Œéšç€å…¥æ ˆä¼šç§»åŠ¨ï¼‰
    q.top();		// è¿”å›æ ˆé¡¶çš„å…ƒç´ ï¼Œå³è¿”å›å½“å‰æ ˆæŒ‡é’ˆæ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œåªè¿”å›å…ƒç´ ä½†ä¸å¼¹å‡º
    q.pop();		// åˆ é™¤æ ˆé¡¶çš„å…ƒç´ ï¼Œä½†ä¸è¿”å›ï¼Œåº”è¯¥å…ˆç”¨ q.top(); å–å‡ºæ•°æ®å†å¼¹å‡ºï¼
    	å³ cout << ss.top(); ss.pop(); æ‰§è¡Œè¿™ä¸¤å¥æ‰æ˜¯ä¸€æ¬¡ å–æ•°æ®å’Œå¼¹å‡º
    
    q.size();		// è¿”å›æ ˆä¸­å…ƒç´ çš„ä¸ªæ•°
    q.empty();		// æ£€æŸ¥æ ˆæ˜¯å¦ä¸ºç©º,è‹¥ä¸ºç©ºè¿”å›true,å¦åˆ™è¿”å›false
*/
```



**queue**

å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰æ•°æ®ç»“æ„çš„å®ç°ã€‚

å‚è€ƒ

- [c++ stl queueï¼ˆFIFOï¼Œå®¹å™¨é…æ¥å™¨ï¼‰_c++ stl fifo-CSDNåšå®¢](https://blog.csdn.net/lz_obj/article/details/79257076)ã€‚
- [std::queue - cppreference.com](https://zh.cppreference.com/w/cpp/container/queue)ã€‚

> ä»åº•ç«¯åŠ å…¥å…ƒç´ ï¼Œé¡¶ç«¯å–å¾—å…ƒç´ ï¼›é™¤äº†è¿™ä¸¤ç§ï¼Œæ²¡æœ‰å…¶å®ƒæ–¹æ³•å¯ä»¥å­˜å–queueçš„å…ƒç´ ã€‚
>
> å°†å…ƒç´ æ¨å…¥queueçš„æ“ä½œç§°ä¸ºpushï¼Œå°†å…ƒç´ æ¨å‡ºqueueçš„æ“ä½œç§°ä¸ºpopã€‚
>
> åªæœ‰queueé¡¶ç«¯çš„å…ƒç´ ï¼Œæ‰æœ‰æœºä¼šè¢«å¤–ç•Œå–ç”¨ã€‚queueä¸æä¾›éå†åŠŸèƒ½ï¼Œä¹Ÿä¸æä¾›è¿­ä»£å™¨ã€‚



**set**

å‚è€ƒï¼š[c++ setç”¨æ³•è¯¦è§£_æ–¯æ–‡ï½çš„åšå®¢-CSDNåšå®¢_c++ set](https://blog.csdn.net/weixin_52341477/article/details/119248919)ã€‚[c++ STLå®¹å™¨setå®¹å™¨å°ç»“_c++ set string æŸ¥æ‰¾æ•ˆç‡-CSDNåšå®¢](https://blog.csdn.net/weixin_44487068/article/details/122704778)ã€‚

setå°±æ˜¯é›†åˆï¼ŒSTLçš„setç”¨äºŒå‰æ ‘å®ç°ï¼Œé›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡(å‚ç…§æ•°å­¦ä¸­é›†åˆçš„äº’æ–¥æ€§)ï¼Œå¹¶ä¸”æ˜¯æ’å¥½åºçš„(é»˜è®¤æŒ‰é”®å€¼å‡åºæ’åˆ—ï¼Œå¯ä»¥æ”¹ä¸ºé™åº)ï¼Œè®¿é—®å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(log_â¡2 n)ã€‚

åœ¨æ’å…¥æ—¶å°±æ’åºäº†ï¼ˆæ³¨æ„è‹¥itemæ˜¯ç»“æ„ä½“ä¹‹ç±»äº†çš„ï¼Œå…¶å†…çš„å€¼æ”¹å˜ä¸ä¼šé‡æ–°æ’åºï¼Œè¦æ”¹å˜çš„æ˜¯itemæ‰ä¼šè§¦å‘é‡æ–°æ’åºï¼‰ã€‚

ä»¥ä¹±åº insert æ•°æ®ä¹‹åï¼Œç”¨å…¶ è¿­ä»£å™¨ `set<int>::iterator i;` æ¥ä»å¤´åˆ°å°¾å–æ•°æ® `for( i=q.begin();i!=q.end();i++)   cout<<i<<" ";` è¾“å‡º `1 2 3 4`ï¼Œå¯è§è‡ªåŠ¨æŒ‰é”®å€¼æ’åºã€‚

ä½¿ç”¨çœ‹ä¸Šé¢é“¾æ¥é‡Œçš„æ•™ç¨‹å³å¯ã€‚



å¯è‡ªå®šä¹‰æ’åºï¼Œåœ¨æ¯æ¬¡ insert æ“ä½œæ—¶è‡ªåŠ¨è¿›è¡Œé‡æ–°æ’åºï¼›set çš„ item è®¾ç½®ä¸º structï¼Œä¹Ÿå¯ä»¥æ’å…¥æ—¶æ’åºï¼Œæœç´¢ä¹Ÿæ¯”é“¾è¡¨å¿«ã€‚



å…è®¸ç›¸åŒå…ƒç´ å‡ºç°å¤šæ¬¡ï¼š**multiset**

å“ˆå¸Œå®ç°çš„ setï¼š **unordered_set**



**map**

å‚è€ƒï¼š[c++ä¸­mapè¯¦è§£_å—¯å—¯å¥½çš„å‘¢ï¼çš„åšå®¢-CSDNåšå®¢_c++ map](https://blog.csdn.net/m0_67403076/article/details/124503868)ã€‚[ã€c++ã€‘mapç”¨æ³•è¯¦è§£_LeeMooqçš„åšå®¢-CSDNåšå®¢_c++ map](https://blog.csdn.net/yyhyyhy/article/details/124531264)ã€‚

ä»¥é”®å€¼å¯¹å­˜å‚¨çš„æ•°æ®ï¼Œå…¶ç±»å‹å¯ä»¥è‡ªå·±å®šä¹‰ï¼Œæ¯ä¸ªå…³é”®å­—åœ¨mapä¸­åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œå…³é”®å­—ä¸èƒ½ä¿®æ”¹ï¼Œå€¼å¯ä»¥ä¿®æ”¹ï¼›mapåŒsetã€multisetã€multimapï¼ˆä¸mapçš„å·®åˆ«ä»…åœ¨äºmultimapå…è®¸ä¸€ä¸ªé”®å¯¹åº”å¤šä¸ªå€¼ï¼‰å†…éƒ¨æ•°æ®ç»“æ„éƒ½æ˜¯çº¢é»‘æ ‘ï¼Œè€Œjavaä¸­çš„hashmapæ˜¯ä»¥hash tableå®ç°çš„ã€‚æ‰€ä»¥mapå†…éƒ¨æœ‰åºï¼ˆè‡ªåŠ¨æ’åºï¼Œå•è¯æ—¶æŒ‰ç…§å­—æ¯åºæ’åºï¼‰ï¼ŒæŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦ä¸ºO(logn)ã€‚

ä½¿ç”¨çœ‹ä¸Šé¢é“¾æ¥é‡Œçš„æ•™ç¨‹å³å¯ã€‚



å¯è‡ªå®šä¹‰æ’åºï¼ˆå†™è‡ªå®šä¹‰æ’åºå‡½æ•°ï¼Œæ ¹æ®è¾“å…¥æ¡ä»¶å¿…é¡»æœ‰trueå’Œfalseï¼‰ã€‚

[å¯¹std::mapè¿›è¡Œæ’åº-CSDNåšå®¢](https://blog.csdn.net/dizi9750/article/details/101448350)ã€‚



å“ˆå¸Œå®ç°çš„ mapï¼š **unordered_map**ï¼Œè§ä¸‹é¢ **hash** çš„ä»‹ç»



#### å“ˆå¸Œç±»å‹ hash

å³ unordered_mapï¼ˆhash é”®å€¼å¯¹ï¼‰ å’Œ unordered_setï¼ˆhash é›†åˆï¼‰ç­‰ã€‚

ä½¿ç”¨ï¼š

- [C++ vectorå’Œunordered_mapæµ…æ_weixin_30678821çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/weixin_30678821/article/details/99304348)ã€‚
- [unordered_map ç®€ä»‹_è èå¼€æ–¹çš„åšå®¢-CSDNåšå®¢_unordered_map](https://blog.csdn.net/qq_40838478/article/details/114664223)ã€‚
- [C++: unordered_mapå¸¸è§ç”¨æ³•_é“çºªä¹¦ç”Ÿçš„åšå®¢-CSDNåšå®¢_c++ unordered_mapç”¨æ³•](https://blog.csdn.net/qq_40682833/article/details/119933215)ã€‚
- [map/unordered_mapåŸºç¡€ç”¨æ³•_unorderedmapç”¨æ³•-CSDNåšå®¢](https://blog.csdn.net/weixin_36670529/article/details/107038261)ã€‚

è¿™é‡Œåªé’ˆå¯¹ unordered_mapï¼Œä½¿ç”¨ hash æ•°æ®ç»“æ„ï¼Œæ— åºï¼ˆæ²¡æœ‰é¡ºåºï¼‰ï¼Œä¸€æ˜¯å…¶ä¸ºé”®å€¼å¯¹ç»“æ„ï¼ŒäºŒæ˜¯å…¶æœç´¢æ—¶é—´å¤æ‚åº¦å¯è¾¾ O(1)ï¼Œæœç´¢é—®é¢˜éƒ½å¯ä»¥ä¸Š unordered_map æ¥å‡å°æ—¶é—´å¤æ‚åº¦ã€‚æ— è®ºä»æŸ¥æ‰¾ã€æ’å…¥ä¸Šæ¥è¯´ï¼Œunordered_map çš„æ•ˆç‡éƒ½ä¼˜äº hash_mapï¼ˆjavaé‡Œé¢çš„ï¼‰ï¼Œæ›´ä¼˜äºmapï¼›è€Œç©ºé—´å¤æ‚åº¦æ–¹é¢ï¼Œhash_mapæœ€ä½ï¼Œunordered_mapæ¬¡ä¹‹ï¼Œmapæœ€å¤§ã€‚å¯¹äºé‚£äº›æœ‰é¡ºåºè¦æ±‚çš„é—®é¢˜ï¼Œç”¨ map ä¼šæ›´é«˜æ•ˆä¸€äº›ã€‚å¯¹äºæŸ¥æ‰¾é—®é¢˜ï¼Œunordered_map ä¼šæ›´åŠ é«˜æ•ˆä¸€äº›ã€‚

æ— åºæ˜ å°„ï¼ˆUnordered mapsï¼‰æ˜¯ç”¨äºå­˜å‚¨é”®å€¼å’Œæ˜ å°„å€¼ç»„åˆæˆçš„å…ƒç´ çš„å…³è”å®¹å™¨ï¼Œå¹¶å…è®¸åŸºäºå…¶é”®å¿«é€Ÿæ£€ç´¢å„ä¸ªå…ƒç´ ã€‚åœ¨unordered_mapä¸­ï¼Œé”®å€¼é€šå¸¸ç”¨äºå”¯ä¸€åœ°æ ‡è¯†å…ƒç´ ï¼Œè€Œæ˜ å°„å€¼æ˜¯å…·æœ‰ä¸è¯¥é”®å…³è”çš„å†…å®¹çš„å¯¹è±¡ã€‚é”®çš„ç±»å‹å’Œæ˜ å°„çš„å€¼å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚

```c++
#include <unordered_map>

unordered_map<char, int> map;
unordered_map<int, string> myMap = { { 5, "å¼ å¤§" },{ 6, "æäº”" } }; // ä½¿ç”¨{}èµ‹å€¼


// æ’å…¥å…ƒç´ 
map['a'] = 1;      // æ•°ç»„å½¢å¼ï¼Œè‹¥å­˜åœ¨åˆ™æ˜¯ä¿®æ”¹
map.insert( { {'b',2} , {'c',3} } ); // ç›´æ¥æ’å…¥ï¼Œè¿™é‡Œæ˜¯èŠ±æ‹¬å·

myMap[2] = "æå››";  // æ•°ç»„å½¢å¼ï¼Œè¿›è¡Œå•ä¸ªæ’å…¥ï¼Œè‹¥å·²å­˜åœ¨é”®å€¼2ï¼Œåˆ™èµ‹å€¼ä¿®æ”¹ï¼Œè‹¥æ— åˆ™æ’å…¥
myMap.insert(pair<int, string>(3, "é™ˆäºŒ")); // ä½¿ç”¨insertå’Œpairæ’å…¥ï¼Œè¿™é‡Œæ˜¯æ‹¬å·

// ä¿®æ”¹å…ƒç´ 
// ä½¿ç”¨ map[é”®] = å€¼; é€šè¿‡ é”® æ¥ è¯»å†™ å€¼
map['a'] = 0;

// åˆ é™¤å…ƒç´ 
map.erase('a');          // åˆ é™¤keyä¸º'a'çš„å…ƒç´ 
map.erase(map.begin());  // åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ 

// åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨
if(map.find('a') != map.end()) // find() è¿”å›ä¸€ä¸ªæŒ‡å‘ é”® 'a' çš„è¿­ä»£å™¨
if(map.count('a'))

// æ¸…ç©ºæ‰€æœ‰å…ƒç´ 
map.clear();

// éå†å¹¶å–å‡ºé”®å’Œå€¼

// æ–¹æ³•ä¸€
for (auto it = map.begin(); it != map.end(); it++) 
{
    char key = it->first;
    int  value = it->second;
}

// æ–¹æ³•äºŒ
for( auto& a : map)
{
    char key= a.first;
    int  value= a.second;
}

// åˆ¤æ–­æ˜¯å¦ä¸ºç©º
if( map.empty() )

// æ±‚å…ƒç´ ä¸ªæ•°
map.size();
```



**tuple**

æ•°æ®æ‰“åŒ…ã€‚

> ```c++
> int main() {
>     std::tuple<int, int, int> tuple = std::make_tuple(2, 3, 4);
>     std::cout << "a " << std::get<0>(tuple) << " b " << std::get<1>(tuple) << " c " << std::get<2>(tuple) << "\n";
>     return 0;
> }
> ```
>
> å¼•è‡ª [è¿™äº›çŸ¥è¯†ç‚¹ä½ éƒ½çŸ¥é“å—ï¼Œæµ‹è¯•ä½ çš„C++å…¥é—¨ç¨‹åº¦ (qq.com)](https://mp.weixin.qq.com/s?__biz=MzkyODU5MTYxMA==&mid=2247493075&idx=1&sn=fcabde545f1863d5a1a2095696308b5b&source=41#wechat_redirect)ã€‚

æˆ‘ä¸ªäººä¸æ¨èä½¿ç”¨ std::tupleï¼Œå› ä¸º è§£åŒ… æˆ–è€… è·å–å…¶é¡¹ çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯ `std::get<index>(tuple)`ï¼Œé€šè¿‡ index å¹¶ä¸ç›´è§‚ è€Œä¸” å†™çš„å¾ˆé•¿ ã€‚è¿˜æ˜¯ç”¨ç»“æ„ä½“ï¼Œæ¥æ‰“åŒ…ä¸€ç³»åˆ—ä¸åŒç±»å‹çš„æ•°æ®æ¥è¿›è¡Œä¼ é€’ã€‚

std::pair æ˜¯å…¶ä¸€ä¸ªç‰¹ä¾‹å®ç°ã€‚



å›´ç»• std::tuple æœ‰ä¸å°‘è¾…åŠ©å‡½æ•°ï¼š

std::apply

std::make_from_tuple



**pair**

std::pair / std::make_pair



#### å¤šç±»å‹



**std::variant**

å‚è€ƒ [std::variant - cppreference.com](https://zh.cppreference.com/w/cpp/utility/variant)ã€‚C++ 17 èµ·ã€‚

[std::variant è¯¦è§£-CSDNåšå®¢](https://blog.csdn.net/chenpeizhi/article/details/143035296)

[C++ å¯å˜ä½“(variant)_c++ variant-CSDNåšå®¢](https://blog.csdn.net/weixin_45925735/article/details/129687498)

[C++17ä¹‹std::variant-CSDNåšå®¢](https://blog.csdn.net/janeqi1987/article/details/100568096)



TODO: æœ‰å¾…è¡¥å……ä¾‹å­



**std::optional**

å‚è€ƒ [std::optional - cppreference.com](https://zh.cppreference.com/w/cpp/utility/optional)ã€‚C++ 17 èµ·ã€‚

> ```c++
> std::optional<int> StoI(const std::string &s) {
>     try {
>         return std::stoi(s);
>     } catch(...) {
>         return std::nullopt;
>     }
> }
> 
> void func() {
>     std::string s{"123"};
>     std::optional<int> o = StoI(s);
>     if (o) {
>         cout << *o << endl;
>     } else {
>         cout << "error" << endl;
>     }
> }
> ```
>
> 



[C++æ ‡å‡†åº“æ•™ç¨‹ï¼šstd::optionalè¯¦è§£-CSDNåšå®¢](https://blog.csdn.net/cfl997/article/details/132038827)ã€‚



**std::any**

å‚è€ƒ [std::any - cppreference.com](https://zh.cppreference.com/w/cpp/utility/any)ã€‚C++ 17 èµ·ã€‚

> å¯ä»¥å­˜å‚¨ä»»ä½•ç±»å‹çš„å•ä¸ªå€¼
>
> ```c++
> int main() { // c++17å¯ç¼–è¯‘
>     std::any a = 1;
>     cout << a.type().name() << " " << std::any_cast<int>(a) << endl;
>     
>     a = 2.2f;
>     cout << a.type().name() << " " << std::any_cast<float>(a) << endl;
>     
>     if (a.has_value()) {
>         cout << a.type().name();
>     }
>     
>     a.reset();
>     
>     if (a.has_value()) {
>         cout << a.type().name();
>     }
>     
>     a = std::string("a");
>     
>     cout << a.type().name() << " " << std::any_cast<std::string>(a) << endl;
>     
>     return 0;
> }
> ```
>
> 



### lambda

å‚è€ƒ [lambda è¡¨è¾¾å¼ (C++11 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/lambda)ã€‚

[[C++\]lambda_c++ lamda-CSDNåšå®¢](https://blog.csdn.net/weixin_52345097/article/details/131499309)

[Lambda è¡¨è¾¾å¼ - OI Wiki (oi-wiki.org)](https://oi-wiki.org/lang/lambda/)



å®Œæ•´æ ¼å¼ï¼š
`auto fun_xxx = [ æ•è·å˜é‡ ] ( å½¢å‚ ) mutable -> void { å‡½æ•°å†…å®¹ };`



`[]`ï¼šæ•æ‰åˆ—è¡¨ï¼Œæ•æ‰ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡ï¼Œç„¶åç”¨äºlambdaä½¿ç”¨ã€‚
`()`ï¼šå‚æ•°åˆ—è¡¨ï¼Œä¸å‡½æ•°çš„å‚æ•°åˆ—è¡¨ç±»ä¼¼ï¼Œå¦‚æœä¸éœ€è¦ä¼ é€’å‚æ•° å¯ä»¥ä¸å†™ ()ã€‚
`mutable`ï¼šé»˜è®¤æ¡ä»¶ä¸‹ï¼Œlambdaæ€»æ˜¯æœ‰ä¸€ä¸ªconstç‰¹æ€§ï¼Œå³æ•è·çš„å˜é‡ä¸èƒ½ä¿®æ”¹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡mutableå–æ¶ˆæ‰å®ƒçš„è¿™ä¸ªç‰¹ï¼ŒåŠ ä¸Šmutableæ—¶ï¼Œ()ä¸èƒ½çœç•¥ã€‚
`-> returntype`ï¼šè¿”å›å€¼ç±»å‹ï¼Œå½“æ²¡æœ‰è¿”å›å€¼å¯ä»¥ä¸å†™ï¼Œå½“è¿”å›å€¼ç±»å‹éå¸¸æ˜ç¡®ï¼Œä¹Ÿå¯ä»¥ä¸å†™ï¼Œç¼–è¯‘å™¨ä¼šæ¨å¯¼ã€‚
`{}`ï¼šå‡½æ•°ä½“ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å†™å‡½æ•°æ—¶éœ€è¦ç”¨{}åŒ…èµ·æ¥çš„éƒ¨åˆ†ã€‚



å¯ä»¥å°† lambda å‡½æ•° èµ‹å€¼ç»™ æŸä¸ªå˜é‡ï¼Œå¯ä»¥åœ¨åé¢è°ƒç”¨

```c++
auto getUrl = [archive, &rels, this](ByteArray const & type, String & result) { ...}
getUrl("xxx1", xxx1);
getUrl("xxx2", xxx2_);
```



è¯´æ˜ï¼Œå³ä¾¿æ˜¯ç›¸åŒå‚æ•°å’Œè¿”å›å€¼çš„ lambda å’Œ å‡½æ•°æŒ‡é’ˆï¼ŒäºŒè€…çš„ç±»å‹ä¹Ÿä¸åŒï¼›

ä½¿ç”¨ `std::function::target_type().name()` çœ‹å‡ºï¼Œè€Œä¸”å¦‚æœ std::function å­˜ä¸€ä¸ª lambdaï¼Œç”¨ `std::function::target<å‡½æ•°æŒ‡é’ˆç±»å‹>()` ä¼šè¿”å› nullï¼Œä½¿ç”¨ `std::function::target<lambda ç±»å‹>()` æ‰ä¼šè¿”å›å¡«å…¥çš„ lambdaï¼›ä¸€ä¸ª c å‡½æ•°å¦‚æœæ¥æ”¶ å‡½æ•°æŒ‡é’ˆ é‚£ä¹ˆä¸èƒ½æ¥å— åŒç±»å‹çš„å‚æ•°å’Œè¿”å›å€¼çš„ å­˜äº std::function çš„ lambdaã€‚ä¸ºäº† c/c++ åŒæ—¶çš„å¯ç§»æ¤æ€§ï¼Œè¿˜æ˜¯å¤šè€ƒè™‘ä¸‹ è½¯ä»¶åˆ†å±‚çš„ å“ªä¸€å±‚ ç”¨å“ªä¸ªï¼Œä¸€èˆ¬ é«˜å±‚æ¬¡çš„åº”ç”¨å±‚ c++ å¤šä¸€äº›ï¼Œååº•å±‚çš„ å°±æ˜¯ c çš„å†™æ³•ã€‚

```c++
// åˆ¤æ–­çš„å†™æ³•ï¼š
typedef void(*lv_btn_cb_fun)(lv_event_t*);
const std::function<void(lv_event_t*)> _fun = ...

if(!_fun) {
    LV_LOG_ERROR("empty _fun");
    return -1;
}
const lv_btn_cb_fun* callBackFun = _fun.target<lv_btn_cb_fun>();
// if the fun in "_fun" is not "lv_btn_cb_fun" type, "_fun.target<>()" will return null,
// use lambda fun storage in "_fun", the target_type is not "lv_btn_cb_fun", and it can't pass to "lv_obj_add_event_cb", so no use of it
if(!callBackFun) {
    LV_LOG_ERROR("null _fun");
    return -1;
}
```



**constexpr lambda è¡¨è¾¾å¼**

C++ 17 èµ·ã€‚

> ä½¿å¾— lambda åœ¨ç¼–è¯‘æœŸè®¡ç®—ã€‚

> ```c++
> constexpr auto lamb = [] (int n) { return n * n; };
> static_assert(lamb(3) == 9, "a");
> ```

> æ³¨æ„ï¼šconstexprå‡½æ•°æœ‰å¦‚ä¸‹é™åˆ¶ï¼š
>
> å‡½æ•°ä½“ä¸èƒ½åŒ…å«æ±‡ç¼–è¯­å¥ã€gotoè¯­å¥ / labelã€tryå—ã€é™æ€å˜é‡ã€çº¿ç¨‹å±€éƒ¨å­˜å‚¨ã€æ²¡æœ‰åˆå§‹åŒ–çš„æ™®é€šå˜é‡ï¼Œä¸èƒ½åŠ¨æ€åˆ†é…å†…å­˜ï¼Œä¸èƒ½æœ‰new deleteç­‰ï¼Œä¸èƒ½è™šå‡½æ•°ã€‚



### ç±»å‹åˆ«å using

å‚è€ƒ [ç±»å‹åˆ«åï¼Œåˆ«åæ¨¡æ¿ (C++11 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/type_alias)ã€‚

ä¾‹å­ï¼š

> ```c++
> template<class T>
> using Vec = vector<T, Alloc<T>>; // ç±»å‹æ ‡è¯†ä¸º vector<T, Alloc<T>>
>  
> Vec<int> v; // Vec<int> ç­‰åŒäº vector<int, Alloc<int>>
> ```



### ç±»å‹æ¨å¯¼ auto & decltype

åŸºæœ¬ç”¨æ³•ï¼š

> auto ç”¨äºæ¨å¯¼å˜é‡ç±»å‹ï¼Œdecltype ç”¨äºæ¨å¯¼è¡¨è¾¾å¼è¿”å›å€¼ç±»å‹
>
> ```c++
> int main() {
>  auto a = 10;  // 10æ˜¯intå‹ï¼Œå¯ä»¥è‡ªåŠ¨æ¨å¯¼å‡ºaæ˜¯int
> 
>     int x = 0;
>  decltype(x) y;      // yæ˜¯intç±»å‹
>     decltype(x + y) z;  // zæ˜¯intç±»å‹
>    
>     return 0;
> }
>    ```
> 
> å¼•è‡ª [è¿™äº›çŸ¥è¯†ç‚¹ä½ éƒ½çŸ¥é“å—ï¼Œæµ‹è¯•ä½ çš„C++å…¥é—¨ç¨‹åº¦ (qq.com)](https://mp.weixin.qq.com/s?__biz=MzkyODU5MTYxMA==&mid=2247493075&idx=1&sn=fcabde545f1863d5a1a2095696308b5b&source=41#wechat_redirect)ã€‚



æ›´è¯¦ç»†çš„ï¼š



å¯å‚è€ƒ [C++11çš„ç±»å‹æ¨å¯¼è¯¦è§£ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/137662774)ï¼Œæœ‰å¾ˆå¤šä¾‹å­ï¼Œä¸¾ä¾‹äº†å„ç§æƒ…å†µã€‚



C++14ï¼Œ auto å¯ç”¨äº å‡½æ•°è¿”å›å€¼ ç±»å‹æ¨å¯¼ï¼Œæ¨¡æ¿å‡½æ•°è¿”å›å€¼ ç±»å‹æ¨å¯¼ï¼Œlambda å‡½æ•°çš„å½¢å‚ ç±»å‹æ¨å¯¼ã€‚

ä½†æ˜¯æ„Ÿè§‰è¿™äº›å¹¶ä¸å¸¸ç”¨ï¼Œè¿”å›å€¼ä»€ä¹ˆçš„ï¼Œè‹¥ä¸æ˜¯åœ¨å†™æ¨¡æ¿ï¼Œè¿˜æ˜¯æ ‡å¥½ä¸€äº›åœ°æ–¹çš„ç±»å‹å§ï¼Œå°‘åšè°œè¯­äººã€‚

> ```c++
> #include <iostream>
> using namespace std;
> 
> // --- 
> auto func(int i) {
>     return i;
> }
> 
> // --- 
> template<typename T> auto func(T t) { return t; }
> 
> cout << func(4) << endl;
> cout << func(3.4) << endl;
> 
> // ---
> 
> auto f = [] (auto a) { return a; };
> cout << f(1) << endl;
> cout << f(2.3f) << endl;
> ```
>
> å¼•è‡ª [C++14æ–°ç‰¹æ€§çš„æ‰€æœ‰çŸ¥è¯†ç‚¹å…¨åœ¨è¿™å„¿å•¦ï¼ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/165389083)ã€‚



### æšä¸¾ç±» enum class

æšä¸¾ç±» ä¸º å¸¦æœ‰ä½œç”¨åŸŸçš„æšä¸¾ç±»å‹ï¼Œå¯åœ¨ C++ ç¯å¢ƒä¸­ å®Œå…¨æ›¿ä»£ enumï¼Œä½¿ç”¨ç±»ä¼¼ å‘½åç©ºé—´çš„æ–¹å¼ç”¨ å„ä¸ªæšä¸¾å˜é‡ï¼Œé˜²æ­¢åŸæ¥ enum çš„ å…¨å±€é‡å å’Œ ä¸åŒ enum ç±»å‹çš„å˜é‡å¯äº’ç›¸ç›´æ¥èµ‹å€¼ ç­‰é—®é¢˜ã€‚



> ```c++
> 
> enum class AColor {
>     kRed,
>     kGreen,
>     kBlue
> };
> 
> enum class BColor {
>     kWhite,
>     kBlack,
>     kYellow
> };
> 
> int main() {
>     if (AColor::kRed == BColor::kWhite) { // ç¼–è¯‘å¤±è´¥
>         cout << "red == white" << endl;
>     }
>     return 0;
> }
> ```
>
> å¼•è‡ª [è¿™äº›çŸ¥è¯†ç‚¹ä½ éƒ½çŸ¥é“å—ï¼Œæµ‹è¯•ä½ çš„C++å…¥é—¨ç¨‹åº¦ (qq.com)](https://mp.weixin.qq.com/s?__biz=MzkyODU5MTYxMA==&mid=2247493075&idx=1&sn=fcabde545f1863d5a1a2095696308b5b&source=41#wechat_redirect)ã€



> c++11 çš„ union ä¸­ å…è®¸æ•°æ®æˆå‘˜ç±»å‹æœ‰ éPODç±»å‹ã€‚
>
> PODç±»å‹ å¤§ä½“ä¸Šå¯ä»¥ç†è§£ä¸ºå¯¹è±¡å¯ä»¥ç›´æ¥memcpyçš„ç±»å‹ã€‚
>
> [C++ PODä¸éPODç±»å‹çš„åŒºåˆ« - é—®ç­” - äº¿é€Ÿäº‘ (yisu.com)](https://www.yisu.com/ask/6905433.html)ã€‚



### ç¼–è¯‘æœŸè®¡ç®— constexpr



constexprï¼šä¿®é¥° å¸¸é‡ å’Œ å‡½æ•°ï¼Œç”±ç¼–è¯‘æœŸæ¥å®Œæˆ è®¡ç®— å’Œ å‡½æ•°"å†…æ•›åŠŸèƒ½"ï¼ˆç‰¹åˆ«æ˜¯åœ¨å®šä¹‰å°çš„ã€ç¼–è¯‘æ—¶å¯è®¡ç®—çš„å‡½æ•°æ—¶ï¼‰ ç­‰ã€‚

constexpr ä¿è¯çš„æ˜¯ç¼–è¯‘æ—¶çš„å¸¸é‡æ€§ï¼Œè€Œ inline åˆ™æ˜¯å»ºè®®ç¼–è¯‘å™¨è¿›è¡Œå†…è”å±•å¼€ä»¥ä¼˜åŒ–æ€§èƒ½ã€‚

> ```c++
> constexpr int32_t constNum = 1 + 2 + 3;
> constexpr int func(int i) {
>     return i + 1;
> }
> ```



> C++14ä¸­å¯ä»¥ä½¿ç”¨å±€éƒ¨å˜é‡å’Œå¾ªç¯ã€‚C++11ä¸­constexprå‡½æ•°å¿…é¡»å¿…é¡»æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„returnè¯­å¥ä¸­ï¼Œè€Œ C++14 çš„ constexpråˆ™æ— æ­¤é™åˆ¶ã€‚
>
> ```c++
> constexpr int factorial(int n) { // C++11ä¸­ä¸å¯ï¼ŒC++14ä¸­å¯ä»¥
>     int ret = 0;
>     for (int i = 0; i < n; ++i) {
>         ret += i;
>     }
>     return ret;
> }
> 
> constexpr int func(bool flag) { // C++11ä¸­ä¸å¯ï¼ŒC++14ä¸­å¯ä»¥
>     if (flag) return 1;
>     else return 0;
> }
> ```
>
> å¼•è‡ª [C++14æ–°ç‰¹æ€§çš„æ‰€æœ‰çŸ¥è¯†ç‚¹å…¨åœ¨è¿™å„¿å•¦ï¼ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/165389083)ã€‚



### ç¼–è¯‘æœŸæ£€æŸ¥ static_assert

å‚è€ƒ [static_assert å£°æ˜ (C++11 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/static_assert)ã€‚

c++11 å¼•å…¥ï¼Œç”¨äºç¼–è¯‘æœŸè¿›è¡Œæ£€æŸ¥ï¼Œè‹¥ç¬¬ä¸€ä¸ªå‚æ•°å€¼ä¸º falseï¼Œåˆ™æ‰“å° messageï¼ŒæŠ¥ç¼–è¯‘å¤±è´¥é”™è¯¯ã€‚

ä¾‹å­ï¼š

> ```c++
> static_assert(true/false, message);
> ```



### äºŒè¿›åˆ¶å­—é¢é‡

å‚è€ƒ [æ•´æ•°å­—é¢é‡ - cppreference.com](https://zh.cppreference.com/w/cpp/language/integer_literal)ã€‚



> ```c++
> int a = 0b0001'0011'1010;
> double b = 3.14'1234'1234'1234;
> ```
>
> äºŒè¿›åˆ¶å­—é¢é‡ä¸æ•´å½¢å­—é¢é‡åˆ†éš”ç¬¦ï¼Œ[C++14æ–°ç‰¹æ€§çš„æ‰€æœ‰çŸ¥è¯†ç‚¹å…¨åœ¨è¿™å„¿å•¦ï¼ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/165389083)ã€‚



### å­—ç¬¦å­—é¢é‡

å‚è€ƒ [å­—ç¬¦å­—é¢é‡ - cppreference.com](https://zh.cppreference.com/w/cpp/language/character_literal)ï¼Œè¿™é‡Œé¢æœ‰ä¾‹å­ã€‚

> - `u8'.'`ï¼šUTF-8 å­—ç¬¦å­—é¢é‡ï¼Œä¾‹å¦‚ u8'a'ã€‚è¿™ç§å­—é¢é‡å…·æœ‰ char(C++20 å‰)char8_t(C++20 èµ·) ç±»å‹ï¼Œä¸”å®ƒçš„å€¼ç­‰äº*cå­—ç¬¦*â€Šï»¿çš„ã€‚
> - `u'.'`ï¼šUTF-16 å­—ç¬¦å­—é¢é‡ï¼Œä¾‹å¦‚ u'çŒ«'ï¼Œä½†ä¸æ˜¯ u'ğŸŒ'ï¼ˆu'\U0001f34c'ï¼‰ã€‚è¿™ç§å­—é¢é‡å…·æœ‰ char16_t ç±»å‹ã€‚åªè¦è¯¥å€¼èƒ½ä»¥å•ä¸ª UTF-16 ä»£ç å•å…ƒè¡¨ç¤ºï¼ˆå³*cå­—ç¬¦*â€Šï»¿å¤„äºèŒƒå›´ 0x0-0xFFFFï¼ˆå«è¾¹ç•Œï¼‰å†…ï¼‰ã€‚
> - `U'.'`ï¼šUTF-32 å­—ç¬¦å­—é¢é‡ï¼Œä¾‹å¦‚ U'çŒ«' æˆ– U'ğŸŒ'ã€‚è¿™ç§å­—é¢é‡å…·æœ‰ char32_t ç±»å‹ã€‚
> - `L'.'`ï¼šå®½å­—ç¬¦å­—é¢é‡ï¼Œä¾‹å¦‚ L'Î²' æˆ– L'çŒ«'ã€‚è¿™ç§å­—é¢é‡å…·æœ‰ wchar_t ç±»å‹ã€‚



å‚è€ƒ [å­—ç¬¦ä¸²å­—é¢é‡ - cppreference.com](https://zh.cppreference.com/w/cpp/language/string_literal)ï¼Œè¿™é‡Œé¢æœ‰ä¾‹å­ã€‚

- ä¸€äº›ä¿®é¥°å­—ç¬¦ä¸²çš„ç¬¦å·ï¼Œä¸‹é¢ï¼Œä¸å¸¦ `R` çš„ ä¸º `så­—ç¬¦åºåˆ—`ï¼šå°±æ˜¯åŸºæœ¬å­—ç¬¦ä¸²ï¼Œå¸¦ `R` çš„ ä¸º `då­—ç¬¦åºåˆ—`ï¼šä¸åŒ…æ‹¬æ‹¬å·ã€åæ–œæ å’Œç©ºæ ¼ã€‚

  å‚è€ƒ [å­—ç¬¦é›†ä¸ç¼–ç  - cppreference.com](https://zh.cppreference.com/w/cpp/language/charset#.E5.9F.BA.E6.9C.AC.E5.AD.97.E7.AC.A6.E9.9B.86)ã€‚

- `"..."`ï¼Œ`R"..."`ï¼šæ™®é€šå­—ç¬¦ä¸²å­—é¢é‡ `const char[N]`ã€‚
- `L"..."`ï¼Œ`LR"..."`ï¼šå®½å­—ç¬¦ä¸²å­—é¢é‡ `const wchar_t[N]`ã€‚
- `u8"..."`ï¼Œ`u8R"..."`ï¼šUTF-8 å­—ç¬¦ä¸²å­—é¢é‡ `const char[N] (C++20 å‰)`ï¼Œ`const char8_t[N] (C++20 èµ·)`ã€‚
- `u"..."`ï¼Œ`uR"..."`ï¼šUTF-16 å­—ç¬¦ä¸²å­—é¢é‡ `const char16_t[N]`ã€‚
- `U"..."`ï¼Œ`UR"..."`ï¼šUTF-32 å­—ç¬¦ä¸²å­—é¢é‡ `const char32_t[N]`ã€‚



### è‡ªå®šä¹‰å­—é¢é‡



ä¸ªäººè§‰å¾—è¿˜æ˜¯å°‘ç”¨ï¼Œå¤ªè°œè¯­äººäº†ï¼Œå†™å®Œåä¹Ÿè®¸è‡ªå·±å¾ˆæ¸…æ¥šï¼Œä½†æ˜¯åˆ«äººçœ‹ç€ä¼šæ¯”è¾ƒç»•ã€‚



> ```c++
> constexpr long double operator"" _d2r( long double deg )
> {
>        long double radians = deg * std::numbers::pi_v<long double> / 180;
>        return radians;
> }
> double x_rad = 90.0_d2r;  //x_rad = 1.570796
> ```
>
> å¼•è‡ª [C++ çš„ç”¨æˆ·è‡ªå®šä¹‰å­—é¢é‡_c++ è‡ªå®šä¹‰å­—é¢é‡-CSDNåšå®¢](https://blog.csdn.net/orbit/article/details/142871607)ã€‚



> ```c++
> struct mytype {
>        unsigned long long value;
> };
> 
> constexpr mytype operator"" _mytype ( unsigned long long n ) {
>        return mytype{n};
> }
> 
> mytype mm = 123_mytype;
> cout << mm.value << endl;
> ```
>
> å¼•è‡ª [c++11æ–°ç‰¹æ€§ï¼Œæ‰€æœ‰çŸ¥è¯†ç‚¹éƒ½åœ¨è¿™äº†ï¼ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/139515439) é‡Œé¢ `è‡ªå®šä¹‰å­—é¢é‡` ä¸€èŠ‚ã€‚



å‚è€ƒ [ç”¨æˆ·å®šä¹‰å­—é¢é‡ (C++11 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/user_literal)ã€‚

æ”¯æŒçš„ç§ç±»ï¼š

> - ç”¨æˆ·å®šä¹‰æ•´æ•°å­—é¢é‡ï¼Œä¾‹å¦‚ `12_km`
> - ç”¨æˆ·å®šä¹‰æµ®ç‚¹å­—é¢é‡ï¼Œä¾‹å¦‚ `0.5_Pa`
> - ç”¨æˆ·å®šä¹‰å­—ç¬¦å­—é¢é‡ï¼Œä¾‹å¦‚ `'c'_X`
> - ç”¨æˆ·å®šä¹‰å­—ç¬¦ä¸²å­—é¢é‡ï¼Œä¾‹å¦‚ `"abd"_L` æˆ– `u"xyz"_M`



### åŠ¨æ€åˆ›å»ºå†…å­˜å¯¹é½çš„å¯¹è±¡

å‚è€ƒ [å†…å­˜å¯¹é½ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/139520591)ã€‚

ç»“æ„ä½“å’Œç±»çš„åŸºæœ¬å†…å­˜å¯¹é½è§„åˆ™ å¾ˆåŸºç¡€å¯ç½‘æœã€‚

> ä»€ä¹ˆæ˜¯å†…å­˜å¯¹é½
>
> ç†è®ºä¸Šè®¡ç®—æœºå¯¹äºä»»ä½•å˜é‡çš„è®¿é—®éƒ½å¯ä»¥ä»ä»»æ„ä½ç½®å¼€å§‹ï¼Œç„¶è€Œå®é™…ä¸Šç³»ç»Ÿä¼šå¯¹è¿™äº›å˜é‡çš„å­˜æ”¾åœ°å€æœ‰é™åˆ¶ï¼Œé€šå¸¸å°†å˜é‡é¦–åœ°å€è®¾ä¸ºæŸä¸ªæ•°Nçš„å€æ•°ï¼Œè¿™å°±æ˜¯å†…å­˜å¯¹é½ã€‚
>
> ä¸ºä»€ä¹ˆè¦å†…å­˜å¯¹é½
>
> 1. ç¡¬ä»¶å¹³å°é™åˆ¶ï¼Œå†…å­˜ä»¥å­—èŠ‚ä¸ºå•ä½ï¼Œä¸åŒç¡¬ä»¶å¹³å°ä¸ä¸€å®šæ”¯æŒä»»ä½•å†…å­˜åœ°å€çš„å­˜å–ï¼Œä¸€èˆ¬å¯èƒ½ä»¥åŒå­—èŠ‚ã€4å­—èŠ‚ç­‰ä¸ºå•ä½å­˜å–å†…å­˜ï¼Œä¸ºäº†ä¿è¯å¤„ç†å™¨æ­£ç¡®å­˜å–æ•°æ®ï¼Œéœ€è¦è¿›è¡Œå†…å­˜å¯¹é½ã€‚
> 2. æé«˜CPUå†…å­˜è®¿é—®é€Ÿåº¦ï¼Œä¸€èˆ¬å¤„ç†å™¨çš„å†…å­˜å­˜å–ç²’åº¦éƒ½æ˜¯Nçš„æ•´æ•°å€ï¼Œå‡å¦‚è®¿é—®Nå¤§å°çš„æ•°æ®ï¼Œæ²¡æœ‰è¿›è¡Œå†…å­˜å¯¹é½ï¼Œæœ‰å¯èƒ½å°±éœ€è¦ä¸¤æ¬¡è®¿é—®æ‰å¯ä»¥è¯»å–å‡ºæ•°æ®ï¼Œè€Œè¿›è¡Œå†…å­˜å¯¹é½å¯ä»¥ä¸€æ¬¡æ€§æŠŠæ•°æ®å…¨éƒ¨è¯»å–å‡ºæ¥ï¼Œæé«˜æ•ˆç‡ã€‚
>
> å†…å­˜å¯¹é½è§„åˆ™
>
> 1. æ•°æ®æˆå‘˜å¯¹é½è§„åˆ™ï¼šstructæˆ–è€…unionçš„æ•°æ®æˆå‘˜ï¼Œç¬¬ä¸€ä¸ªæ•°æ®æˆå‘˜æ”¾åœ¨offsetä¸º0çš„åœ°æ–¹ï¼Œä»¥åæ¯ä¸ªæ•°æ®æˆå‘˜éƒ½æŒ‰ç…§#pragma packæ•°å€¼å’Œè¿™ä¸ªæ•°æ®æˆå‘˜è‡ªèº«å¤§å°ä¸­æ›´å°çš„é‚£ä¸ªè¿›è¡Œå¯¹é½ã€‚
> 2. æ•´ä½“å¯¹é½è§„åˆ™ï¼šstructæˆ–è€…unionçš„é¦–åœ°å€æŒ‰ç…§å†…éƒ¨æœ€å¤§æ•°æ®æˆå‘˜çš„å¤§å°å’Œ#pragma packæ•°å€¼è¾ƒå°çš„é‚£ä¸ªNè¿›è¡Œå¯¹é½ï¼Œå¹¶ä¸”ç»“æ„ä½“çš„æ€»å¤§å°ä¸ºNçš„æ•´æ•°å€ï¼Œå¦‚æœ‰å¿…è¦ç¼–è¯‘å™¨ä¹Ÿä¼šåœ¨æœ€åä¸€ä¸ªæˆå‘˜åé¢å¡«å……ä¸€äº›å­—èŠ‚ç”¨äºå¯¹é½ã€‚



é™æ€è‡ªå®šä¹‰å†…å­˜å¯¹é½çš„æ•°æ®ç»“æ„ï¼šå£°æ˜è‡ªå®šä¹‰å†…å­˜å¯¹é½çš„ç»“æ„ä½“æˆ–ç±»

```c++
// c è¯­è¨€æ ‡å‡†å…³é”®å­—ï¼š#pragma pack
// pragma pack(n) alignment must be a power of two
#pragma pack(2) //æŒ‡å®šæŒ‰ä¸¤å­—èŠ‚å¯¹é½
...
#pragma pack() // å–æ¶ˆæŒ‡å®šå¯¹é½

// ---

// gcc ç¼–è¯‘å™¨æ‰©å±•å…³é”®å­— __attribute__((aligned))
struct A {
    char a;
    ...
} __attribute__((aligned)) / __attribute__((aligned(1))) / __attribute__((packed));

// __attribute__((packed))å‘Šè¯‰ç¼–è¯‘å™¨å–æ¶ˆç¼–è¯‘ä¸­çš„å†…å­˜å¯¹é½ä¼˜åŒ–ï¼Œé‡‡ç”¨å®é™…å ç”¨çš„å­—èŠ‚æ•°è¿›è¡Œå¯¹é½
// __attribute__((aligned(N))) å‘Šè¯‰ç¼–è¯‘å™¨åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­æŒ‰ç…§Nå­—èŠ‚å¯¹é½ï¼Œç»è¿‡æµ‹è¯•è¿™ä¸ªNåªæœ‰å¤§äºç»“æ„ä½“ä¸­æœ€å¤§çš„å˜é‡çš„å¤§å°æ‰æœ‰ç”¨
// __attribute__((aligned)) åé¢ä¸æ¥æ•°å­—ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨æ ¹æ®ç›®æ ‡æœºåˆ¶é‡‡ç”¨æœ€å¤§æœ€æœ‰ç›Šçš„æ–¹å¼å¯¹é½ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯16å­—èŠ‚å¯¹é½
// alignof(X) è¿”å›æŸç±»å‹çš„å¯¹é½å¤§å°ï¼Œä¸std::alignment_ofç±»ä¼¼ï¼Œè¿™ä¸¤ä¸ªåŠŸèƒ½å®Œå…¨ç›¸åŒï¼Œä½†æ˜¯std::alignment_ofå¯ä»¥ç”¨äºæ¨¡æ¿å…ƒç¼–ç¨‹
```



åŠ¨æ€åˆ›å»ºè‡ªå®šä¹‰å†…å­˜å¯¹é½çš„å¯¹è±¡ï¼š

> ```c++
> class A {
>        int a;
>        char d;
>    };
> 
> // åˆ›å»ºç»™å®šç±»å‹å¯¹è±¡å¤§å°æ»¡è¶³å¯¹é½è¦æ±‚çš„æœªåˆå§‹åŒ–å†…å­˜å—ï¼Œåœ¨ä¸€ä¸ªå†…å­˜å¯¹é½çš„ç¼“å†²åŒºä¸Šåˆ›å»ºå¯¹è±¡
> // C++11åå¯ä»¥è¿™æ ·æ“ä½œ
> void align_cpp11_after()
> {
>  static std::aligned_storage<sizeof(A),
>                                 alignof(A)>::type data;
>     A *attr = new (&data) A;
>    }
> 
> // C++11ä¹‹å‰
> void align_cpp11_before()
> {
>  static char data[sizeof(void *) + sizeof(A)];
>     const uintptr_t kAlign = sizeof(void *) - 1;
>     char *align_ptr =
>         reinterpret_cast<char *>(reinterpret_cast<uintptr_t>(data + kAlign) & ~kAlign);
>     A *attr = new (align_ptr) A;
>    }
> ```



å…³äº `alignof` å’Œ `alignas`ï¼š

- [alignof è¿ç®—ç¬¦(C++11 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/alignof)ã€‚
- [alignas è¯´æ˜ç¬¦ (C++11 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/alignas)ã€‚



### å†…å­˜ç”³è¯·å’Œé‡Šæ”¾ new & delete

è¡¥å……å‚è€ƒå’Œå¼•ç”¨ï¼š

- [C++ åŠ¨æ€å†…å­˜ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-dynamic-memory.html)ã€[C++ newå’Œdeleteè¿ç®—ç¬¦ç®€ä»‹ (biancheng.net)](http://c.biancheng.net/view/2199.html)ã€‚[newã€new()å’Œnew ä¸‰è€…çš„åŒºåˆ«_è¥¿é›…å›¾_Seattleçš„åšå®¢-CSDNåšå®¢_new()](https://blog.csdn.net/Seattle_panchaoyi/article/details/51703015)ã€‚
- [new[]å’Œdelete[]ä¸ºä½•è¦é…å¯¹ä½¿ç”¨ï¼Ÿ](https://mp.weixin.qq.com/s?__biz=MzkyODU5MTYxMA==&mid=2247492989&idx=1&sn=35cdef727c312378fd7f29cafa8103d0&source=41#wechat_redirect) ä¸ºäº†è‡ªå®šä¹‰ç±»å‹ï¼ˆå¦‚ç±»ï¼‰çš„æ­£ç¡® é‡Šæ”¾ / ææ„ã€‚



```c++
/* è·å–æ•°ç»„çš„æˆå‘˜ä¸ªæ•° */
#define ARR_SIZE(arr) sizeof(arr)/sizeof((arr)[0])

/* æ‰“å°æ•°ç»„ */
#define PRINT_ARR(arr)                 \
    for(i = 0;i < ARR_SIZE(arr);i++)   \
            cout << arr[i] << ' ';     \
    cout << endl;

/* â€”â€”â€”â€”â€”â€”â€”â€” ç”³è¯· å˜é‡ å’Œ æ•°ç»„ â€”â€”â€”â€”â€”â€”â€”â€” */

double* pvalue  = new double;
	if(NULL == pvalue) exit(-1);

/* new åè·Ÿ ç±»å‹åï¼Œä¹Ÿå¯ä»¥æ˜¯ç±» */

int* arr_ptr = new int(10);      // å¼€è¾Ÿ 1 ä¸ª int ç©ºé—´ï¼Œå¹¶èµ‹åˆå€¼ä¸º 10
	if(NULL == arr_ptr) exit(-1);
cout << *arr_ptr << endl;

cin >> n;
int* arr = new int[n];           // å¼€è¾Ÿ n ä¸ª int ç©ºé—´ çš„æ•°ç»„ï¼Œåœ°å€è¿ç»­
	if(NULL == arr) exit(-1);

for(i = 0;i < ARR_SIZE(arr);i++) // æŒ¨ä¸ªå¡«å……å€¼ï¼Œå¯ä»¥ç©ºæ ¼éš”å¼€ï¼Œå¦‚è¾“å…¥ -1 2 6
    cin >> arr[i];

PRINT_ARR(arr);

delete[] arr;                   // é‡Šæ”¾ new ç”³è¯·çš„æ•°ç»„ç©ºé—´
delete arr_ptr;                 // é‡Šæ”¾ new ç”³è¯·çš„å˜é‡ç©ºé—´
delete pvalue;

/* â€”â€”â€”â€”â€”â€”â€”â€” ç”³è¯· m è¡Œ n åˆ— çš„ äºŒç»´æ•°ç»„ â€”â€”â€”â€”â€”â€”â€”â€” */
cin >> m >> n;

int** array = new int* [m]; // åˆ†é… m ä¸ªæŒ‡é’ˆç©ºé—´ï¼ˆæŒ‡é’ˆæ•°ç»„ï¼‰

for(unsigned int i = 0; i < m; i++)
{
    array[i] = new int [n]; // å¯¹æŒ‡é’ˆæ•°ç»„æ¯ä¸€ä¸ªæŒ‡é’ˆæ‰€æŒ‡åœ°å€å†ç”³è¯· n ä¸ª int ç©ºé—´
}

// é‡Šæ”¾
for(unsigned int i = 0; i < m; i++)
{
    delete [] array[i];
}

delete [] array;
```



struct é‡Œé¢æœ‰ std::stringï¼Œç”³è¯·å’Œé‡Šæ”¾è¿™ä¸ª struct å†…å­˜ç”¨ new å’Œ delete

åœ¨ä¸ºstringåˆ†é…ç©ºé—´æ—¶éœ€è¦è°ƒç”¨stringçš„æ„é€ æ–¹æ³•ï¼Œè€Œmallocæ— æ³•è°ƒç”¨ï¼Œæ•…ç¨‹åºä¼šæŠ¥é”™ï¼Œè€Œnewæ‹¥æœ‰è°ƒç”¨æ„é€ å‡½æ•°çš„åŠŸèƒ½

[c++é“¾è¡¨/ç»“æ„ä½“ä¸­å«æœ‰stringç±»å‹ä½¿ç”¨mallocåˆ†é…å†…å­˜å¤±è´¥/æŠ¥é”™_ç»“æ„ä½“å†…éƒ¨æœ‰c++ç±»å‹å´ä½¿ç”¨äº†malloc-CSDNåšå®¢](https://blog.csdn.net/m0_74131274/article/details/129819245)



### æ™ºèƒ½æŒ‡é’ˆ

å‚è€ƒ

- [C++ æ™ºèƒ½æŒ‡é’ˆ_TABE_çš„åšå®¢-CSDNåšå®¢_c++æ™ºèƒ½æŒ‡é’ˆ](https://blog.csdn.net/TABE_/article/details/117391903)ã€‚[c++æ™ºèƒ½æŒ‡é’ˆè¯¦è§£_bitcarmanleeçš„åšå®¢-CSDNåšå®¢_c++ æ™ºèƒ½æŒ‡é’ˆ](https://blog.csdn.net/bitcarmanlee/article/details/124847634)ã€‚[c++ æ™ºèƒ½æŒ‡é’ˆ_luckyä¹å¹´çš„åšå®¢-CSDNåšå®¢_c++æ™ºèƒ½æŒ‡é’ˆ](https://blog.csdn.net/qq_44139121/article/details/125937906)ã€‚
- [c++11æ–°ç‰¹æ€§ä¹‹æ™ºèƒ½æŒ‡é’ˆ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/137958974)ã€‚
- [å†…å­˜ç®¡ç†åº“ - cppreference.com](https://zh.cppreference.com/w/cpp/memory#.E6.99.BA.E8.83.BD.E6.8C.87.E9.92.88).



- æ¨èå¤šç”¨æ™ºèƒ½æŒ‡é’ˆç®¡ç†å†…å­˜ï¼Œå¯ä¸€å®šç¨‹åº¦é˜²æ­¢å†…å­˜æ³„æ¼ç­‰ã€‚
- æ¨èå¤šåš RAIIï¼ˆåˆ©ç”¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç®¡ç†èµ„æºï¼‰é£æ ¼ç¼–ç ï¼Œå¦‚ ä½¿ç”¨ æ™ºèƒ½æŒ‡é’ˆã€‚



- [unique_ptr](https://zh.cppreference.com/w/cpp/memory/unique_ptr)ï¼Œæ‹¥æœ‰ç‹¬æœ‰å¯¹è±¡æ‰€æœ‰æƒçš„æ™ºèƒ½æŒ‡é’ˆã€‚
  - æ¨èä½¿ç”¨ [std::make_unique](https://zh.cppreference.com/w/cpp/memory/unique_ptr/make_unique) ï¼ˆC++14ï¼‰åˆ›å»ºã€‚

- [shared_ptr](https://zh.cppreference.com/w/cpp/memory/shared_ptr)ï¼Œæ‹¥æœ‰å…±äº«å¯¹è±¡æ‰€æœ‰æƒçš„æ™ºèƒ½æŒ‡é’ˆã€‚
  - æ¨èä½¿ç”¨ [std::make_shared](https://zh.cppreference.com/w/cpp/memory/shared_ptr/make_shared) åˆ›å»ºã€‚
  - è‡ªå®šä¹‰ç±» ç»§æ‰¿ [enable_shared_from_this](https://zh.cppreference.com/w/cpp/memory/enable_shared_from_this)ï¼Œåˆ™å…è®¸ ç±» åˆ›å»º å¹¶ é€šè¿‡ [shared_from_this()](https://zh.cppreference.com/w/cpp/memory/enable_shared_from_this/shared_from_this) æ¥è·å¾— æŒ‡å‘ this çš„ `shared_ptr`ã€‚
  - å¯¹äºä¸Šä¸¤ç‚¹ï¼Œ`unique_ptr` å’Œ `weak_ptr` åŒç†ã€‚
- [weak_ptr](https://zh.cppreference.com/w/cpp/memory/weak_ptr)ï¼Œä½¿ç”¨ `std::shared_ptr` æ‰€ç®¡ç†å¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œå¯è§£å†³ `std::shared_ptr` ä¸­å‡ºç° äº’ç›¸å¼•ç”¨ å¯¼è‡´èµ„æºæ°¸ä¸é‡Šæ”¾ çš„ é—®é¢˜ã€‚

å¯çœ‹é“¾æ¥é‡Œé¢ï¼Œæœ‰å¤šç§åŸºç¡€ä¾‹å­ã€‚



shared_ptrï¼š

å½“ä¸€ä¸ª shared_ptr å®ä¾‹å¯¹è±¡è¶…å‡ºä½œç”¨åŸŸ å°±ä¼šé‡Šæ”¾å…¶åŒ…å«çš„æŒ‡é’ˆå¯¹åº”çš„å†…å­˜ï¼Œæˆ–è€…è°ƒç”¨ .reset()ï¼Œæ¨èä½¿ç”¨ make_shared() åˆ›å»º shared_ptr å¯¹è±¡

[C++:å…±äº«æŒ‡é’ˆshared_ptrçš„ç†è§£ä¸åº”ç”¨_shareptr-CSDNåšå®¢](https://blog.csdn.net/weixin_41504987/article/details/124396989) æœ‰å¾ˆå¤šå¥½ä¾‹å­
[æ™ºèƒ½æŒ‡é’ˆâ€”â€”shared_ptr_sharedptr-CSDNåšå®¢](https://blog.csdn.net/weixin_45732589/article/details/115741770) åŸç†å’Œæ³¨æ„äº‹é¡¹



å„ä¸ªæ™ºèƒ½æŒ‡é’ˆ std::auto_ptrã€std::unique_ptrã€std::shared_ptr çš„è®¾è®¡æ€è·¯å’Œæ¨¡æ‹Ÿå®ç°ï¼Œé€ä¸ªè¿›åŒ–ï¼Œå¹¶ä¸”å­˜åœ¨çš„ç‰¹å®šç¯å¢ƒä¸‹å‡ºç°çš„é—®é¢˜

[æ™ºèƒ½æŒ‡é’ˆ smart_ptr_smartptr-CSDNåšå®¢](https://blog.csdn.net/qq_68006585/article/details/131129484)

[ã€C++ä¿®ç‚¼ä¹‹è·¯ã€‘32.æ™ºèƒ½æŒ‡é’ˆ_ptradc->ptrmax[ch\] = (ptradc->ptrdata[ch] > ptradc-CSDNåšå®¢](https://blog.csdn.net/NEFUT/article/details/131603769)

å¥½å¤„ï¼šä¸éœ€è¦æ˜¾å¼åœ°é‡Šæ”¾èµ„æºã€‚é‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œå¯¹è±¡æ‰€éœ€çš„èµ„æºåœ¨å…¶ç”Ÿå‘½æœŸå†…å§‹ç»ˆä¿æŒæœ‰æ•ˆã€‚



```c++
// ç®€å•æµ‹è¯•ï¼šåˆ›å»º std::shared_ptr æŒ‡é’ˆçš„å‡ ç§å†™æ³•ï¼Œä½†æ¨è std::make_shared
std::shared_ptr<int> p0     = std::make_shared<int>();
std::shared_ptr<int> p00    = std::make_shared<int>(5);
std::shared_ptr<int> p1     = std::shared_ptr<int>(new int(10)); // ç”± new int(10) åˆ†é…çš„å†…å­˜çš„åœ°å€ç”¨std::shared_ptrç±»å‹æ„é€  å†èµ‹å€¼ç»™ p1
std::shared_ptr<int> p2(new int(15));
std::shared_ptr<int> p22(nullptr);
std::shared_ptr<int> p222 = nullptr;
std::shared_ptr<int> p222_(p00);
std::shared_ptr<int> p222__ = p1;
std::cout << " -- 1 p0 -- " << p0.use_count() << " -- " << *p0 << std::endl;
std::cout << " -- 1 p00 -- " << p00.use_count() << " -- " << *p00 << std::endl;
std::cout << " -- 1 p1 -- " << p1.use_count() << " -- " << *p1 << std::endl;
std::cout << " -- 1 p2 -- " << p2.use_count() << " -- " << *p2 << std::endl;
std::cout << " -- 1 p22 -- " << p22.use_count() << " -- " << "no *p22" << std::endl;
std::cout << " -- 1 p222 -- " << p222.use_count() << " -- " << "no *p222" << std::endl;
std::cout << " -- 1 p222_ -- " << p222_.use_count() << " -- " << *p222_ << std::endl;
std::cout << " -- 1 p222__ -- " << p222__.use_count() << " -- " << *p222__ << std::endl;
*p1 = 99;
std::cout << " -- 2 -- " << p1.use_count() << " -- " << *p1 << std::endl;
{
    std::shared_ptr<int> ppp1 = p1;
    *ppp1 = 11;
    std::cout << " -- 3 -- " << p1.use_count() << " -- " << *p1 << std::endl;
}
std::cout << " -- 4 -- " << p1.use_count() << " -- " << *p1 << std::endl;
p1.reset(); // set nullptr, free mem
std::cout << " -- 5 -- " << p1.use_count() << std::endl;
// å†ä½¿ç”¨ *p1 å°±ä¼šæŠ¥é”™

// æ‰“å°ï¼šå¼•ç”¨è®¡æ•°çš„å˜åŒ–ï¼Œè‹¥ p1 å‡ºäº†ç”Ÿå‘½å‘¨æœŸ æˆ–è€… å…¶è®¡æ•° ä¸º 0ï¼Œå°±è‡ªåŠ¨é‡Šæ”¾å†…å­˜
 -- 1 p0 -- 1 -- 0
 -- 1 p00 -- 2 -- 5
 -- 1 p1 -- 2 -- 10
 -- 1 p2 -- 1 -- 15
 -- 1 p22 -- 0 -- no *p22
 -- 1 p222 -- 0 -- no *p222
 -- 1 p222_ -- 2 -- 5
 -- 1 p222__ -- 2 -- 10
 -- 2 -- 2 -- 99
 -- 3 -- 3 -- 11
 -- 4 -- 2 -- 11
 -- 5 -- 0
```



shared_ptr å­˜åœ¨çš„ä¸€äº›æ½œåœ¨çš„å†…å­˜æ³„æ¼çš„åœºæ™¯

[shared_pträº§ç”Ÿå†…å­˜æ³„æ¼çš„åœºæ™¯_sharedæŒ‡é’ˆæ³„æ¼-CSDNåšå®¢](https://blog.csdn.net/sinat_31608641/article/details/131591022)



std::shared_ptr ç”¨äº å¤šä¸ªå¯¹è±¡å…±äº«åŒä¸€èµ„æºï¼Œå½“ä¸å†éœ€è¦èµ„æºæ—¶ä¼šè‡ªåŠ¨é”€æ¯èµ„æºã€‚

weak_ptr çš„ä¸»è¦ä½œç”¨æ˜¯ é¿å…å¾ªç¯å¼•ç”¨ï¼Œå³å½“ä¸¤ä¸ª shared_ptr äº’ç›¸å¼•ç”¨å¯¹æ–¹æ—¶ï¼Œä¼šå¯¼è‡´å¼•ç”¨è®¡æ•°æ— æ³•å½’é›¶ï¼Œä»è€Œå†…å­˜æ— æ³•é‡Šæ”¾ã€‚

std::weak_ptr ç”¨äºé¿å… å¾ªç¯å¼•ç”¨ï¼Œå…è®¸å¯¹å¯¹è±¡è¿›è¡Œè§‚å¯Ÿï¼Œä½†ä¸ä¼šå¢åŠ å¼•ç”¨è®¡æ•°ï¼Œé€šå¸¸ä¸ shared_ptr é…åˆä½¿ç”¨ã€‚



### ç±»å‹è½¬æ¢ cast

å¯å‚è€ƒ è¿™ä¸ªé“¾æ¥é‡Œé¢çš„ `ç±»å‹è½¬æ¢` ä¸€èŠ‚ï¼Œå„ç§ç±»å‹è½¬æ¢çš„æƒ…å†µä¸€çœ‹ä¾¿çŸ¥ï¼š[è¿™äº›çŸ¥è¯†ç‚¹ä½ éƒ½çŸ¥é“å—ï¼Œæµ‹è¯•ä½ çš„C++å…¥é—¨ç¨‹åº¦ (qq.com)](https://mp.weixin.qq.com/s?__biz=MzkyODU5MTYxMA==&mid=2247493075&idx=1&sn=fcabde545f1863d5a1a2095696308b5b&source=41#wechat_redirect)ã€‚

> ```c++
> // static_castï¼Œé€šå¸¸ç”¨äº c/c++ åŸºç¡€ç±»å‹ç›¸äº’ä¹‹é—´çš„è½¬æ¢
> 
> float f = 1.0f;
> int a = static_cast<int>(f);
> 
> 
> // const_castï¼Œè§£ const æŒ‡é’ˆçš„ï¼Œä¸æ¨èç”¨
> 
> const char* cc = "hello world\n";
> char* c = const_cast<char*>(cc);
> 
> 
> // dynamic_castï¼ŒåŸºç±»æŒ‡é’ˆ è½¬ å­ç±»æŒ‡é’ˆã€‚åè¿‡æ¥ï¼Œåˆ™ å­ç±»æŒ‡é’ˆå˜é‡ å¯ä»¥ç›´æ¥ é€šè¿‡ ç­‰å· èµ‹å€¼ ç»™ åŸºç±»æŒ‡é’ˆå˜é‡
> 
> struct Base {};
> struct Derive : public Base {};
> void func() {
>     Base* base = new Derive;
>     Derive* derive = dynamic_cast<Derive*>(base);
> }
> 
> // reinterpret_castï¼Œvoid* å’Œ ç±»æŒ‡é’ˆä¹‹é—´ ç›¸äº’è½¬
> 
> A *a = new A;
> void* d = reinterpret_cast<void*>(a);
> ```



å¯¹äº `std::shared_ptr` çš„ åŸºç±»æŒ‡é’ˆ è½¬ å­ç±»æŒ‡é’ˆï¼Œä½¿ç”¨ `std::dynamic_pointer_cast()`ã€‚



[C++å››ç§castçš„è¯¦ç»†ä»‹ç»_c++ cast-CSDNåšå®¢](https://blog.csdn.net/weixin_43340455/article/details/124595862)ã€‚



### å¼•ç”¨

è¡¥å……å‚è€ƒ [C++å¼•ç”¨ç²¾è®²ï¼ŒC++ &ç”¨æ³•å…¨é¢å‰–æ (biancheng.net)](http://c.biancheng.net/cplus/25/)ã€‚[c++å¼•ç”¨_è·¯è¿‡çš„å°ç†Š~çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/qq_32348883/article/details/123316063)ã€‚

[å¼•ç”¨ - OI Wiki (oi-wiki.org)](https://oi-wiki.org/lang/reference/)ã€‚



ä½œç”¨ï¼š ç»™å˜é‡èµ·åˆ«åã€‚ è¯­æ³•ï¼š `æ•°æ®ç±»å‹& åˆ«å = åŸå`ã€‚æœ¬è´¨ï¼šå¼•ç”¨çš„æœ¬è´¨åœ¨c++å†…éƒ¨å®ç°æ˜¯ä¸€ä¸ªå¸¸é‡æŒ‡é’ˆ

ç‰¹ç‚¹ï¼š

- å¼•ç”¨å¿…é¡»åˆå§‹åŒ–ã€‚
- å¼•ç”¨åœ¨åˆå§‹åŒ–åï¼Œä¸å¯ä»¥æ”¹å˜ã€‚
- å‡½æ•°ä¼ å‚æ—¶ï¼Œå¯ä»¥åˆ©ç”¨ â€œå¼•ç”¨â€ è®©ä¿®é¥°å½¢å‚ï¼ˆç­‰æ•ˆäºä¼ å…¥æŒ‡é’ˆå¯ä»¥å˜é‡ä¿®æ”¹ï¼‰ï¼Œä¹Ÿå¯ä»¥ä¿®é¥° è¿”å›å€¼ï¼ˆå‡½æ•°å†…ä¸è¦è¿”å›å±€éƒ¨å˜é‡çš„å¼•ç”¨ï¼‰ã€‚é€šè¿‡å¼•ç”¨å‚æ•°äº§ç”Ÿçš„æ•ˆæœåŒæŒ‰ åœ°å€/æŒ‡é’ˆ ä¼ é€’æ˜¯ä¸€æ ·çš„ï¼Œå¼•ç”¨çš„è¯­æ³•æ›´æ¸…æ¥šç®€å•ã€‚
- åœ¨å‡½æ•°å½¢å‚åˆ—è¡¨ä¸­ï¼Œå¯ä»¥åŠ  const ä¿®é¥°å½¢å‚ ï¼Œé˜²æ­¢å½¢å‚æ”¹å˜å®å‚ï¼Œå¢åŠ å¼•ç”¨çš„å®‰å…¨æ€§ã€‚
- ä¸èƒ½å»ºç«‹æ•°ç»„çš„å¼•ç”¨ã€‚

```c++
// å¼•ç”¨ä¿®é¥° å½¢å‚ å’Œ è¿”å›å€¼ã€‚ä¼ å…¥ a b è¿›è¡Œäº¤æ¢ï¼Œå†è¿”å› é™æ€å˜é‡ cã€‚
int& test02(int& a, int& b, const int& v)
{
    /* v åªèƒ½è¯»ï¼Œä¸èƒ½æ”¹ */
    // v += 10;
    
    int temp = a;
	a = b;
	b = temp;
    
	static int c = 30;
	return c;
}

int& test01() {
	static int a = 20;
	return a; // å‡½æ•°å†…è¿”å›å¼•ç”¨å˜é‡å¿…é¡»ä¸º static ä¿®é¥° æˆ– å…¨å±€å˜é‡
}

int main()
{
    int a1;
    const int& ra=a1;
    // ra = 1; // é”™è¯¯
    a1 = 1;    // æ­£ç¡®
    
    int temp_a = 10, temp_b = 20;
	int& ref2 = test02(temp_a, temp_b, temp_a + temp_b);
    /* int& ref2 = xxx; ç¼–è¯‘å™¨è®¤ä¸ºä¸º int* const ref = &xxx */
    cout << "temp_a = " << temp_a << " " << "temp_b = " << temp_b << endl;
    cout << "ref2 = " << ref2 << endl;
    
    int& ref1 = test01();
    cout << "ref1 = " << ref1 << endl;
    test01() = 1000; /* è¿™æ ·ç­‰æ•ˆäºä¿®æ”¹ å˜é‡ ref1 */
    /* ç¼–è¯‘å™¨å‘ç° ref1 æ˜¯å¼•ç”¨ï¼Œè‡ªåŠ¨å¸®æˆ‘ä»¬è½¬æ¢ä¸º: *ref1 = 1000; */
    cout << "ref1 = " << ref1 << endl;
    
    system("pause");
    return 0;
}

/* æ‰“å°ä¿¡æ¯
    temp_a = 20 temp_b = 10
    ref2 = 30
    ref1 = 20
    ref1 = 1000
*/
```



**std::refã€std::cref**

å‚è€ƒï¼š

- [C++åº“std::ref-CSDNåšå®¢](https://blog.csdn.net/qq_41898196/article/details/139499283)ã€‚
- [C++11çš„std::refã€std::crefæºç è§£æ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/716614888)ã€‚

é‡åˆ° std::bind æˆ–è€… ç»™å‡½æ•°ä¼ å…¥å˜é‡çš„æ—¶å€™ï¼Œä¸ºäº†ç¡®ä¿æ˜¯ä¼ å…¥ çš„ å¼•ç”¨ è€Œä¸æ˜¯ æ‹·è´ï¼Œä½¿ç”¨ std::refã€std::cref ç»™ å®å‚ å¥—ä¸Šã€‚

> åœ¨å®é™…åº”ç”¨ä¸­ï¼Œèƒ½ç”¨ ç›´æ¥å¼•ç”¨ å°±ä½¿ç”¨ `ç›´æ¥å¼•ç”¨`ã€‚
> å½“ï¼š
>
> 1. ä½¿ç”¨ `æ ‡å‡†åº“ç®—æ³•`ã€‚
> 2. å‡½æ•°å¯¹è±¡ã€å›è°ƒã€‚
> 3. ä½¿ç”¨ `std::bind` æˆ–å…¶ä»–ç±»ä¼¼å·¥å…·ã€‚
> 4. å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­å°†å¼•ç”¨ä¼ é€’ç»™çº¿ç¨‹å‡½æ•°ã€‚
>
> ç›´æ¥ä¼ å¼•ç”¨ä¸é€‚ç”¨ï¼Œä½¿ç”¨ `stdï¼šï¼šref`ã€‚



### å³å€¼å¼•ç”¨ & ç§»åŠ¨è¯­ä¹‰ & å®Œç¾è½¬å‘

å‚è€ƒ

- [å·¦å€¼å¼•ç”¨ã€å³å€¼å¼•ç”¨ã€ç§»åŠ¨è¯­ä¹‰ã€å®Œç¾è½¬å‘ï¼Œä½ çŸ¥é“çš„ä¸çŸ¥é“çš„éƒ½åœ¨è¿™é‡Œ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/137662465)ã€‚
- [c++11 æ–°ç‰¹æ€§æ€»ç»“ï¼ˆä¸‰ï¼‰â€”â€”å³å€¼å¼•ç”¨å’Œå®Œç¾è½¬å‘ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/558517874)ã€‚TODO å¾…çœ‹ä¸‹



**å³å€¼**

ä¸‹é¢ä»»æ„ä¸€ä¸ªæ¡ä»¶æˆç«‹å³ç®—ï¼š

> - ä¸å¯ä»¥æ”¾åˆ°ç­‰å·å·¦è¾¹çš„ä¸œè¥¿ã€‚
>
> - ä¸èƒ½å–åœ°å€çš„æ²¡æœ‰åå­—çš„ä¸œè¥¿ã€‚
>
> - ä¸å¯è®¿é—®å†…å­˜åœ°å€çš„å€¼ã€‚
>
> - è¿ç®—è¡¨è¾¾å¼äº§ç”Ÿçš„ä¸´æ—¶å˜é‡ã€ä¸å’Œå¯¹è±¡å…³è”çš„åŸå§‹å­—é¢é‡ã€éå¼•ç”¨è¿”å›çš„ä¸´æ—¶å˜é‡ã€lambdaè¡¨è¾¾å¼ç­‰éƒ½æ˜¯çº¯å³å€¼
>
> - å°†äº¡å€¼ï¼ˆä¸´æ—¶äº§ç”Ÿçš„ï¼Œä¸æ‰“ç®—å†ç”¨äº†ï¼Œè¦æŠŠèµ„æºæ¬è¿ç»™åˆ«çš„å˜é‡ï¼Œè‡ªå·±ä¸å† hold ä¸€ä»½ï¼‰
>
>   å°†äº¡å€¼æ˜¯æŒ‡C++11æ–°å¢çš„å’Œå³å€¼å¼•ç”¨ç›¸å…³çš„è¡¨è¾¾å¼ï¼Œé€šå¸¸æŒ‡å°†è¦è¢«ç§»åŠ¨çš„å¯¹è±¡ã€T&&å‡½æ•°çš„è¿”å›å€¼ã€std::moveå‡½æ•°çš„è¿”å›å€¼ã€è½¬æ¢ä¸ºT&&ç±»å‹è½¬æ¢å‡½æ•°çš„è¿”å›å€¼ï¼Œå°†äº¡å€¼å¯ä»¥ç†è§£ä¸ºå³å°†è¦é”€æ¯çš„å€¼ï¼Œé€šè¿‡â€œç›—å–â€å…¶å®ƒå˜é‡å†…å­˜ç©ºé—´æ–¹å¼è·å–çš„å€¼ï¼Œåœ¨ç¡®ä¿å…¶å®ƒå˜é‡ä¸å†è¢«ä½¿ç”¨æˆ–è€…å³å°†è¢«é”€æ¯æ—¶ï¼Œå¯ä»¥é¿å…å†…å­˜ç©ºé—´çš„é‡Šæ”¾å’Œåˆ†é…ï¼Œå»¶é•¿å˜é‡å€¼çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¸¸ç”¨æ¥å®Œæˆç§»åŠ¨æ„é€ æˆ–è€…ç§»åŠ¨èµ‹å€¼çš„ç‰¹æ®Šä»»åŠ¡ã€‚

æˆ‘ç†è§£ å³å€¼å¼•ç”¨ï¼ˆT&&ï¼‰ã€ç§»åŠ¨è¯­ä¹‰ï¼ˆstd::moveï¼‰ï¼Œåœ¨å®è·µæ„ä¹‰ä¸Šï¼Œå³ä¸»è¦ç”¨äº è½¬ç§»æ‰€æœ‰æƒï¼Œçœå»æ‹·è´è´Ÿæ‹…ï¼›å°±æ˜¯è¿™ä¸ªèµ„æºï¼Œè¦ è½¬ç§» / æ¬è¿ åˆ°åˆ«çš„åœ°æ–¹ï¼ˆè€Œä¸æ˜¯æ‹·è´ä¸€ä»½ï¼Œæ˜¯å†…å­˜ä¸Šè¿™å—èµ„æºæ‰€å¤„å˜é‡ çš„ æ¢ä¸»ï¼‰ï¼Œå°±è½¬ä¸ºå³å€¼å¼•ç”¨ ç„¶åç”¨ ç§»åŠ¨è¯­ä¹‰ é€å‡ºå»ï¼Œé€èµ°èµ„æºåçš„å˜é‡ï¼Œå°±å½“ä½œäº¡å€¼ä¸è¦ç”¨äº†ï¼Œèµ„æºè½¬ç§»å‡ºå»äº†ï¼Œç”±æ¥ç€èµ„æºçš„å˜é‡æ¥æ›¿ä»£äº†ã€‚

```c++
T&& t = std::move(...); // è¿™ä¸ªï¼Œä¸€èˆ¬ç”¨äº å‡½æ•°å½¢å‚ å’Œ å®å‚
```

> å¯¹äºé‚£ç§åŸºæœ¬ç±»å‹intã€floatç­‰æ²¡æœ‰ä»»ä½•ä¼˜åŒ–ä½œç”¨ï¼Œè¿˜æ˜¯ä¼šæ‹·è´ï¼Œå› ä¸ºå®ƒä»¬å®ç°æ²¡æœ‰å¯¹åº”çš„ ç§»åŠ¨æ„é€ å‡½æ•°ã€‚
>
> C++æ‰€æœ‰çš„STLéƒ½å®ç°äº†ç§»åŠ¨è¯­ä¹‰ã€‚



å³å€¼å˜é‡ ç»™ å³å€¼ å–åˆ«åã€‚å³å€¼ï¼šä¸èƒ½å–åœ°å€çš„å€¼ã€å°†äº¡å€¼ã€‚

ç”¨äºæ„é€ å‡½æ•°ï¼šç§»åŠ¨æ„é€ ï¼ˆå‡å°‘æ‹·è´ï¼‰ï¼ˆç¼–è¯‘å™¨ä¼šç”Ÿæˆæµ…æ‹·è´çš„ç§»åŠ¨æ„é€ ï¼Œç±»é‡Œé¢æ²¡æœ‰æ¶‰åŠåˆ°å†…å­˜ç”³è¯·é‡Šæ”¾çš„å¯ä»¥ç›´æ¥ç”¨é»˜è®¤çš„ï¼Œå¦åˆ™éœ€è¦è‡ªå·±å®ç°æ·±æ‹·è´çš„ç§»åŠ¨æ„é€ ï¼‰

ç”¨äºæ¨¡æ¿å‡½æ•°ï¼šä¸‡èƒ½å¼•ç”¨ï¼ˆT&& tï¼‰+ å®Œç¾è½¬å‘ï¼ˆ`std::forward<T>()`ï¼‰



[C++å³å€¼å¼•ç”¨ä¸å·¦å€¼è¯¦è§£ï¼šç§»åŠ¨è¯­ä¹‰ã€å®Œç¾è½¬å‘çš„åº”ç”¨-CSDNåšå®¢](https://blog.csdn.net/weixin_55582891/article/details/134980889)

[ã€C++ã€‘å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰ï¼ˆå¸¦ä½ ç†è§£C++ä¸ºä½•å¦‚æ­¤é«˜æ•ˆï¼‰_c++å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰-CSDNåšå®¢](https://blog.csdn.net/c565114/article/details/142909059)



**å®Œç¾è½¬å‘ / è½¬å‘å³å€¼å¼•ç”¨**

> å†™ä¸€ä¸ª æ¥å—ä»»æ„å®å‚ çš„ å‡½æ•°æ¨¡æ¿ Aï¼Œå¹¶ è°ƒç”¨ å…¶å®ƒå‡½æ•° B å’Œ ç›´æ¥ä¼ å…¥å‚æ•°ï¼Œç›®æ ‡å‡½æ•° B ä¼šæ”¶åˆ° ä¸ è½¬å‘å‡½æ•° A å®Œå…¨ç›¸åŒçš„å®å‚ã€‚

TODOï¼šå‚è€ƒ ä¸Šé¢ é“¾æ¥ é‡Œé¢çš„ã€‚è¿˜éœ€è¦è‡ªå·±ç›¸å…³çš„ï¼Œæ€»ç»“ä¸‹æ”¾è¿™é‡Œ



**è¿”å›å€¼ä¼˜åŒ–**

> è¿”å›å€¼ä¼˜åŒ–(RVO)æ˜¯ä¸€ç§C++ç¼–è¯‘ä¼˜åŒ–æŠ€æœ¯ã€‚å½“å‡½æ•°éœ€è¦è¿”å›ä¸€ä¸ªå¯¹è±¡å®ä¾‹æ—¶å€™ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡å¹¶é€šè¿‡ å¤åˆ¶æ„é€ å‡½æ•° å°†ç›®æ ‡å¯¹è±¡å¤åˆ¶åˆ°ä¸´æ—¶å¯¹è±¡ï¼Œè¿™é‡Œæœ‰å¤åˆ¶æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ä¼šè¢«å¤šä½™çš„è°ƒç”¨åˆ°ï¼Œæœ‰ä»£ä»·ï¼Œè€Œé€šè¿‡è¿”å›å€¼ä¼˜åŒ–ï¼ŒC++æ ‡å‡†å…è®¸çœç•¥è°ƒç”¨è¿™äº›å¤åˆ¶æ„é€ å‡½æ•°ã€‚

> è§¦å‘ç¼–è¯‘å™¨çš„è¿”å›å€¼ä¼˜åŒ–ï¼ŒåŒæ—¶æ»¡è¶³å¦‚ä¸‹ï¼š
>
> 1. returnçš„å€¼ç±»å‹ä¸å‡½æ•°çš„è¿”å›å€¼ç±»å‹ç›¸åŒ
> 2. returnçš„æ˜¯ä¸€ä¸ªå±€éƒ¨å¯¹è±¡
>
> ä¸‹é¢è¿™æ®µä»£ç ä¼šè§¦å‘RVOï¼Œä¸æ‹·è´ä¹Ÿä¸ç§»åŠ¨ï¼Œä¸ç”Ÿæˆä¸´æ—¶å¯¹è±¡ï¼š
>
> ```c++
> std::vector<int> return_vector(void)
> {
>     std::vector<int> tmp {1,2,3,4,5};
>     return tmp;
> }
> 
> std::vector<int> rval_ref = return_vector();
> ```



[å€¼ç±»åˆ« - å¤åˆ¶æ¶ˆé™¤ - OI Wiki (oi-wiki.org)](https://oi-wiki.org/lang/value-category/#å¤åˆ¶æ¶ˆé™¤)ã€‚[å€¼ç±»åˆ« - å¸¸è§è¯¯åŒº - OI Wiki (oi-wiki.org)](https://oi-wiki.org/lang/value-category/#å¸¸è§è¯¯åŒº)ã€‚

> å¤åˆ¶æ¶ˆé™¤ä¸­çš„è¿”å›å€¼ä¼˜åŒ–ï¼ˆReturn Value Optimizationï¼ŒRVOï¼‰ã€‚

> - åœ¨ `f1` ä¸­è¿”å› `std::move(x)` æ˜¯å¤šä½™çš„ï¼Œå¹¶ä¸ä¼šå¸¦æ¥æ€§èƒ½ä¸Šçš„æå‡ï¼Œåè€Œä¼šå¹²æ‰°ç¼–è¯‘å™¨è¿›è¡Œ NRVO ä¼˜åŒ–ã€‚
> - åœ¨ `f2` ä¸­è¿”å› `std::move(x)` æ˜¯å±é™©çš„ï¼Œå‡½æ•°è¿”å›å³å€¼å¼•ç”¨æŒ‡å‘äº†å·²è¢«é”€æ¯çš„å±€éƒ¨å˜é‡ `s`ï¼Œå‡ºç°äº†æ‚¬ç©ºå¼•ç”¨é—®é¢˜ã€‚
>
> ```c++
> std::string f1() {
>   std::string s = "123";
>   // ç­‰ä»·äº return std::string(std::move(s))
>   return std::move(s);
> }
> 
> std::string&& f2() {
>   std::string s = "123";
>   return std::move(s);
> }
> ```



### å‡½æ•°é»˜è®¤å€¼ & å ä½å‚æ•° & é‡è½½

**å‡½æ•°é»˜è®¤å€¼**

å‡½æ•°çš„å½¢å‚åˆ—è¡¨ä¸­çš„å½¢å‚æ˜¯å¯ä»¥æœ‰é»˜è®¤å€¼çš„ã€‚

æ³¨æ„ç‚¹ï¼š

- ä»å¸¦æœ‰é»˜è®¤å‚æ•°çš„å½¢å‚å¼€å§‹ï¼Œå³é¢æ‰€æœ‰çš„å½¢å‚éƒ½è¦å¸¦é»˜è®¤å‚æ•°ã€‚
- å¦‚æœå‡½æ•°å£°æ˜æœ‰é»˜è®¤å€¼ï¼Œå‡½æ•°å®ç°çš„æ—¶å€™å°±ä¸èƒ½æœ‰é»˜è®¤å‚æ•°ã€‚

```c++
// ä»å¸¦æœ‰é»˜è®¤å‚æ•°çš„å½¢å‚å¼€å§‹ï¼Œå³é¢æ‰€æœ‰çš„å½¢å‚éƒ½è¦å¸¦é»˜è®¤å‚æ•°
int func(int a, int b = 10, int c = 10)
{
	return a + b + c;
}

// å¦‚æœå‡½æ•°å£°æ˜æœ‰é»˜è®¤å€¼ï¼Œå‡½æ•°å®ç°çš„æ—¶å€™å°±ä¸èƒ½æœ‰é»˜è®¤å‚æ•°
int func2(int a = 10, int b = 10);
int func2(int a, int b)
{
	return a + b;
}

int main()
{

	cout << "ret = " << func(20, 20) << endl;
	cout << "ret = " << func(100) << endl;

	system("pause");

	return 0;
}

/* æ‰“å°ä¿¡æ¯
    ret = 50
    ret = 120
*/
```



**å‡½æ•°å ä½å‚æ•°**



å‡½æ•°çš„å½¢å‚åˆ—è¡¨é‡Œå¯ä»¥æœ‰å ä½å‚æ•°ï¼ˆä½†åªå†™å˜é‡ç±»å‹ä¸ç”¨å†™å˜é‡åï¼‰ï¼Œç”¨æ¥åšå ä½ï¼Œè°ƒç”¨å‡½æ•°æ—¶å¿…é¡»å¡«è¡¥è¯¥ä½ç½®ã€‚åœ¨ä¸ªåˆ«é«˜çº§ç¼–ç¨‹åœºæ™¯é‡Œé¢ä¼šç”¨åˆ°ã€‚

```c++
// å‡½æ•°å ä½å‚æ•° ï¼Œå ä½å‚æ•°ä¹Ÿå¯ä»¥æœ‰é»˜è®¤å‚æ•°
void func(int a, int)
{
	cout << "this is func" << endl;
}

int main() {

	func(10,10); // å ä½å‚æ•°å¿…é¡»å¡«è¡¥

	system("pause");
	return 0;
}
```



**å‡½æ•°é‡è½½**

å‡½æ•°åç›¸åŒä½†å‚æ•°åˆ—è¡¨ä¸åŒçš„å¤šä¸ªå‡½æ•°å…±å­˜ï¼Œè°ƒç”¨æ—¶é€šè¿‡ä¼ å…¥ä¸åŒå‚æ•°å½¢å¼æ¥åŒºåˆ†è°ƒç”¨å“ªä¸€ä¸ªã€‚

å‡½æ•°é‡è½½æ»¡è¶³æ¡ä»¶ å’Œ ä¾‹å­ï¼š

* åŒä¸€ä¸ªä½œç”¨åŸŸä¸‹ã€‚

* å‡½æ•°åç§°ç›¸åŒã€‚

* å‡½æ•°å‚æ•°**ç±»å‹ä¸åŒ**  æˆ–è€… **ä¸ªæ•°ä¸åŒ** æˆ–è€… **é¡ºåºä¸åŒ**ã€‚å‡½æ•°çš„è¿”å›å€¼ä¸ä½œä¸ºå‡½æ•°é‡è½½çš„æ¡ä»¶ã€‚

  å¼•ç”¨ä¹Ÿç®—ï¼Œå¸¦ä¸å¸¦ const ä¿®é¥°çš„å½¢å‚ ä¹Ÿç®—ä¸åŒï¼ˆä¼ å…¥å‚æ•°ä¹Ÿæ ¹æ®æ˜¯ä¸æ˜¯å¸¸é‡æ¥åŒºåˆ†è°ƒç”¨å“ªä¸€ä¸ªå‡½æ•°ï¼‰ã€‚

  å‡½æ•°é»˜è®¤å‚æ•° ä¹Ÿç®—ä¸åŒï¼Œä½†è¦æ³¨æ„è°ƒç”¨æ—¶å€™ä¸è¦äº§ç”Ÿæ­§ä¹‰ã€‚

```c++
void func() {}                    // è°ƒç”¨ä¾‹å­ï¼šfunc();
void func(int a) {}               // è°ƒç”¨ä¾‹å­ï¼šfunc(10);
void func(double a) {}            // è°ƒç”¨ä¾‹å­ï¼šfunc(3.14);
void func(int a ,double b) {}     // è°ƒç”¨ä¾‹å­ï¼šfunc(10, 3.14);
void func(double a ,int b) {}     // è°ƒç”¨ä¾‹å­ï¼šfunc(3.14, 10);

void func(int &a) {}              // è°ƒç”¨ä¾‹å­ï¼šint a = 10; func(a);  å³ è°ƒç”¨æ—  const çš„
void func(const int &a) {}        // è°ƒç”¨ä¾‹å­ï¼š            func(10); å³ è°ƒç”¨æœ‰ const çš„

void func2(int a, int b = 10)     // è¿™æ ·è°ƒç”¨ä¼šäº§ç”Ÿæ­§ä¹‰ï¼šfunc2(10);  ç¢°åˆ°é»˜è®¤å‚æ•°äº§ç”Ÿæ­§ä¹‰ï¼Œéœ€è¦é¿å…
void func2(int a)
```



### å¼‚å¸¸å¤„ç†

- å‚è€ƒ [C++ å¼‚å¸¸å¤„ç† | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-exceptions-handling.html)ã€‚[C++å¼‚å¸¸å¤„ç†ï¼ˆtry catchï¼‰ä»å…¥é—¨åˆ°ç²¾é€š (biancheng.net)](http://c.biancheng.net/cplus/exception/)ã€‚
- å‚è€ƒè§†é¢‘ [shellmad-c++_57 å¼‚å¸¸å¤„ç†_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1iA411q7hx/)ã€‚
- [C++å¼‚å¸¸å¤„ç†è¯¦è§£-CSDNåšå®¢](https://blog.csdn.net/dreamsparkc/article/details/38323415)ã€‚



åŸºæœ¬çš„å¼‚å¸¸å¤„ç†å†™æ³•ï¼šå¯ä»¥å†™æˆä¸€ä¸ªå®ï¼Œåé¢è°ƒç”¨å®æ¥åŒ…è£¹èµ·æ¥ä¼šæŠ›å¼‚å¸¸çš„ä»£ç æ®µ

```c++
try {
    // run something
} catch (const std::exception& e) {
    std::cout << " catch exception: %s" << e.what() << std::endl;
} catch (...) {
    std::cout << " catch exception" << std::endl;
}
```



æŠ›å¼‚å¸¸ç›¸å…³ï¼š

1.

ç›´æ¥ä½¿ç”¨ `std::runtime_error`ã€`std::invalid_argument` ç­‰æ ‡å‡†å¼‚å¸¸ç±»ï¼Œè¿™äº›ç±»éƒ½å…è®¸ä¼ é€’é”™è¯¯æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼š

```c++
try {
    throw std::runtime_error("Something went wrong during execution!");
} catch (const std::exception& e) {
    std::cout << "Caught an exception: " << e.what() << std::endl;  // æ‰“å°å¼‚å¸¸ä¿¡æ¯
}
```

C++ æ ‡å‡†åº“ä¸­æœ‰å¾ˆå¤šå†…ç½®çš„å¼‚å¸¸ç±»å‹ï¼Œå®ƒä»¬éƒ½ç»§æ‰¿è‡ª std::exceptionï¼Œå¹¶ä¸”å…è®¸ä½ ä¼ é€’ä¸€ä¸ªé”™è¯¯æ¶ˆæ¯ã€‚æ¯”å¦‚å…¶å®ƒçš„æ ‡å‡†å¼‚å¸¸ç±»ï¼š

- std::invalid_argumentï¼šè¡¨ç¤ºæ— æ•ˆå‚æ•°çš„å¼‚å¸¸ã€‚
- std::out_of_rangeï¼šè¡¨ç¤ºè¶…å‡ºèŒƒå›´çš„å¼‚å¸¸ã€‚
- std::logic_errorï¼šè¡¨ç¤ºç¨‹åºé€»è¾‘é”™è¯¯çš„å¼‚å¸¸ã€‚
- std::domain_errorï¼šè¡¨ç¤ºéæ³•åŸŸçš„å¼‚å¸¸ã€‚
- std::length_errorï¼šè¡¨ç¤ºå®¹å™¨çš„å¤§å°è¶…è¿‡å…è®¸èŒƒå›´ã€‚

2.

å¯ä»¥åˆ›å»ºä¸€ä¸ªç»§æ‰¿è‡ª std::exception çš„ç±»ã€‚è¿™ä¸ªç±»éœ€è¦é‡è½½ what() æ–¹æ³•æ¥è¿”å›å¼‚å¸¸ä¿¡æ¯ã€‚



è‡ªå·±çš„ä¹ æƒ¯ï¼š

1ã€è‡ªå·±å†™çš„ç¨‹åºï¼Œå°½é‡ä¸ä¸»åŠ¨æŠ›å¼‚å¸¸ï¼ˆä»£ç ä¸€å¤æ‚ã€å±‚æ¬¡ä¸€å¤šï¼Œå°±éº»äº†ï¼‰ã€‚

2ã€å†™ C++ çš„ä»£ç ä¸­ï¼Œæ‰€æœ‰å¯èƒ½æŠ›å¼‚å¸¸çš„åœ°æ–¹å‡ç”¨ try catch å¤„ç†å¹¶æ‰“å° logï¼ˆç”¨ä¸Šé¢çš„å® TRY_CATCH(_exec) å¥—ä¸Šå³å¯ï¼‰ï¼Œé˜²æ­¢æ­¤ç±»çš„ crashã€‚



ä»æœºåˆ¶ä¸Šï¼Œc++åšä¸åˆ°å¯èƒ½æŠ›å¼‚å¸¸çš„APIæ²¡æœ‰åŠ try catchå°±ç¼–è¯‘ç»™è­¦å‘Šæˆ–æŠ¥é”™ï¼›è€Œä¸”ä¹Ÿä¸æ¨èå¼ºåˆ¶åšã€‚

> å¼‚å¸¸æ˜¯åŠ¨æ€çš„ï¼ŒæŠ›å‡ºçš„å¼‚å¸¸ç±»å‹æ˜¯åœ¨è¿è¡Œæ—¶ç¡®å®šçš„ï¼Œè€Œä¸æ˜¯åœ¨ç¼–è¯‘æ—¶å¯ä»¥ç²¾ç¡®æ¨æ–­çš„ã€‚C++ å¹¶æ²¡æœ‰å¼ºåˆ¶è¦æ±‚æ‰€æœ‰å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç éƒ½å¿…é¡»è¢« try-catch åŒ…å›´ã€‚ç›¸åï¼ŒC++ çš„å¼‚å¸¸å¤„ç†è®¾è®¡å…è®¸å¼€å‘è€…çµæ´»åœ°é€‰æ‹©æ˜¯å¦å¤„ç†å¼‚å¸¸ï¼Œè¿™æ ·å¯ä»¥æ ¹æ®å…·ä½“çš„åº”ç”¨éœ€æ±‚å’Œæ€§èƒ½è€ƒè™‘æ¥å†³å®šæ˜¯å¦ä½¿ç”¨å¼‚å¸¸æœºåˆ¶ã€‚
> å¦‚æœç¼–è¯‘å™¨å¼ºåˆ¶è¦æ±‚æ•è·æ‰€æœ‰å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¯èƒ½ä¼šå¯¼è‡´é¢å¤–çš„æ€§èƒ½å¼€é”€å’Œä»£ç å¤æ‚æ€§ï¼Œè¿™è¿èƒŒäº† C++ ä½œä¸ºä¸€é—¨é«˜æ•ˆç¼–ç¨‹è¯­è¨€çš„è®¾è®¡ç†å¿µã€‚



- [ä½ çš„c++å›¢é˜Ÿè¿˜åœ¨ç¦ç”¨å¼‚å¸¸å¤„ç†å—ï¼Ÿ (qq.com)](https://mp.weixin.qq.com/s?__biz=MzkyODU5MTYxMA==&mid=2247492949&idx=1&sn=3ead6a2141dcc07bb5344a53c197d78d&source=41#wechat_redirect)

  è™½ç„¶é“¾æ¥ä¸­æ–‡ç« è¡¨ç¤ºå¼‚å¸¸æ˜¯æ¯”è¿”å›å€¼æ›´å¥½çš„å¤„ç†é”™è¯¯çš„æ–¹å¼ï¼Œä½†æ˜¯æœ¬æ–‡ä½œè€…ä¸ªäººè¡¨ç¤ºè‡ªå·±å†™çš„ç¨‹åºè¿˜æ˜¯å°½é‡ä¸æŠ›å‡ºå¼‚å¸¸ï¼Œç¨‹åºä¸€å¤§ä¸å¥½æ§åˆ¶ï¼Œå¾—æ€»æ˜¯åˆ†å‡ºç‚¹æ³¨æ„åŠ›æ¥å¤„ç†å¼‚å¸¸ï¼ˆä¸”å®¹æ˜“å¿˜ï¼‰ï¼Œä¸€æ—¦å‡½æ•°åµŒå¥—å±‚æ•°ä¸€å¤šå°±å®¹æ˜“ä¹±ä¸”éš¾ç»´æŠ¤ï¼Œä½¿ç”¨åº“çš„æ–¹æ³•å¯èƒ½æŠ›å‡ºå¼‚å¸¸åˆ™å¿…é¡»è¦å†™ä¸Š catch å¼‚å¸¸ï¼Œé™¤éèƒ½å¤Ÿä¿è¯è¾“å…¥å‚æ•°ç­‰ä¸€å®šæ­£ç¡®ä½¿ç”¨ä½¿å¾—æ–¹æ³•ä¸æŠ›å¼‚å¸¸ã€‚ä½†æ˜¯ä¹Ÿä¸è¦è¿‡åº¦æ˜¯ä½¿ç”¨è¿”å›å€¼çš„åˆ¤æ–­ï¼ˆä¸€ä¸² if else çš„åˆ¤æ–­ï¼‰å’Œå±‚å±‚è¿”å›ä¼ é€’ï¼ŒæŸä¸€å±‚å‡ºé”™ï¼Œè§†æƒ…å†µä¸¥é‡æ€§ï¼Œæ˜¯ç›´æ¥ç»ˆæ­¢ç¨‹åºï¼ˆåé¢ä¾é æ¯”è¾ƒå®Œå¤‡çš„æµ‹è¯•æ¥é€æ¸æ”¶æ•›ç¨‹åº bug æ¥æé«˜ç¨‹åºå¥å£®æ€§ï¼‰ï¼Œè¿˜æ˜¯åŠæ—¶åœ¨å½“ä¸‹æ¥å¤„ç†é”™è¯¯ï¼ˆå¦‚ç»™ä¸ªé»˜è®¤å€¼ç­‰ï¼‰ã€‚

  ä¸‹é¢æ˜¯é“¾æ¥æ–‡ç« ä¸­çš„ä¸€äº›ç²¾åï¼Œä¹Ÿå¯ä»¥å‚è€ƒï¼š

  > å¼‚å¸¸å¤„ç†å¯¹äºé”™è¯¯çš„å¤„ç†æ›´ç®€æ´ï¼Œå¯ä»¥æ›´æ–¹ä¾¿çš„æŠŠé”™è¯¯ä¿¡æ¯åé¦ˆç»™è°ƒç”¨è€…ï¼ŒåŒæ—¶ä¸éœ€è¦è°ƒç”¨è€…ä½¿ç”¨é¢å¤–çš„ifelseåˆ†æ”¯æ¥å¤„ç†æˆåŠŸæˆ–è€…ä¸æˆåŠŸçš„æƒ…å†µã€‚å¦‚æœä¸æ˜¯ç‰¹åˆ«ç‰¹åˆ«æ³¨é‡å®æ—¶æ€§èƒ½æˆ–è€…ç‰¹åˆ«åœ¨ä¹ç¨‹åºçš„ä½“ç§¯æˆ‘ä»¬å®Œå…¨å¯ä»¥ä½¿ç”¨å¼‚å¸¸å¤„ç†æ›¿ä»£æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨çš„cè¯­è¨€ä¸­çš„é‚£ç§é”™è¯¯ç å¤„ç†æ–¹å¼ã€‚
  >
  > **å¦‚æœæœ‰æ›´å¤šçš„è¿ç®—ï¼Œæˆ–è€…æœ‰æ›´å¤šçš„é”™è¯¯ç ï¼Œå¼‚å¸¸å¤„ç†çš„ä¼˜åŠ¿ä¼šæ›´æ˜æ˜¾ã€‚**
  >
  > - ä½¿ç”¨å¼‚å¸¸å¯ä»¥ä½¿å¾—ä»£ç é€»è¾‘æ›´æ¸…æ™°ï¼Œå°†ä»£ç æŒ‰æ­£ç¡®çš„é€»è¾‘åˆ—å‡ºæ¥ï¼Œé€»è¾‘æ›´ç´§å¯†ä»£ç æ›´å®¹æ˜“è¯»æ‡‚ï¼Œè€Œé”™è¯¯å¤„ç†å¯ä»¥å•ç‹¬æ”¾åˆ°æœ€ååšå¤„ç†ã€‚
  > - å¼‚å¸¸å¯ä»¥é€‰æ‹©è‡ªå·±å¤„ç†æˆ–è€…ä¼ é€’ç»™ä¸Šå±‚å¤„ç†
  >
  > **å¼‚å¸¸å¤„ç†çš„å…³é”®ç‚¹**
  >
  > 1. ä¸åº”è¯¥ä½¿ç”¨å¼‚å¸¸å¤„ç†åšä»€ä¹ˆï¼Ÿ
  >
  > 2. - throwä»…ç”¨äºæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œæ ‡è¯†å‡½æ•°æ²¡æœ‰æŒ‰è®¾æƒ³çš„æ–¹å¼å»æ‰§è¡Œ
  >    - åªæœ‰åœ¨çŸ¥é“å¯ä»¥å¤„ç†é”™è¯¯æ—¶ï¼Œæ‰ä½¿ç”¨catchæ¥æ•è·é”™è¯¯ï¼Œä¾‹å¦‚è½¬æ¢ç±»å‹æˆ–è€…å†…å­˜åˆ†é…å¤±è´¥
  >    - ä¸è¦ä½¿ç”¨throwæ¥æŠ›å‡ºç¼–ç é”™è¯¯ï¼Œåº”è¯¥ä½¿ç”¨assertæˆ–è€…å…¶å®ƒæ–¹æ³•å‘Šè¯‰ç¼–è¯‘å™¨æˆ–è€…å´©æºƒè¿›ç¨‹æ”¶é›†debugä¿¡æ¯
  >    - å¦‚æœæœ‰å¿…é¡»è¦å´©æºƒçš„äº‹ä»¶ï¼Œæˆ–è€…æ— æ³•æ¢å¤çš„é—®é¢˜ï¼Œä¸åº”è¯¥ä½¿ç”¨throwæŠ›å‡ºï¼Œå› ä¸ºæŠ›å‡ºæ¥å¤–éƒ¨ä¹Ÿæ— æ³•å¤„ç†ï¼Œå°±åº”è¯¥è®©ç¨‹åºå´©æºƒ
  >    - tryã€catchä¸åº”è¯¥ç®€å•çš„ç”¨äºå‡½æ•°è¿”å›å€¼ï¼Œå‡½æ•°çš„è¿”å›å€¼åº”è¯¥ä½¿ç”¨returnæ“ä½œï¼Œä¸åº”è¯¥ä½¿ç”¨catchï¼Œè¿™ä¼šç»™ç¼–ç¨‹äººå‘˜å¸¦æ¥è¯¯è§£ï¼ŒåŒæ—¶ä¹Ÿä¸åº”è¯¥ç”¨å¼‚å¸¸æ¥è·³å‡ºå¾ªç¯
  >
  > 3. å¼‚å¸¸å¤„ç†çœ‹ä¼¼ç®€å•å¥½ç”¨ï¼Œä½†å®ƒéœ€è¦é¡¹ç›®æˆå‘˜ä¸¥æ ¼éµå®ˆå¼€å‘è§„èŒƒï¼Œå®šå¥½ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å¼‚å¸¸ï¼Œä»€ä¹ˆæ—¶å€™ä¸ä½¿ç”¨ï¼Œè€Œä¸æ˜¯æ—¢ä½¿ç”¨å¼‚å¸¸åˆä½¿ç”¨é”™è¯¯ç æ–¹å¼ã€‚
  >
  > 4. æ„é€ å‡½æ•°å¯ä»¥æŠ›å‡ºå¼‚å¸¸å—ï¼Ÿå¯ä»¥è€Œä¸”å»ºè®®ä½¿ç”¨å¼‚å¸¸ï¼Œå› ä¸ºæ„é€ å‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥åªèƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œä¹Ÿæœ‰å¦ä¸€ç§åŠæ³•å°±æ˜¯æ·»åŠ ä¸€ä¸ªæˆå‘˜å˜é‡æ ‡è¯†å¯¹è±¡æ˜¯å¦æ„é€ æˆåŠŸï¼Œè¿™ç§æ–¹æ³•é‚£å°±ä¼šé¢å¤–æ·»åŠ ä¸€ä¸ªè¿”å›è¯¥è¿”å›å€¼çš„å‡½æ•°ï¼Œå¦‚æœå®šä¹‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„é‚£å°±éœ€è¦å¯¹æ•°ç»„æ¯ä¸ªå¯¹è±¡éƒ½åˆ¤æ–­æ˜¯å¦æ„é€ æˆåŠŸï¼Œè¿™ç§ä»£ç ä¸å¤ªå¥½ã€‚
  >
  > 5. æ„é€ å‡½æ•°æŠ›å‡ºå¼‚å¸¸ä¼šäº§ç”Ÿå†…å­˜æ³„æ¼å—ï¼Ÿä¸ä¼šï¼Œæ„é€ å‡½æ•°æŠ›å‡ºå¼‚å¸¸äº§ç”Ÿå†…å­˜æ³„æ¼é‚£æ˜¯ç¼–è¯‘å™¨çš„bugï¼Œå·²ç»åœ¨21ä¸–çºªä¿®å¤ï¼Œä¸è¦å¬ä¿¡è°£è¨€ã€‚
  >
  >    ```c++
  >    void f() {
  >     X x;             // If X::X() throws, the memory for x itself will not leak
  >     Y* p = new Y();  // If Y::Y() throws, the memory for *p itself will not leak
  >    }
  >    ```
  >
  > 6. æ°¸è¿œä¸è¦åœ¨ææ„å‡½æ•°ä¸­æŠŠå¼‚å¸¸æŠ›å‡ºï¼Œè¿˜æ˜¯æ‹¿å¯¹è±¡æ•°ç»„ä¸¾ä¾‹ï¼Œæ•°ç»„é‡Œæœ‰å¤šä¸ªå¯¹è±¡ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªå¯¹è±¡ææ„è¿‡ç¨‹ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œä¼šå¯¼è‡´å‰©ä½™çš„å¯¹è±¡éƒ½æ— æ³•è¢«ææ„ï¼Œææ„å‡½æ•°åº”è¯¥æ•è·å¼‚å¸¸å¹¶æŠŠä»–ä»¬åä¸‹æˆ–è€…ç»ˆæ­¢ç¨‹åºï¼Œè€Œä¸æ˜¯æŠ›å‡ºã€‚
  >
  > 7. æ„é€ å‡½æ•°å†…ç”³è¯·å®Œèµ„æºåæŠ›å‡ºå¼‚å¸¸æ€ä¹ˆåŠï¼Ÿä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼Œå…³äºchar*ä¹Ÿå¯ä»¥ä½¿ç”¨std::stringä»£æ›¿ã€‚
  >
  >    ```c++
  >    #include <memory>
  >    
  >    using namespace std;
  >    
  >    class SPResourceClass {
  >    private:
  >       shared_ptr<int> m_p;
  >       shared_ptr<float> m_q;
  >    public:
  >       SPResourceClass() : m_p(new int), m_q(new float) { }
  >       // Implicitly defined dtor is OK for these members,
  >       // shared_ptr will clean up and avoid leaks regardless.
  >    };
  >    ```
  >
  > 8. æ°¸è¿œé€šè¿‡å€¼ä¼ é€’æ–¹å¼ç”¨throwæŠ›å‡ºå¼‚å¸¸ï¼Œé€šè¿‡å¼•ç”¨ä¼ é€’ç”¨catchæ¥æ•è·å¼‚å¸¸ã€‚
  >
  > 9. å¯ä»¥æŠ›å‡ºåŸºæœ¬ç±»å‹ä¹Ÿå¯ä»¥æŠ›å‡ºå¯¹è±¡ï¼Œå•¥éƒ½å¯ä»¥
  >
  > 10. catch(...)å¯ä»¥æ•è·æ‰€æœ‰å¼‚å¸¸
  >
  > 11. catchè¿‡ç¨‹ä¸­ä¸ä¼šè§¦å‘éšå¼ç±»å‹è½¬æ¢
  >
  > 12. å¼‚å¸¸è¢«æŠ›å‡ºï¼Œä½†æ˜¯ç›´åˆ°mainå‡½æ•°ä¹Ÿæ²¡æœ‰è¢«catchï¼Œå°±ä¼šstd::terminate()
  >
  > 13. c++ä¸åƒjavaï¼Œä¸ä¼šå¼ºåˆ¶æ£€æŸ¥å¼‚å¸¸ï¼Œthrowäº†å¤–å±‚å³ä½¿æ²¡æœ‰catchä¹Ÿä¼šç¼–è¯‘é€šè¿‡
  >
  > 14. å¼‚å¸¸è¢«æŠ›å‡ºæ—¶ï¼Œåœ¨catchä¹‹å‰ï¼Œtryå’Œthrowä¹‹é—´çš„æ‰€æœ‰å±€éƒ¨å¯¹è±¡éƒ½ä¼šè¢«ææ„
  >
  > 15. å¦‚æœä¸€ä¸ªæˆå‘˜å‡½æ•°ä¸ä¼šäº§ç”Ÿä»»ä½•å¼‚å¸¸ï¼Œå¯ä»¥ä½¿ç”¨noexceptå…³é”®å­—ä¿®é¥°
  >
  > 16. é€šè¿‡throwå¯ä»¥é‡æ–°æŠ›å‡ºå¼‚å¸¸



æŒ‡å®šå‡½æ•°ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ ä»¥åŠéªŒè¯ å‡½æ•°æ˜¯å¦ä¼šæŠ›å¼‚å¸¸ `noexcept`ï¼š

å‚è€ƒ [noexcept è¯´æ˜ç¬¦ (C++11 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/noexcept_spec)ã€‚[noexcept è¿ç®—ç¬¦ (C++11 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/noexcept)

> ```c++
> void f() noexcept;            // å‡½æ•° f() ä¸ä¼šæŠ›å‡º
> void (*fp)() noexcept(false); // fp æŒ‡å‘å¯èƒ½ä¼šæŠ›å‡ºçš„å‡½æ•°
> 
> void may_throw();
> void no_throw() noexcept;
> // !noexcept(may_throw())   ä¸º trueï¼Œ å³ å¯èƒ½ä¼š æŠ›å¼‚å¸¸
> // !noexcept(no_throw())    ä¸º falseï¼Œå³ ä¸ä¼š   æŠ›å¼‚å¸¸
> ```



### å±æ€§

å‚è€ƒï¼š

- [å±æ€§è¯´æ˜ç¬¦åºåˆ— (C++11 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/attributes)ã€‚



> ### æ ‡å‡†å±æ€§
>
> C++ æ ‡å‡†å®šä¹‰äº†ä¸‹åˆ—å±æ€§ã€‚
>
> æ ‡å‡†å±æ€§ä¸èƒ½åœ¨è¯­æ³•ä¸Šè¢«å¿½ç•¥ï¼šå®ƒä»¬ä¸èƒ½åŒ…å«è¯­æ³•é”™è¯¯ï¼Œå¿…é¡»åº”ç”¨åˆ°æ­£ç¡®çš„ç›®æ ‡ï¼Œå¹¶ä¸”å®å‚ä¸­çš„å®ä½“éƒ½ä¼šè¢« [ODR ä½¿ç”¨](https://zh.cppreference.com/w/cpp/language/definition#ODR_.E4.BD.BF.E7.94.A8)ã€‚
>
> æ ‡å‡†å±æ€§ä¹Ÿä¸èƒ½åœ¨è¯­ä¹‰ä¸Šè¢«å¿½ç•¥ï¼šç¨‹åºåœ¨å»æ‰æŸä¸ªæ ‡å‡†å±æ€§çš„æ‰€æœ‰å®ä¾‹çš„æƒ…å†µä¸‹çš„è¡Œä¸ºå¿…é¡»æ˜¯è¯¥ç¨‹åºåœ¨ä¿ç•™è¯¥å±æ€§çš„æƒ…å†µä¸‹éµå®ˆæ ‡å‡†è¦æ±‚çš„è¡Œä¸ºã€‚
>
> | å±æ€§                                                      | é‡Šä¹‰                                                         |
> | --------------------------------------------------------- | ------------------------------------------------------------ |
> | **`[[noreturn]]`**(C++11)                                 | æŒ‡ç¤ºå‡½æ•°ä¸è¿”å› (å±æ€§æŒ‡ç¤ºç¬¦)                                  |
> | `[[carries_dependency]]`(C++11)                           | æŒ‡ç¤ºåœ¨å‡½æ•°å†…å¤–ä¼ æ’­â€œé‡Šæ”¾-æ¶ˆè´¹â€[std::memory_order](https://zh.cppreference.com/w/cpp/atomic/memory_order) ä¸­çš„ä¾èµ–é“¾ |
> | `[[deprecated]]`(C++14) `[[deprecated("*åŸå› *")]]`(C++14) | æŒ‡ç¤ºä»¥æ­¤å±æ€§å£°æ˜çš„åå­—æˆ–å®ä½“ï¼Œå…è®¸ä½¿ç”¨ä½†å› æŸç§ *åŸå› *  è€Œä¸é¼“åŠ±ä½¿ç”¨ |
> | **`[[fallthrough]]`**(C++17)                              | æŒ‡ç¤ºä»å‰ä¸€ case æ ‡å·çš„ç›´è½æ˜¯æ•…æ„çš„ï¼Œä¸”ä¼šè­¦å‘Šç›´è½çš„ç¼–è¯‘å™¨ä¸åº”å½“å¯¹æ­¤è¯Šæ–­ |
> | **`[[maybe_unused]]`**(C++17)                             | æŠ‘åˆ¶å¯¹äºæœªä½¿ç”¨å®ä½“çš„ç¼–è¯‘å™¨è­¦å‘Šï¼Œå¦‚æœæœ‰                       |
> | `[[nodiscard]]`(C++17) `[[nodiscard("*åŸå› *")]]`(C++20)   | é¼“åŠ±ç¼–è¯‘å™¨åœ¨è¿”å›å€¼è¢«ä¸¢å¼ƒæ—¶å‘å‡ºè­¦å‘Š                           |
> | **`[[likely]]`**(C++20) **`[[unlikely]]`**(C++20)         | æŒ‡ç¤ºç¼–è¯‘å™¨åº”å½“é’ˆå¯¹æ­¤ç§æƒ…å†µè¿›è¡Œä¼˜åŒ–ï¼šé€šè¿‡æŸæ¡è¯­å¥çš„æ‰§è¡Œè·¯å¾„æ¯”å…¶ä»–ä»»ä½•æ‰§è¡Œè·¯å¾„æ›´å¯èƒ½æˆ–ä¸å¯èƒ½å‘ç”Ÿ |
> | `[[no_unique_address]]`(C++20)                            | æŒ‡ç¤ºä¸€ä¸ªéé™æ€æ•°æ®æˆå‘˜ä¸å¿…å…·æœ‰ä¸ç±»ä¸­çš„å…¶ä»–æ‰€æœ‰éé™æ€æ•°æ®æˆå‘˜éƒ½ä¸åŒçš„åœ°å€ |
> | `[[assume(*è¡¨è¾¾å¼*)]]`(C++23)                             | æŒ‡ç¤º *è¡¨è¾¾å¼* åœ¨ç»™å®šçš„ä½ç½®æ°¸è¿œä¸º true                        |
> | `[[indeterminate]]`(C++26)                                | æŒ‡ç¤ºå¯¹è±¡åœ¨æœªåˆå§‹åŒ–æ—¶å…·æœ‰ä¸ç¡®å®šå€¼                             |
> | `[[optimize_for_synchronized]]`(TM TS)                    | æŒ‡ç¤ºå‡½æ•°å®šä¹‰åº”å½“ä¸ºä»[åŒæ­¥è¯­å¥](https://zh.cppreference.com/w/cpp/language/transactional_memory)ä¸­è°ƒç”¨çš„æƒ…å†µä¼˜åŒ– |



å¸¸ç”¨çš„ï¼š

- [C++ å±æ€§ï¼š maybe_unused (C++17 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/attributes/maybe_unused)ã€‚

- [C++ å±æ€§ï¼š fallthrough (C++17 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/attributes/fallthrough)ã€‚

- [C++ å±æ€§ï¼š noreturn (C++11 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/attributes/noreturn)ã€‚

- [C++ å±æ€§ï¼š likely, unlikely (C++20 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/attributes/likely)ã€‚è¿™ä¸ª C++ å±æ€§ å¤ªæ–°äº†ï¼Œæ…ç”¨ã€‚å¯ä»¥ç”¨ gcc çš„æ‰©å±•å…³é”®å­—ï¼š

  ```c
  #define likely(x) __builtin_expect(!!(x), 1)
  #define unlikely(x) __builtin_expect(!!(x), 0)
  ```

- 



### ç»“æ„åŒ–ç»‘å®š

å‚è€ƒ https://zh.cppreference.com/w/cpp/language/structured_bindingã€‚C++ 17 èµ·ã€‚



> ```c++
> auto[i, d] = std::tuple(1, 2.2);
> cout << i << endl;
> cout << d << endl;
> 
> // ---
> 
> std::pair a(1, 2.3f);
> auto[i, f] = a; // æ‹·è´èµ‹å€¼
> 
> // å¯¹äº std::array ä¹Ÿä¸­
> 
> // ---
> 
> map<int, string> m = {
>     {0, "a"},
>     {1, "b"},  
> };
> for (const auto &[i, s] : m) {
>     cout << i << " " << s << endl;
> }
> 
> // ---
> 
> // ä¹Ÿå¯ä»¥é€šè¿‡ç»“æ„åŒ–ç»‘å®šæ”¹å˜å¯¹è±¡çš„å€¼
> std::pair a(1, 2.3f);
> auto& [i, f] = a;
> i = 2;
> cout << a.first << endl; // 2
> 
> // ---
> 
> constexpr auto[x, y] = std::pair(1, 2.3f); // C++20 å¯ä»¥
> 
> // ---
> 
> // å¯¹äºç»“æ„ä½“
> struct Point {
>     int x;
>     int y;
> };
> Point func() {
>     return {1, 2};
> }
> const auto [x, y] = func();
> ```
>
> 
>
> å®ç°è‡ªå®šä¹‰ç±»çš„ç»“æ„åŒ–ç»‘å®šï¼š
>
> ```c++
> // éœ€è¦å®ç°ç›¸å…³çš„tuple_sizeå’Œtuple_elementå’Œget<N>æ–¹æ³•ã€‚
> class Entry {
> public:
>     void Init() {
>         name_ = "name";
>         age_ = 10;
>     }
> 
>     std::string GetName() const { return name_; }
>     int GetAge() const { return age_; }
> private:
>     std::string name_;
>     int age_;
> };
> 
> template <size_t I>
> auto get(const Entry& e) {
>     if constexpr (I == 0) return e.GetName();
>     else if constexpr (I == 1) return e.GetAge();
> }
> 
> namespace std {
>     template<> struct tuple_size<Entry> : integral_constant<size_t, 2> {};
>     template<> struct tuple_element<0, Entry> { using type = std::string; };
>     template<> struct tuple_element<1, Entry> { using type = int; };
> }
> 
> int main() {
>     Entry e;
>     e.Init();
>     auto [name, age] = e;
>     cout << name << " " << age << endl; // name 10
>     return 0;
> }
> ```
>
> 



### if è¯­å¥åˆå§‹åŒ–

> ```c++
> // if (init; condition)
> 
> if (int a = GetValue()); a < 101) {
>     cout << a;
> }
> 
> string str = "Hi World";
> if (auto [pos, size] = pair(str.find("Hi"), str.size()); pos != string::npos) {
>     std::cout << pos << " Hello, size is " << size;
> }
> ```
>
> ä½¿ç”¨è¿™ç§æ–¹å¼å¯ä»¥çº¦æŸä½œç”¨åŸŸï¼Œå¯è¯»æ€§å¯èƒ½ç•¥æœ‰ä¸‹é™ä½†è¿˜å¥½



## ç±»å°è£…

å‚è€ƒ [C++ ç±» & å¯¹è±¡ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-classes-objects.html)ã€[C++ç±»å’Œå¯¹è±¡ï¼ˆclasså’Œobjectï¼‰ (biancheng.net)](http://c.biancheng.net/cplus/class/)ã€‚[å¤ä¹ 100åˆ†é’Ÿæ‹¿ä¸‹100åˆ†ï¼Œä½ èƒ½åšå¾—åˆ°å—ï¼Ÿã€C++ã€‘(é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡)ï¼ˆæ€»å¤ä¹ ï¼‰_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1ta411k7Yn)ã€‚[C++ æ•°æ®æŠ½è±¡ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-data-abstraction.html) ä»‹ç»å°†æ•°æ®å°è£…ä¸ºç±»çš„ä¸€äº›æ¦‚å¿µã€‚

å‚è€ƒ [ç±» - cppreference.com](https://zh.cppreference.com/w/cpp/language/classes)ã€‚



### å°è£…æ¦‚å¿µ

p.s é¦–å…ˆè¯´ï¼Œç±»å†…çš„ å˜é‡ å’Œ å‡½æ•°ï¼Œåœ¨è¿™é‡Œç»Ÿä¸€å« æˆå‘˜å˜é‡ å’Œ æˆå‘˜å‡½æ•°ã€‚



ç±»å®šä¹‰çš„ä¸€èˆ¬åšæ³•ï¼Œå†™æˆ .c ä¸ .h çš„åº“å½¢å¼ï¼š

- ç±»å†…ç¼–å†™ ç§æœ‰æ•°æ®ï¼ˆå˜é‡ï¼‰ + å…¬æœ‰æ–¹æ³•ï¼ˆå‡½æ•°çš„å£°æ˜ï¼‰ï¼Œç„¶åæ”¾åˆ° .h é‡Œé¢ã€‚å³ æˆå‘˜å˜é‡/ç±»å±æ€§ å’Œ æˆå‘˜å‡½æ•°/ç±»æ–¹æ³• å£°æ˜åœ¨ ç±» é‡Œé¢ã€‚
- ç±»ä¸­å‡½æ•°çš„å®šä¹‰ åœ¨ .c æ–‡ä»¶ä¸­ï¼Œå½¢å¼ä¸ºï¼š`å‡½æ•°è¿”å›å€¼ç±»å‹ ç±»å::å‡½æ•°å(...)`ã€‚ä½¿ç”¨åŒå†’å·`::`  åœ¨ ç±»çš„ å¤–é¢ è¿›è¡Œå®šä¹‰ç­‰ æˆå‘˜å˜é‡ å’Œ æˆå‘˜å‡½æ•°ã€‚



ä¸‰ç§è®¿é—®æƒé™ï¼ˆpublic/private/protected å…³é”®å­—ï¼Œå¦‚ä¸å®šä¹‰åˆ™é»˜è®¤ä¸º privateï¼‰ã€‚ç±»å†…å¯ä»¥è®¿é—®åˆ°æ‰€æœ‰æˆå‘˜ï¼Œä½†ç±»å¤–è¦çœ‹è¿™ä¸‰ç§æƒé™ã€‚

- å…¬å…±æƒé™ publicï¼šç±»å†…å¯ä»¥è®¿é—®  ç±»å¤–å¯ä»¥è®¿é—®ã€‚
- ç§æœ‰æƒé™ privateï¼šç±»å†…å¯ä»¥è®¿é—®  ç±»å¤–ä¸å¯ä»¥è®¿é—®ï¼ŒåŒ…æ‹¬ å­ç±»/å­©å­ç±» ä¹Ÿä¸èƒ½è®¿é—®ï¼›ä½†å¯ä»¥é€šè¿‡ åœ¨ public ä¸‹å®šä¹‰ set/get æ“ä½œ çš„ å‡½æ•° æ¥ä¸“é—¨è®¿é—®åˆ° è¿™äº› private å˜é‡ è€Œé—´æ¥å¯¹å¤–å¼€æ”¾ï¼Œå‡½æ•°å†…å¯ä»¥åšä¸€äº› æ£€æŸ¥/åˆæ³•åŒ– ç­‰æ“ä½œï¼Œå¦‚æœæ˜¯è®¾ç½® set æˆ– get æ“ä½œ çš„ å‡½æ•° å°±è®©è¿™äº› ç§æœ‰å˜é‡ å˜æˆ åªå†™ æˆ– åªè¯»ã€‚
- ä¿æŠ¤æƒé™ protectedï¼šç±»å†…å¯ä»¥è®¿é—®  ç±»å¤–ä¸å¯ä»¥è®¿é—®ï¼Œä½†æ˜¯ å­ç±» è¿›è¡Œ å…¬æœ‰æˆ–ä¿æŠ¤ç»§æ‰¿ åï¼Œå­ç±»å†…éƒ¨å¯ä»¥è®¿é—® åˆ° åŸºç±» çš„ protected æˆå‘˜ã€‚



> c++11 ä¸­ sizeof å¯ä»¥ç›´æ¥ç”¨åœ¨ç±»çš„æ•°æ®æˆå‘˜ä¸Šã€‚
>
> ä¾‹å­ï¼š`cout << "size " << sizeof(A::data) << endl;`ï¼Œå…¶ä¸­ A å¯ä»¥æ˜¯ ç»“æ„ä½“ æˆ– ç±»ã€‚



å®ä¾‹è§åé¢ã€‚

### ç‰¹æ®Šä¿®é¥° const / static

è¡¥å……å‚è€ƒï¼š

- [C++ constæˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°ï¼ˆå¸¸æˆå‘˜å‡½æ•°ï¼‰ (biancheng.net)](http://c.biancheng.net/view/2230.html)ï¼Œ[C++ constå¯¹è±¡ï¼ˆå¸¸å¯¹è±¡ï¼‰ (biancheng.net)](http://c.biancheng.net/view/2232.html)ï¼›[C++ staticé™æ€æˆå‘˜å˜é‡è¯¦è§£ (biancheng.net)](http://c.biancheng.net/view/2227.html)ï¼Œ[C++ staticé™æ€æˆå‘˜å‡½æ•°è¯¦è§£ (biancheng.net)](http://c.biancheng.net/view/2228.html)ã€‚
- [shellmad-c++_40 å¸¸æˆå‘˜å‡½æ•°_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1ET4y1378r/)ï¼Œ[shellmad-c++_41 å¸¸æˆå‘˜å˜é‡åŠåˆå§‹åŒ–åˆ—è¡¨_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1RQ4y1N7yQ/)ï¼›[shellmad-c++_42 é™æ€æˆå‘˜å˜é‡_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1hV411d7JB/)ï¼Œ[shellmad-c++_43 é™æ€æˆå‘˜å‡½æ•°_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1EZ4y1p7q5/)ã€‚

**const**

ç±»å†…çš„ æˆå‘˜å˜é‡ å’Œ æˆå‘˜å‡½æ•° å¯ä»¥åŠ  const ä¿®é¥°ï¼Œå¯¹äº å¸¸æˆå‘˜å˜é‡ï¼ˆåœ¨å˜é‡å£°æ˜çš„æœ€å·¦è¾¹åŠ ï¼‰ï¼Œåˆ™åˆå§‹åŒ–åï¼ˆå¯ä»¥åœ¨å£°æ˜/å®šä¹‰æ—¶å€™åˆå§‹åŒ–å€¼ï¼Œä¹Ÿå¯ä»¥åœ¨æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸ŠåŠ ï¼‰ä¸å…è®¸ä¿®æ”¹ï¼Œå¯¹äº å¸¸æˆå‘˜å‡½æ•°ï¼ˆåœ¨å‡½æ•°å£°æ˜çš„å‡½æ•°åçš„å³è¾¹åŠ ï¼Œç±»å¤–å®šä¹‰å‡½æ•°çš„åœ°æ–¹ä¸ç”¨å†åŠ ï¼‰ï¼Œæ˜¯ä¸‹é¢çš„æƒ…å†µï¼š

- const æˆå‘˜å‡½æ•°å¯ä»¥ä½¿ç”¨ç±»ä¸­çš„æ‰€æœ‰æˆå‘˜å˜é‡ï¼Œä½†æ˜¯ä¸èƒ½ä¿®æ”¹å®ƒä»¬çš„å€¼ã€‚
- å¸¸å¯¹è±¡ï¼ˆåœ¨æœ€å‰é¢ ç”¨ const ä¿®é¥° æ¥ åˆ›å»ºæ–°å¯¹è±¡ï¼Œå¦‚ `const A a;`ï¼‰ï¼Œæ­¤æ—¶ï¼Œå¸¸å¯¹è±¡ åªèƒ½ è°ƒç”¨å…¶ å¸¸æˆå‘˜å‡½æ•°ã€‚
- å¿…é¡»åœ¨æˆå‘˜å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰å¤„åŒæ—¶åŠ ä¸Š const å…³é”®å­—ã€‚



**static**

å¯å‚è€ƒ [static æˆå‘˜ - cppreference.com](https://zh.cppreference.com/w/cpp/language/static#.E9.9D.99.E6.80.81.E6.88.90.E5.91.98.E5.87.BD.E6.95.B0)ã€‚

ç±»å†…çš„ æˆå‘˜å˜é‡ åŠ  static ä¿®é¥°ï¼Œåˆ™ä¸º ç±»çš„å¯¹è±¡ä»¬å…±äº«çš„å˜é‡ã€‚

ç±»å†… é™æ€çš„ï¼ˆstatic ä¿®é¥°çš„ï¼‰æˆå‘˜å˜é‡  å’Œ é™æ€æˆ–éé™æ€çš„  æˆå‘˜å‡½æ•°  è¿™ä¸‰è€… å‡ä¸å  å¯¹è±¡ç©ºé—´ï¼Œå³ åªæœ‰ä¸€ä»½/ä¸€ä¸ªå®ä¾‹ï¼Œæ‰€æœ‰æˆå‘˜éƒ½ç”¨è¿™ä¸€ä»½/ä¸€ä¸ªå®ä¾‹ï¼›è€Œå¯¹äº éé™æ€çš„ æˆå‘˜å˜é‡ å ç”¨ å¯¹è±¡ç©ºé—´ï¼Œæ¯æ¬¡ä¾‹åŒ– æ–°çš„ å¯¹è±¡ï¼Œéƒ½ä¼šå¯¹ è¿™äº› å˜é‡ æ–°ç”³è¯·ç©ºé—´ã€‚

é™æ€æˆå‘˜å‡½æ•°ï¼ˆåœ¨å‡½æ•°å£°æ˜çš„æœ€å·¦è¾¹åŠ ï¼Œç±»å¤–å®šä¹‰å‡½æ•°çš„åœ°æ–¹ä¸ç”¨å†åŠ ï¼‰åªèƒ½è®¿é—®ï¼ˆåŒ…æ‹¬è¯»å†™ï¼‰ ç±»å†…çš„é™æ€æˆå‘˜ã€‚

ä¾‹å­ï¼š

```c++
class A
{
    private:

        int class_a_num;
    
    public:

        static unsigned int class_a_count;

        A()
        {
            class_a_count++;
            cout << "A() class_a_count:" << class_a_count << endl;
        }

        ~A()
        {
            class_a_count--;
            cout << "A() class_a_count:" << class_a_count << endl;
        }

        static void class_a_count_show() // é™æ€å‡½æ•°æˆå‘˜ï¼Œå¯ä»¥ç”¨ A::class_a_count_show() æ¥å…¨å±€è®¿é—®ï¼›æ‰€æœ‰ç±»çš„å®ä¾‹éƒ½ç”¨è¿™ä¸€ä»½
        {
            cout << "static void class_a_count_show():" << class_a_count << endl;
            // class_a_count = class_a_num; é™æ€æˆå‘˜å‡½æ•° åªèƒ½è®¿é—® é™æ€æˆå‘˜å˜é‡
        }
};

unsigned int A::class_a_count = 0; // é™æ€å˜é‡æˆå‘˜ çš„ åˆå§‹åŒ–å¿…é¡»å†™åˆ°ç±»çš„å¤–é¢

int main()
{
    cout << " ----- start ----- " << endl;

    A a[5];

    cout << " ----- end ----- " << endl;
    system("pause");
    return 0;
}
```



**å†…è”å˜é‡**

C++ 17 èµ·ã€‚å¯åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œåˆå§‹åŒ–ç±»çš„é™æ€å˜é‡æˆå‘˜ã€‚

> C++ç±»çš„é™æ€æˆå‘˜å˜é‡åœ¨å¤´æ–‡ä»¶ä¸­æ˜¯ä¸èƒ½åˆå§‹åŒ–çš„ï¼Œä½†æ˜¯æœ‰äº†å†…è”å˜é‡ï¼Œå°±å¯ä»¥è¾¾åˆ°æ­¤ç›®çš„ã€‚

> ```c++
> // header file
> struct A {
>     static const int value;  
> };
> inline int const A::value = 10;
> 
> // ==========æˆ–è€…========
> struct A {
>     inline static const int value = 10;
> }
> ```
>
> 



### æ„é€  & ææ„å‡½æ•°

æ„é€ å‡½æ•° å’Œ ææ„å‡½æ•° çš„ ä½œç”¨ åˆ†åˆ«ä¸º å¯¹ å¯¹è±¡ çš„ åˆå§‹åŒ– å’Œ æ¸…ç†ï¼Œå®šä¹‰å¥½ä¹‹å åˆ†åˆ« ç”± å¯¹è±¡åˆ›é€  å’Œ é”€æ¯ çš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨ã€‚

æ„é€ å‡½æ•° ä¸‰ç§ï¼šæ— å‚æ•°ã€æœ‰å‚æ•°ï¼ˆæ–°å¯¹è±¡çš„æŸäº›å‚æ•°çš„åˆå§‹åŒ–ï¼Œå³ä¼ å…¥å˜é‡å‚æ•°ï¼‰ å’Œ æ‹·è´æ„é€ å‡½æ•°ï¼ˆç”¨äºå¯¹æ–°å¯¹è±¡çš„æˆå‘˜å˜é‡ç”¨è€å¯¹è±¡çš„æˆå‘˜å˜é‡èµ‹å€¼ï¼Œå³ä¼ å…¥ç±»çš„å¼•ç”¨ï¼Œç†è§£ä¸ºæ„é€ å‡½æ•°çš„å‡½æ•°é‡è½½ï¼‰ã€‚

æ„é€ å‡½æ•°åœ¨å¯¹è±¡è¢«å®šä¹‰çš„æ—¶å€™ è‡ªåŠ¨è¢«è°ƒç”¨ï¼Œææ„å‡½æ•°åœ¨å¯¹è±¡ å‡ºä½œç”¨åŸŸ æ—¶å€™ è‡ªåŠ¨è¢«è°ƒç”¨ã€‚å¦‚æœ ç±»B ä¸­åµŒå¥—äº†å®šä¹‰ ç±»A çš„å¯¹è±¡ï¼ˆç±»A ä¸º ç±»B çš„æˆå‘˜ç±»ï¼‰ï¼Œé‚£ä¹ˆ ç±»B åœ¨ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™ï¼Œå…ˆè°ƒç”¨ ç±»A çš„æ„é€ ï¼Œå†è°ƒç”¨ ç±»B çš„æ„é€ ï¼Œææ„é¡ºåºä¸ä¹‹ç›¸åï¼›å­ç±» ç»§æ‰¿ åŸºç±»ï¼Œé‚£ä¹ˆå…ˆè°ƒç”¨ åŸºç±» æ„é€ ï¼Œå† å­ç±» æ„é€ ï¼›å¦‚æœ å­ç±» ä¸­ ç»§æ‰¿ å’Œ æˆå‘˜ç±» å‡æœ‰çš„æƒ…å†µï¼Œé‚£ä¹ˆå…ˆ åŸºç±» å† æˆå‘˜ç±» å† å­ç±»è‡ªå·±ï¼Œææ„é¡ºåºä¸ä¹‹ç›¸åã€‚

ç±»çš„æ„é€ å‡½æ•°ï¼Œç±»ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶å¯ä¼ å‚ç”¨äºå¯¹è±¡å†… æˆå‘˜å˜é‡ çš„åˆå§‹åŒ–ï¼Œä¸”å¯å†™æˆå‡½æ•°é‡è½½ã€‚

- ç±»ä¾‹åŒ–æ—¶å€™ä¼ å‚ï¼ˆæˆ–è€… new çš„æ—¶å€™ï¼Œæˆ–è€… make_shared() çš„ æ—¶å€™ï¼Œè¿™äº›å‡åŒç†ï¼‰ï¼š`ç±»å å¯¹è±¡å(å‚æ•°);`ã€‚

- ç±»å†…ç¼–å†™æ„é€ å‡½æ•°ï¼šæœ‰å‡ ç§æƒ…å†µï¼Œæ ¹æ®å®é™…éœ€æ±‚æ¥

  ä¸‹é¢æ˜¯æŠ½è±¡çš„æ€»ç»“ï¼Œç”¨äºå¤ä¹ ï¼Œæ–°å­¦ä¹ å¯ä»¥çœ‹è§†é¢‘ï¼Œè®²çš„æ¯”è¾ƒæ¸…æ¥š [C++40ä¸ªå…¥é—¨çŸ¥è¯†ç‚¹_24_ æµ…æ‹·è´ä¸æ·±æ‹·è´_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1jJ41127Zt/)ã€‚

  - å¦‚æœä¸å†™ï¼ˆåˆ™å‡ä¸ç”¨ç¼–å†™æ„é€ å’Œææ„å‡½æ•°ï¼‰ï¼Œåˆ™ç¼–è¯‘å™¨ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„æ— å‚çš„æ„é€ å‡½æ•°ã€‚æˆ–å¯ä»¥æ˜¾å¼çš„æŒ‡ç¤ºï¼š`ç±»å() = default;`ï¼ˆæ˜¾ç¤ºçš„æ ‡è®°ï¼Œä½¿ç”¨ç¼–è¯‘å™¨ç”Ÿæˆçš„æ— å‚æ„é€ å‡½æ•°ï¼‰ï¼›æ˜¾å¼çš„æŒ‡ç¤ºä¸ç”¨æ„é€ å‡½æ•°ï¼š`ç±»å() = delete;`ã€‚

  - å¦‚æœç±»å†…ä¸éœ€è¦ç”³è¯·å†…å­˜ç©ºé—´ï¼Œåªç»™ä¸€äº›å˜é‡èµ‹å€¼ï¼ˆè¿™æ˜¯ä¹Ÿä¸éœ€è¦æ˜¾å¼çš„ç¼–å†™ææ„å‡½æ•°ï¼‰ï¼Œå¯ä»¥ç›´æ¥å†™å¸¦ä¼ å‚å‚æ•°çš„æ„é€ å‡½æ•°ï¼š`ç±»å(ä¼ å‚){...è¿›è¡Œç±»å†…å˜é‡èµ‹å€¼åˆå§‹åŒ–...}`ã€‚å¯ä»¥å†™ä¸åŒçš„å‡ ä¸ªå¸¦å‚æ•°æ„é€ å‡½æ•°è¿›è¡Œå‡½æ•°é‡è½½ã€‚æˆ–è€…ä½¿ç”¨ç¼–è¯‘å™¨ç”Ÿæˆçš„æµ…æ‹·è´æ„é€ å‡½æ•°ï¼š

    æµ…æ‹·è´æ„é€ å‡½æ•°ç¼–è¯‘å™¨å¯ä»¥å¸®ç€ç”Ÿæˆï¼Œå³å¯ä»¥ä¸å†™ï¼Œä¹Ÿå¯ä»¥æ˜¾å¼çš„å†™ ï¼š`ç±»å(ç±»å& obj) = default;`ï¼Œå†™ä¸º `=delete;` å³ä¸ç”¨æ‹·è´æ„é€ å‡½æ•° / ä¸è®¸å¯¹è±¡è¿›è¡Œæ‹·è´æ„é€ ã€‚ç±»ä¾‹åŒ–æ—¶å€™è¿™æ ·å†™ï¼š`ç±»å å¯¹è±¡2 = å¯¹è±¡1;` æˆ– `ç±»å å¯¹è±¡2(å¯¹è±¡1);`ï¼Œæµ…æ‹·è´æ„é€ å‡½æ•°å³ï¼šå°† å¯¹è±¡1 ä¸­æ‰€æœ‰å˜é‡æ‹·è´ç»™ å¯¹è±¡2ï¼ˆå¦‚æœç±»ä¸­æœ‰æ‰¿è½½ç”³è¯·å†…å­˜ç©ºé—´çš„æŒ‡é’ˆå˜é‡ï¼Œé‚£ä¹ˆä¹ŸåŒ…æ‹¬ç”³è¯·äº†å†…å­˜çš„æŒ‡é’ˆåœ°å€æ‹·è´è¿‡å»ï¼Œè¿™æ ·æ–°å¯¹è±¡ä¸­è¿™ä¸ªæŒ‡é’ˆåœ°å€ç©ºé—´ä¹Ÿä½¿ç”¨äº†å’Œè€å¯¹è±¡ä¸€å—å†…å­˜ç©ºé—´ï¼Œä½¿ç”¨æ—¶å€™ä¼šå†²çªï¼Œè€Œä¸”ææ„æ—¶å€™ä¼šå¤šæ¬¡é‡Šæ”¾ä¼šå‡ºé”™ï¼Œå› æ­¤é™¤äº†ç‰¹æ®Šç”¨é€”ï¼Œç±»å†…æœ‰ç”³è¯·å†…å­˜çš„æŒ‡é’ˆå˜é‡çš„æ—¶å€™å°±åªç”¨æµ…æ‹·è´ï¼‰ã€‚

  - å¦‚æœç±»å†…éœ€è¦ç”³è¯·å†…å­˜ç©ºé—´ï¼ˆæ¯”å¦‚ç»™ char* å˜é‡ ç”³è¯·å­—ç¬¦ä¸²å†…å­˜ç©ºé—´ï¼Œç»™æ•°ç»„ã€ç»“æ„ä½“ç­‰ç­‰ç”³è¯·å†…å­˜ï¼‰ï¼Œæ„é€ å‡½æ•°å°±æˆä¸ºæ‹·è´æ„é€ å‡½æ•°ï¼Œå³æ„é€ å‡½æ•°çš„ä¼ å‚ä¸ºç±»çš„å¼•ç”¨ï¼Œä¸ªäººç†è§£ä¸ºæ„é€ å‡½æ•°çš„ä¸€ç§å‡½æ•°é‡è½½ã€‚

    æ¯æ¬¡ç±»ä¾‹åŒ–çš„å¯¹è±¡éƒ½é‡æ–°ç”³è¯·å±äºè‡ªå·±çš„å†…å­˜ç©ºé—´ï¼Œè¿™é‡Œå°±æ˜¯æ·±æ‹·è´æ„é€ å‡½æ•°ï¼Œéœ€è¦æ‰‹å†™ï¼Œåœ¨æ‹·è´æ„é€ å‡½æ•° `ç±»å(ç±»å& obj){...}` é‡Œé¢ï¼Œé‡æ–°ç”³è¯·å†…å­˜ ç»™ `this->æ‰¿è½½ç”³è¯·çš„å†…å­˜ç©ºé—´çš„æŒ‡é’ˆ`ï¼Œå°†objä¸‹çš„å†…å­˜æ•°æ®å¤åˆ¶åˆ° `this->æ‰¿è½½ç”³è¯·çš„å†…å­˜ç©ºé—´çš„æŒ‡é’ˆ` é‡Œå³å¯å®Œæˆæ·±æ‹·è´æ„é€ ã€‚æ­¤æ—¶çš„ææ„å‡½æ•°ï¼šæ¯æ¬¡å¯¹è±¡é”€æ¯ï¼ˆå‡ºä½œç”¨åŸŸï¼‰çš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°ï¼Œåœ¨é‡Œé¢è¦è¿›è¡Œå†…å­˜é‡Šæ”¾ã€‚



ä¾‹å­ï¼šåœ¨ main() é‡Œé¢ä¸¤æ¬¡ä»¥ä¸åŒæ–¹å¼ä¾‹åŒ–å¯¹è±¡ï¼ˆä¸¤æ¬¡æ„é€ ï¼‰ï¼Œå†ä¸¤æ¬¡é‡Šæ”¾ï¼ˆä¸¤æ¬¡ææ„ï¼‰ã€‚

```c++
class test1
{
    private:
        unsigned int   test1_a = 10;
        unsigned int * test1_b_ptr;
        char* test1_str;
            unsigned int test1_str_len;
            #define MAX_STR_LEN 10

    public:

        /* å¸¦å‚æ•° æ„é€ å‡½æ•°ï¼Œç»™ç±»çš„æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ– */
        test1(unsigned int test1_a_in, unsigned int test1_b_in, 
            char* test1_str_in, unsigned int test1_str_in_len)
        {
            test1_a = test1_a_in;                   /* åˆå§‹åŒ– test1_a */

            test1_b_ptr = new unsigned int(10);     /* åˆå§‹åŒ– test1_b ï¼ˆå…ˆç”³è¯·ç©ºé—´ï¼‰ */
            *test1_b_ptr = test1_b_in;

            if(test1_str_in_len >MAX_STR_LEN)      /* åˆå§‹åŒ– test1_str ï¼ˆå…ˆç”³è¯·ç©ºé—´ï¼‰ */
            {
                delete test1_b_ptr;
                return;
            }
            test1_str_len = test1_str_in_len;
            test1_str = new char[test1_str_len];
            memset(test1_str, '\0', test1_str_len);
            memcpy(test1_str, test1_str_in, test1_str_len);

            cout << "class test1 init with parameter in" << endl;
        }

        // test1(const test1& obj) = default; // è¿™ä¸€å¥å°±æ˜¯ ä½¿ç”¨é»˜è®¤çš„æµ…æ‹·è´ï¼Œç”±ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆ

        // test1(const test1& obj) = delete; // è¿™ä¸€å¥å°±æ˜¯ ä¸å…è®¸ä½¿ç”¨æ‹·è´æ„é€ æ¥åˆå§‹åŒ–æ–°å¯¹è±¡
        
        /* ä½¿ç”¨è‡ªå†™çš„æ·±æ‹·è´ */
        test1(const test1& obj)
        {
            this->test1_a = obj.test1_a;            /* åˆå§‹åŒ– test1_a */

            test1_b_ptr = new unsigned int(10);     /* åˆå§‹åŒ– test1_b ï¼ˆå…ˆç”³è¯·ç©ºé—´ï¼‰ */
            *this->test1_b_ptr = *obj.test1_b_ptr;

            this->test1_str_len = obj.test1_str_len;    /* åˆå§‹åŒ– test1_str ï¼ˆå…ˆç”³è¯·ç©ºé—´ï¼‰ */
            this->test1_str = new char[this->test1_str_len];
            memset(this->test1_str, '\0', this->test1_str_len);
            memcpy(this->test1_str, obj.test1_str, this->test1_str_len);

            cout << "class test1 init with obj" << endl;
        }
    
        // å¹¶ä¸”è¦å®ç° operate= æ“ä½œç¬¦ï¼Œ å½“ä½¿ç”¨ test1 b = a; çš„æ—¶å€™ä¹Ÿè®¸æ˜¯è°ƒç”¨æµ…æ‹·è´æ„é€ å‡½æ•°
        // ä¸€èˆ¬ä¸å»ºè®®å…è®¸ä½¿ç”¨ ç±»ä¹‹é—´çš„ ç›´æ¥ç­‰äºå·æ¥ èµ‹å€¼ / å¤åˆ¶æ‹·è´ï¼Œå°±ç”¨ explicit æ¥ä¿®é¥°æ„é€ å‡½æ•°ã€‚

        ~test1()
        {
            test1_a = 0;
            delete test1_b_ptr;
            delete[] test1_str;

            cout << "class test1 release" << endl;
        }
};

int main()
{
    cout << " ----- start ----- " << endl;

    char* temp_str = "AbCd.!";

    {
        /* ä¾‹åŒ– ç±» test1 å¯¹è±¡ å¸¦ å‚æ•° è¿›è¡Œåˆå§‹åŒ– */
        test1 test1_obj1(5, 10, temp_str, sizeof(temp_str));

        /* ä½¿ç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œå…·ä½“ä½¿ç”¨æ·±æˆ–è€…æµ…çš„ï¼Œçœ‹ç±»é‡Œé¢çš„æ‹·è´æ„é€ å‡½æ•°å®ç° */
        test1 test1_obj2(test1_obj1);
        // æˆ–å†™ä¸º test1 test1_obj2 = test1_obj1; æ•ˆæœä¸€æ ·ï¼Œè¿™ä¹ˆå†™ä¹Ÿæ˜¯ è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œ
        // å¦‚æœ å…ˆä¾‹åŒ–å¯¹è±¡ test1_obj2ï¼Œå†å•ç‹¬å†™ä¸€å¥ test1_obj2 = test1_obj1; è¿™å°±æ˜¯è¿ç®—ç¬¦é‡è½½ï¼Œä¸å†è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°äº†

        system("pause");
    }


    cout << " ----- end ----- " << endl;
    system("pause");
    return 0;
}

```

å…³äºç±»é‡Œé¢ä½¿ç”¨ this æŒ‡é’ˆï¼Œå…¶æŒ‡å‘ å½“å‰æ‰€åœ¨ / æ‰€å¤„çš„ç±»ã€‚è‹¥ å‡½æ•° çš„å½¢å‚ å’Œ ç±»å†…çš„ æˆå‘˜å˜é‡ åå­—ä¸€è‡´ï¼Œåˆ™ç”¨ `this->æˆå‘˜å˜é‡` æ¥ä¸“é—¨è¡¨ç¤º ç±»å†…çš„é‚£ä¸ªæˆå‘˜ è€Œä¸æ˜¯ å½¢å‚ï¼Œç”¨äºåŒºåˆ†ï¼Œè¿™åªæ˜¯ä¸€ç§æƒ…å†µï¼Œå¯çµæ´»è¿è¡Œã€‚



å„ä¸ªé»˜è®¤æ„é€ å‡½æ•°

> ```c++
> struct trivial
> {
>     trivial() = default;                          // é»˜è®¤æ„é€ 
>     trivial(const trivial&) = default;            // é»˜è®¤æ‹·è´ï¼ˆé€šè¿‡å¼•ç”¨ä¼ å…¥ï¼‰æ„é€ 
>     trivial(trivial&&) = default;                 // é»˜è®¤ç§»åŠ¨ï¼ˆé€šè¿‡å³å€¼å¼•ç”¨ä¼ å…¥ï¼‰æ„é€ 
> 
>     trivial& operator=(const trivial&) = default; // é»˜è®¤ èµ‹å€¼ æ‹·è´ï¼ˆé€šè¿‡å¼•ç”¨ä¼ å…¥ï¼‰æ„é€ 
>     trivial& operator=(trivial&&) = default;      // é»˜è®¤ èµ‹å€¼ ç§»åŠ¨æ„é€ 
> 
>     ~trivial() = default;                         // é»˜è®¤ææ„
> };
> ```
>
> å¼•è‡ª [å‡½æ•°å£°æ˜ - cppreference.com](https://zh.cppreference.com/w/cpp/language/function)ã€‚



å…³äºå„ç§ æ‹·è´ï¼ˆæˆ–å¼•ç”¨ï¼‰ / ç§»åŠ¨ æ„é€ å‡½æ•°ï¼ˆæ„é€ çš„å®ç°åˆåˆ† æµ…æ‹·è´ã€æ·±æ‹·è´ï¼‰ã€èµ‹å€¼æ‹·è´ï¼ˆæˆ–èµ‹å€¼å¼•ç”¨ï¼‰ / èµ‹å€¼ç§»åŠ¨ æ„é€ å‡½æ•°çš„æ¯”è¾ƒå…¨çš„ä¾‹å­ï¼Œå¯è§ä¸‹é¢é“¾æ¥ä¸­ `class & struct` ä¸€èŠ‚ï¼š

> å‚è€ƒ [è¿™äº›çŸ¥è¯†ç‚¹ä½ éƒ½çŸ¥é“å—ï¼Œæµ‹è¯•ä½ çš„C++å…¥é—¨ç¨‹åº¦ (qq.com)](https://mp.weixin.qq.com/s?__biz=MzkyODU5MTYxMA==&mid=2247493075&idx=1&sn=fcabde545f1863d5a1a2095696308b5b&source=41#wechat_redirect) é‡Œé¢ `class & structï¼š` ä¸€èŠ‚ã€‚
>
> - æ‹·è´/å¼•ç”¨æ„é€ å‡½æ•°çš„å®šä¹‰åŠä½¿ç”¨
> - ç§»åŠ¨æ„é€ å‡½æ•°çš„å®šä¹‰åŠä½¿ç”¨
> - èµ‹å€¼æ‹·è´/å¼•ç”¨æ„é€ å‡½æ•°çš„å®šä¹‰åŠä½¿ç”¨
> - èµ‹å€¼ç§»åŠ¨å‡½æ•°çš„å®šä¹‰åŠä½¿ç”¨



**æ„é€ å‡½æ•°æ¨¡æ¿æ¨å¯¼**

å‚è€ƒ [ç±»æ¨¡æ¿å®å‚æ¨å¯¼ï¼ˆCTADï¼‰(C++17 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/class_template_argument_deduction)ã€‚

> ```c++
> pair<int, double> p(1, 2.2); // before c++17
> 
> pair p(1, 2.2); // c++17 è‡ªåŠ¨æ¨å¯¼
> vector v = {1, 2, 3}; // c++17
> 
> // ---
> 
> std::pair p(2, 4.5);     // æ¨å¯¼å‡º std::pair<int, double> p(2, 4.5);
> std::tuple t(4, 3, 2.5); // åŒ auto t = std::make_tuple(4, 3, 2.5);
> std::less l;             // åŒ std::less<void> l;
> ```



**ææ„å‡½æ•°**

çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡ä¼šå‘ç”Ÿä»€ä¹ˆ

[çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡ä¼šå‘ç”Ÿä»€ä¹ˆ_deleteçˆ¶ç±»æŒ‡é’ˆ-CSDNåšå®¢](https://blog.csdn.net/pingis58/article/details/127557501)

[å¤šæ€ä¸çº¯è™šå‡½æ•°è§£æ-CSDNåšå®¢](https://blog.csdn.net/baidu_35260565/article/details/101316319)

ä¸€äº›å®šä¹‰ç±»æ—¶å€™çš„è‰¯å¥½ä¹ æƒ¯ï¼š

- åŸºç±»ï¼ˆä¼šè¢«ç»§æ‰¿çš„ç±»ï¼‰çš„ææ„å‡½æ•°å®šä¹‰ä¸º è™šå‡½æ•°ï¼ˆè¿™æ · delete åŸºç±»æŒ‡é’ˆæ—¶å€™ä¼šæ­£ç¡®çš„ å…ˆé‡Šæ”¾å­ç±»å®ä¾‹ï¼Œå³å…ˆè°ƒå­ç±»ææ„å‡½æ•°ï¼Œå†è°ƒåŸºç±»ææ„å‡½æ•°ï¼‰ã€‚
- å°½é‡æ‰€æœ‰ç±»çš„æ„é€ å’Œææ„å‡½æ•°å®šä¹‰åœ¨ publicã€‚



### ç±»çš„æ„é€ å’Œææ„æ—¶åˆ»

å…³äºc++ä¸€äº›ç±»çš„æ„é€ å’Œææ„æ—¶åˆ»çš„è¯•éªŒ

```c++
// å®éªŒç”¨çš„ç±»ï¼š
class TestClass {
public:
    explicit TestClass() = default;
    explicit TestClass(const int32_t& _priv)
     : mPriv(_priv)
    {
        GUIFE_LOGI(" --> construct TestClass, mPriv: %d", mPriv);
    }
    virtual ~TestClass(void)
    {
        GUIFE_LOGI(" <-- de-construct TestClass");
    }
private:
    int32_t mPriv;
};
```

```c++
// æ‰§è¡Œï¼š
for(uint32_t i = 0; i < 3; i++) {
    TestClass testClassInst(i);
    GUIFE_LOGI(" ------ i: %d", i);
}

// æ‰“å°ï¼š
[User]  (0.520, +0)      testClass:  --> construct testClass, mPriv: 0  (in Test.cpp line #596)
[User]  (0.520, +0)      test:  ------ i: 0     (in Test.cpp line #624)
[User]  (0.520, +0)      ~testClass:  <-- de-construct testClass        (in Test.cpp line #600)
[User]  (0.520, +0)      testClass:  --> construct testClass, mPriv: 1  (in Test.cpp line #596)
[User]  (0.520, +0)      test:  ------ i: 1     (in Test.cpp line #624)
[User]  (0.520, +0)      ~testClass:  <-- de-construct testClass        (in Test.cpp line #600)
[User]  (0.520, +0)      testClass:  --> construct testClass, mPriv: 2  (in Test.cpp line #596)
[User]  (0.520, +0)      test:  ------ i: 2     (in Test.cpp line #624)
[User]  (0.520, +0)      ~testClass:  <-- de-construct testClass        (in Test.cpp line #600)

// ç»“è®ºï¼šæ¯æ¬¡ for çš„å¾ªç¯ï¼Œå¼€å§‹ä¼šæ„é€ ï¼Œç»“æŸä¼šææ„
```

```c++
// æ‰§è¡Œï¼šç»“è®ºåœ¨æ³¨é‡Š
TestClass TestClassInst(1);
TestClass TestClassInst2(10);
TestClass TestClassInst3(20);

std::list<TestClass> tests;

GUIFE_LOGI("å¤åˆ¶");
tests.push_back(TestClassInst); // TestClassInst åªåœ¨ä¸Šé¢æ„é€ ä¸€æ¬¡ï¼Œåœ¨è¿™é‡Œç›´æ¥å¤åˆ¶è¿› testsï¼Œæ²¡æœ‰æ–°æ„é€ å‘ç”Ÿ, TestClassInst ä¸ææ„

GUIFE_LOGI("åŸä½æ„é€  å† push_back");
tests.push_back(TestClass(2)); // æ„é€ ä¸€ä¸ªæ–°çš„ TestClass(2) å†å¤åˆ¶è¿› tests

GUIFE_LOGI("åŸä½æ„é€  å† ç›´æ¥ emplace_back");
tests.emplace_back(TestClass(3)); // åŒä¸Šï¼Œemplace_back æ˜¯ ä½¿ç”¨å¼•ç”¨ ä¼ å…¥ï¼Œå³ æ„é€ ä¸€ä¸ªæ–°çš„ TestClass(3) é€šè¿‡å¼•ç”¨ç»™åˆ° tests

GUIFE_LOGI("å˜é‡ç›´æ¥ emplace_back");
tests.emplace_back(TestClassInst2); // emplace_back æ˜¯ ä½¿ç”¨å¼•ç”¨ ä¼ å…¥
GUIFE_LOGI("TestClassInst2.getPriv(): %d", TestClassInst2.getPriv());

GUIFE_LOGI("ç›´æ¥ç§»åŠ¨");
tests.emplace_back(std::move(TestClassInst3)); // emplace_back ä½¿ç”¨ç§»åŠ¨ï¼ˆå³å€¼å¼•ç”¨ï¼‰ä¼ å…¥
GUIFE_LOGI("TestClassInst3.getPriv(): %d", TestClassInst3.getPriv());

GUIFE_LOGI("start clear~");
tests.clear();
// ææ„é¡ºåºï¼š
//    tests é‡Œé¢çš„æ‰€æœ‰ ç±» æˆå‘˜çš„ ææ„ï¼Œtests é‡Œé¢çš„ é¡¹ ä»å‰å¾€åçš„é¡ºåº æŒ¨ä¸ª ææ„
//    TestClassInst3, TestClassInst2, TestClassInst
```

```c++
// æ‰§è¡Œï¼šç»“è®ºåœ¨æ³¨é‡Š
std::list<TestClass*> testPtrs;

GUIFE_LOGI("new ä¹‹å ç”¨ push_back");
testPtrs.push_back(new TestClass(1)); // æ‰§è¡Œä¸€æ¬¡æ„é€ 

GUIFE_LOGI("new ä¹‹å ç”¨ emplace_back");
testPtrs.emplace_back(new TestClass(2)); // åŒä¸Š

GUIFE_LOGI("start clear~");
testPtrs.clear();
// è°ƒç”¨ å­˜å‚¨ ç±»æŒ‡é’ˆ çš„ å®¹å™¨çš„ clear å¹¶ä¸ä¼šè°ƒç”¨ å…¶ é¡¹ çš„ ææ„ï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µï¼Œéœ€è¦ clear ä¹‹å‰ï¼Œå¯¹å…¶æ¯ä¸€é¡¹å…ˆç”¨ delete !!
```

```c++
// æ‰§è¡Œï¼šç»“è®ºåœ¨æ³¨é‡Š
std::list<std::shared_ptr<TestClass>> testPtrs;

GUIFE_LOGI("new ä¹‹å ç”¨ push_back");
testPtrs.push_back(std::make_shared<TestClass>(1)); // æ‰§è¡Œä¸€æ¬¡æ„é€ 

GUIFE_LOGI("new ä¹‹å ç”¨ emplace_back");
testPtrs.emplace_back(std::make_shared<TestClass>(2)); // åŒä¸Š

GUIFE_LOGI("ç”¨ä¸ªå˜é‡å¼•ç”¨ testPtrs.front()");
auto it = testPtrs.front();

GUIFE_LOGI("start clear~");
testPtrs.clear();
// è°ƒç”¨ å­˜å‚¨ shared_ptr ç±»å‹ ç±»æŒ‡é’ˆ çš„ å®¹å™¨çš„ clear åï¼Œå…¶ä¸­ è‹¥é¡¹ çš„ shared_ptr çš„å¼•ç”¨æ¬¡æ•°ä¼šå½’ä¸º 0 å› è€Œä¼šè¢«ææ„
// ç”¨ vector æ•ˆæœä¹Ÿä¸€æ ·
// ä½†æ˜¯ testPtrs.front() ä¸ä¼šææ„ å› ä¸º æŒ‡é’ˆè¢« it ç”¨èµ°äº†ä¸€ä»½

GUIFE_LOGI("it.use_count(): %ld", it.use_count());

GUIFE_LOGI("it = nullptr;");
it = nullptr; // è¿™é‡Œå°±ä¼šææ„ it æŒ‡å‘çš„ ç±»å®ä¾‹
GUIFE_LOGI("it.use_count(): %ld", it.use_count());

// å¯¹äºæ”¾åˆ°ä¸€ä¸ªç»“æ„ä½“é‡Œé¢ï¼Œå¦‚ä¸‹
struct TestStruct {
    std::string str;
    uint32_t num;
    TestClassSharedPtr testClassPtr;
};
std::vector<TestStruct> testPtrs;
// è¿›è¡Œç›¸åŒçš„æ“ä½œï¼Œç»“æœä¹Ÿä¸€æ ·
```



### å‹å…ƒ

ä½¿ç”¨ friend å…³é”®å­— åœ¨å·¦è¾¹ ä¿®é¥° åœ¨ ç±»A å†… å£°æ˜çš„ ä½†å®šä¹‰åœ¨å¤–é¢çš„ å‡½æ•° æˆ– ç±»Bå†…çš„å‡½æ•° æˆ– ç±»Bï¼Œåˆ™åœ¨å¤–é¢å®šä¹‰çš„ å‡½æ•° æˆ– ç±»Bå†…çš„å‡½æ•° å¯ä»¥è®¿é—®åˆ° ç±»A çš„ **ç§æœ‰å˜é‡**ã€‚ç¼ºç‚¹æ˜¯ç ´åäº†ç±»çš„å°è£…æ€§å’Œç§æœ‰æ€§ï¼Œä¸æ¨èç”¨ï¼Œä½†æ˜¯æŸäº›è¿ç®—ç¬¦é‡è½½å’Œç‰¹æ®Šæƒ…å†µå¯ä»¥é…Œæƒ…ç”¨ã€‚

ä¾‹å­ï¼šåœ¨ ç±»A ä¸­è®¾ç½®ä¸€äº›å‹å…ƒï¼Œåœ¨ main() é‡Œé¢ç”¨è¿™äº›å‡½æ•°æ“ä½œ ç±»A çš„ç§æœ‰å˜é‡ã€‚

```c++
/* é¦–å…ˆå£°æ˜ ç±» A å’Œ B */
    /* å› ä¸ºåé¢ ç±»B é‡Œé¢ void set_class_A_obj_private_a(A& obj, int a); é‡Œé¢æœ‰ Aï¼Œä¸æå‰å£°æ˜åˆ™ç¼–è¯‘ä¼šæç¤ºä¸å­˜åœ¨ */
class A;
class B;

class B
{
    private:

    public:
        B() = default;
        ~B() = default;

    /* å£°æ˜åœ¨è¿™é‡Œï¼Œå®šä¹‰åœ¨å¤–é¢ */
    void set_class_A_obj_private_a(A& obj, int a); 
    void set_class_A_obj_private_b(A& obj, int b);
};

/* å£°æ˜ä¸€ä¸ªå…¨å±€å‡½æ•°ï¼Œå®šä¹‰åœ¨åé¢ */
void set_class_A_obj_private_a(A& obj, int a);

class A
{
    private:
        int private_a;
        int private_b;

    public:
        A() = default;
        ~A() = default;

        /* å£°æ˜å‹å…ƒ */

        friend void set_class_A_obj_private_a(A& obj, int a);       /* æŠŠä¸€ä¸ª å…¨å±€å‡½æ•°å½“ä½œå‹å…ƒ*/

        friend void B::set_class_A_obj_private_a(A& obj, int a);    /* æŠŠä¸€ä¸ª ç±»B çš„å‡½æ•°å½“ä½œå‹å…ƒ*/

        friend B;   /* æŠŠ ç±»B å½“ä½œå‹å…ƒ */
};

void set_class_A_obj_private_a(A& obj, int a)
{
    obj.private_a = a;
}

void B::set_class_A_obj_private_a(A& obj, int a)
{
    obj.private_a = a;
}

void B::set_class_A_obj_private_b(A& obj, int b)
{
    obj.private_b = b;
}

int main()
{
    cout << " ----- start ----- " << endl;

    A class_a_obj1;
    B class_b_obj1;

    set_class_A_obj_private_a(class_a_obj1, 10);
    class_b_obj1.set_class_A_obj_private_a(class_a_obj1, 20);
    class_b_obj1.set_class_A_obj_private_b(class_a_obj1, 20);

    cout << " ----- end ----- " << endl;
    system("pause");
    return 0;
}
```



### åˆå§‹åŒ–åˆ—è¡¨å®ç° std::initializer_list

ä¸åŒäº `ç±»æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨`ï¼Œé‚£ä¸ªä¹Ÿæœ‰å« `å§”æ‰˜æ„é€ å‡½æ•°`ï¼Œè¿™é‡Œæ˜¯ è‡ªå†™ç±»å®ç° `= { ..., ...}` å½¢å¼çš„åˆå§‹åŒ–ã€‚

å‚è€ƒ

- [std::initializer_list - cppreference.com](https://zh.cppreference.com/w/cpp/utility/initializer_list)ã€‚
- [c++11æ–°ç‰¹æ€§ä¹‹åˆ—è¡¨åˆå§‹åŒ– - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/137851769)ã€‚

TODO: è¿™é‡Œè¿˜éœ€è¦è¡¥å……



å¹¶å¯ä½¿ç”¨ `åŸºäºèŒƒå›´çš„forå¾ªç¯`ï¼Œå®ç°å¦‚ä¸‹çš„æ•ˆæœï¼šTODOï¼šå†æŸ¥ä¸‹è‡ªå†™çš„ç±»ï¼Œæ€ä¹ˆå†™å®ç°è¿™ç§ç”¨æ³•

> ```cpp
> for (int i : vec) { // c++11åŸºäºèŒƒå›´çš„forå¾ªç¯
>     cout << "i" << endl;
> }
> ```



### å„ç±»å‹åˆå§‹åŒ–å†™æ³•

[åˆå§‹åŒ– - cppreference.com](https://zh.cppreference.com/w/cpp/language/initialization)ã€‚

ä¸å®Œå…¨åˆ—ä¸¾ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š

- [é»˜è®¤åˆå§‹åŒ–](https://zh.cppreference.com/w/cpp/language/default_initialization)ã€‚
- [å€¼åˆå§‹åŒ–](https://zh.cppreference.com/w/cpp/language/value_initialization)ã€‚
- [å¼•ç”¨åˆå§‹åŒ–](https://zh.cppreference.com/w/cpp/language/reference_initialization)ã€‚
- [å¤åˆ¶åˆå§‹åŒ–](https://zh.cppreference.com/w/cpp/language/copy_initialization)ã€‚
- [èšåˆåˆå§‹åŒ–](https://zh.cppreference.com/w/cpp/language/aggregate_initialization)ã€‚
- [åˆ—è¡¨åˆå§‹åŒ–](https://zh.cppreference.com/w/cpp/language/list_initialization)ã€‚
- [ç›´æ¥åˆå§‹åŒ–](https://zh.cppreference.com/w/cpp/language/direct_initialization)ã€‚

ä¾‹å­ï¼š

> ```c++
> #include <string>
>  
> std::string s1;            // é»˜è®¤åˆå§‹åŒ–
> // å€¼åˆå§‹åŒ–
> char& c = a[0];         // å¼•ç”¨åˆå§‹åŒ–
> std::string s3 = "hello"; // å¤åˆ¶åˆå§‹åŒ–
> char a[3] = {'a', 'b'};   // èšåˆåˆå§‹åŒ–ï¼ˆC++11 èµ·æ˜¯åˆ—è¡¨åˆå§‹åŒ–çš„ä¸€éƒ¨åˆ†ï¼‰
> std::string s4("hello");  // ç›´æ¥åˆå§‹åŒ–
> std::string s5{'a'};      // åˆ—è¡¨åˆå§‹åŒ–ï¼ˆC++11 èµ·ï¼‰
> // ç›´æ¥åˆå§‹åŒ–
> ```
>
> 



### æ‚é¡¹



**åœ¨ lambda è¡¨è¾¾å¼ ç”¨ `*this` æ•è·å¯¹è±¡å‰¯æœ¬**

> æ­£å¸¸æƒ…å†µä¸‹ï¼Œlambdaè¡¨è¾¾å¼ä¸­è®¿é—®ç±»çš„å¯¹è±¡æˆå‘˜å˜é‡éœ€è¦æ•è·thisï¼Œä½†æ˜¯è¿™é‡Œæ•è·çš„æ˜¯thisæŒ‡é’ˆï¼ŒæŒ‡å‘çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼Œæ­£å¸¸æƒ…å†µä¸‹å¯èƒ½æ²¡é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœå¤šçº¿ç¨‹æƒ…å†µä¸‹ï¼Œå‡½æ•°çš„ä½œç”¨åŸŸè¶…è¿‡äº†å¯¹è±¡çš„ä½œç”¨åŸŸï¼Œå¯¹è±¡å·²ç»è¢«ææ„äº†ï¼Œè¿˜è®¿é—®äº†æˆå‘˜å˜é‡ï¼Œå°±ä¼šæœ‰é—®é¢˜ã€‚
>
> C++17å¢åŠ äº†æ–°ç‰¹æ€§ï¼Œæ•è·*thisï¼Œä¸æŒæœ‰thisæŒ‡é’ˆï¼Œè€Œæ˜¯æŒæœ‰å¯¹è±¡çš„æ‹·è´ï¼Œè¿™æ ·ç”Ÿå‘½å‘¨æœŸå°±ä¸å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¸ç›¸å…³å•¦ã€‚
>
> ```c++
> struct A {
>     int a;
>     void func() {
>         auto f = [*this] { // è¿™é‡Œ
>             cout << a << endl;
>         };
>         f();
>     }  
> };
> int main() {
>     A a;
>     a.func();
>     return 0;
> }
> ```



## ç±»ç»§æ‰¿

è¡¥å……å‚è€ƒ [C++ ç»§æ‰¿ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-inheritance.html)ã€[C++ç»§æ‰¿å’Œæ´¾ç”Ÿç®€æ˜æ•™ç¨‹ (biancheng.net)](http://c.biancheng.net/view/2264.html)ã€‚

å­ç±»/æ´¾ç”Ÿç±» ç»§æ‰¿äº çˆ¶ç±»/åŸºç±»ï¼ˆåé¢ä»¥ å­ç±» å’Œ åŸºç±» æ¥å«ï¼‰ã€‚å­ç±» ä»åŸºç±»ç»§æ‰¿è¿‡æ¥çš„ è¡¨ç°å…±æ€§ï¼Œå­ç±» å†è‡ªå·±å¢åŠ çš„æˆå‘˜ ä½“ç°ä¸ªæ€§ã€‚

### ç»§æ‰¿

ä¸‰ç§ç»§æ‰¿/æ´¾ç”Ÿï¼ˆç»§æ‰¿å’Œæ´¾ç”Ÿè¿™é‡Œä¸€ä¸ªæ„æ€ï¼‰ï¼šå…¬å…±ç»§æ‰¿ã€ä¿æŠ¤ç»§æ‰¿ã€ç§æœ‰ç»§æ‰¿ã€‚

å†™æ³•ä¾‹å­ï¼š`class B : public A, protected AO {...};`ï¼Œå³ ç±»B å…¬æœ‰ç»§æ‰¿ ç±»A ä¸” ç±»B ä¿æŠ¤ç»§æ‰¿ ç±»AOã€‚

åŸºç±» ä¸­ a æƒé™çš„æˆå‘˜ è¢«ä»¥ b æƒé™ ç»§æ‰¿åˆ°å­ç±»ï¼Œé‚£ä¹ˆå­ç±»ä¸­è¯¥æˆå‘˜çš„æƒé™ä¸º å– a å’Œ b ä¸­è¾ƒä½çš„é‚£ä¸€ä¸ªï¼›åŸºç±»çš„ ç§æœ‰æˆå‘˜ï¼Œæ— è®ºä»€ä¹ˆç±»å‹çš„ç»§æ‰¿ï¼Œå­ç±»éƒ½ä¸èƒ½è®¿é—®åˆ°ã€‚å­ç±» ç»§æ‰¿ åŸºç±» åï¼ŒåŸºç±» æ‰€æœ‰ æˆå‘˜å˜é‡ å‡æ·»åŠ åˆ° å­ç±» çš„å¤´éƒ¨ï¼Œå­ç±» åˆ›å»ºå¯¹è±¡åï¼Œåœ¨å¯¹è±¡çš„å†…å­˜ä¸Šï¼Œé¦–å…ˆæ˜¯ åŸºç±» æ‰€æœ‰ æˆå‘˜å˜é‡ çš„å†…å­˜ç©ºé—´ï¼Œç„¶åå†æ˜¯ å­ç±» æ–°æ·»åŠ çš„ æˆå‘˜å˜é‡ çš„å†…å­˜ç©ºé—´ï¼Œè™½ç„¶ å­ç±» ä¸­ åŸºç±»çš„ ç§æœ‰æˆå‘˜ çœ‹ä¸è§ï¼ˆç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™ä½¿å…¶è¿™æ ·çš„ï¼‰ï¼Œä½†å†…å­˜ä¸Šå¯ä»¥æ“ä½œåˆ° åŸºç±» çš„æ‰€æœ‰æˆå‘˜å˜é‡ã€‚

å­ç±»ç»§æ‰¿åŸºç±»åï¼Œå½“åˆ›å»ºå­ç±»å¯¹è±¡ï¼Œå…ˆè°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨å­ç±»æ„é€ å‡½æ•°ï¼Œææ„é¡ºåºä¸æ„é€ ç›¸åã€‚



åˆå§‹åŒ–åˆ—è¡¨ï¼šä¾‹åŒ– å­ç±» å¯¹è±¡çš„æ—¶å€™ ä¸èƒ½ç»™ åŸºç±» çš„æ„é€ å‡½æ•° ä¼ å‚ï¼Œé‚£ä¹ˆå°±ç»™ å­ç±»çš„æ„é€ å‡½æ•° åé¢ æ·»åŠ  åˆå§‹åŒ–åˆ—è¡¨ï¼Œé‡Œé¢çš„è¯­å¥ä¼šé€ä¸ªæ‰§è¡Œï¼Œåœ¨é‡Œé¢å¯ä»¥æ·»åŠ  è°ƒç”¨åŸºç±»çš„å¸¦å‚æ•°çš„æ„é€ å‡½æ•°çš„è¯­å¥ï¼Œè¿™æ˜¯ä¸€ç§å†™æ³•ï¼Œä¹Ÿå¯ä»¥æ·»åŠ  å­ç±» æˆå‘˜å˜é‡èµ‹å€¼çš„è¯­å¥ï¼Œæ­¤ä¹ƒ åˆå§‹åŒ–åˆ—è¡¨ã€‚

- è¡¥å……å‚è€ƒ [C++40ä¸ªå…¥é—¨çŸ¥è¯†ç‚¹_31 æ´¾ç”Ÿç±»ä¸­çš„å‡½æ•°éšè—_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV17J41127gP/?spm_id_from=333.999.0.0&vd_source=c633af9518bed5572b1614612e2be3df)ï¼Œ[P2ç»§æ‰¿_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1ta411k7Yn?p=2) çš„4åˆ†åŠçš„åœ°æ–¹ã€‚

- å­ç±»çš„æ„é€ å‡½æ•°ä¸­å¯¹ç±»æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–ï¼Œè¦å…ˆç”¨ åˆå§‹åŒ–åˆ—è¡¨ æ¥åˆå§‹åŒ– åŸºç±» çš„ æˆå‘˜å˜é‡ï¼Œå†å»åœ¨å‡½æ•°å†…åˆå§‹åŒ– å­ç±»çš„ æˆå‘˜å˜é‡ï¼Œæ¯”è¾ƒè§„èŒƒã€‚åŒ…æ‹¬ const ä¿®é¥°çš„å˜é‡ä¹Ÿå¯ä»¥å†™åœ¨åˆå§‹åŒ–åˆ—è¡¨é‡Œé¢ã€‚




å†™æ³•ä¾‹å­ï¼š

```c++
class A
{
    private:

        int class_a_num;
    
    public:
        A()
        {
            cout << "A()" << endl;
        }

        A(int class_a_num_in)
        {
            class_a_num = class_a_num_in;
            cout << "A(int class_a_num_in)" << endl;
        }

        ~A() = default;
};

class B : public A // ç±»B å…¬æœ‰ç»§æ‰¿ ç±»A
{
    private:

        int class_b_num;

    public:
        B() : A(1), class_b_num(2) // åˆå§‹åŒ–åˆ—è¡¨ï¼Œè°ƒç”¨ ç±»A çš„å¸¦å‚æ•°æ„é€ å‡½æ•°ï¼Œç»™è‡ªå·± æˆå‘˜å˜é‡åˆå§‹åŒ–å€¼
        {
            cout << "B()" << endl;
        }

        ~B() = default;
};

int main()
{
    cout << " ----- start ----- " << endl;

    B b;

    cout << " ----- end ----- " << endl;
    system("pause");
    return 0;
}
```



ç»§æ‰¿ çš„æ—¶å€™ å¦‚æœ æ˜¯ä¿®é¥°ä¸º ç±»æŒ‡é’ˆ æˆ–è€… å¼•ç”¨ ç±»å‹ï¼ˆè€Œä¸”ä¸ä½¿ç”¨ new / malloc åˆ›å»ºç©ºé—´ï¼‰ï¼Œåˆ™ä¸ä¸ºå…¶åˆ†é…å†…å­˜ï¼Œåªæ˜¯ç»§æ‰¿è¿‡æ¥ä¸€ä¸ªç±»çš„å¯¹è±¡çš„æŒ‡é’ˆã€‚

c++ explicit ä¿®é¥°åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå³å–æ¶ˆéšå¼è½¬æ¢ï¼Œåœ¨ä¾‹åŒ–å¯¹è±¡æ—¶å€™åªèƒ½ç”¨å‡½æ•°çš„æ–¹å¼ï¼Œä¸èƒ½ç”¨èµ‹å€¼çš„æ–¹å¼ï¼Œèµ‹å€¼ = ç”¨æ“ä½œç¬¦é‡è½½å»åšã€‚



### è™šç»§æ‰¿ / è±å½¢ç»§æ‰¿

ä¸€ä¸ªç±»ï¼ˆå­™å­ç±»ï¼‰ç»§æ‰¿å¤šä¸ªç±»ï¼ˆå­ç±»ï¼‰ï¼Œè€Œè¿™å¤šä¸ªç±»ä¸­è‡³å°‘æœ‰ä¸¤ä¸ªç±»ï¼ˆå­ç±»ï¼‰ åˆ ç»§æ‰¿è‡ª åŒä¸€ä¸ªç±»ï¼ˆçˆ¶ç±»/åŸºç±»ï¼‰ï¼Œä»è€Œå¯¼è‡´ å­™è¾ˆçš„ç±» ä¼šåŒ…å« å¤šä¸ªæ¥è‡ª çˆ¶è¾ˆç±»çš„å‰¯æœ¬æˆå‘˜ï¼Œå› æ­¤è¦ä½¿ç”¨ è™šç»§æ‰¿ã€‚å¤šä¸ªå­ç±»ï¼ˆè‡³å°‘ä¸¤ä¸ªï¼‰ ç»§æ‰¿ åŸºç±» æ—¶å€™ä½¿ç”¨ `virtual` ä¿®é¥°ï¼Œè¿™æ · å­™å­ç±» ç»§æ‰¿å¤šä¸ª å­ç±» åï¼Œåªæœ‰ä¸€ä¸ª åŸºç±» çš„å‰¯æœ¬ã€‚

ä¾‹å­ï¼š

```c++
class A
{
    protected:
        int class_a_num;
    public:
        A()  { cout <<  "A()" << endl; }
        ~A() { cout << "~A()" << endl; }
};

class B1 : virtual public A
{
    protected:
        int class_b1_num;
    public:
        B1()  { cout <<  "B1()" << endl; }
        ~B1() { cout << "~B1()" << endl; }
};

class B2 : virtual public A
{
    protected:
        int class_b2_num;
    public:
        B2()  { cout <<  "B2()" << endl; }
        ~B2() { cout << "~B2()" << endl; }
};

class C : public B1, public B2
{
    private:
        int class_c_num;
    public:
        C()  { cout <<  "C()" << endl; }
        ~C() { cout << "~C()" << endl; }

        void class_c_set_and_show(int class_a_num, int class_b1_num, int class_b2_num, int class_c_num)
        {
            this->class_a_num = class_a_num;
            this->class_b1_num = class_b1_num;
            this->class_b2_num = class_b2_num;
            this->class_c_num = class_c_num;

            cout << class_a_num << '\t' << class_b1_num << '\t' \
                << class_b2_num << '\t' << class_c_num << '\t' << endl;
        }
};

int main()
{
    cout << " ----- start ----- " << endl;

    {
        C c;
        c.class_c_set_and_show(1, 2, 3 ,4);
    }
    
    cout << " ----- end ----- " << endl;
    system("pause");
    return 0;
}

/* 
æ‰“å°ä¿¡æ¯ï¼š
----- start -----
A()
B1()
B2()
C()
1       2       3       4
~C()
~B2()
~B1()
~A()
 ----- end -----
*/
```



## ç±»å¤šæ€

è¡¥å……å‚è€ƒï¼š[C++ å¤šæ€ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-polymorphism.html)ï¼Œ[C++å¤šæ€ä¸è™šå‡½æ•° (biancheng.net)](http://c.biancheng.net/cplus/polymorphism/)ã€‚

è°ƒç”¨åŸºç±»çš„è™šå‡½æ•°ï¼ˆè¡¨å…±æ€§çš„ï¼‰ï¼Œå°±è°ƒç”¨äº†å­ç±»ä¸­åŒåå‡½æ•°ï¼ˆè¡¨ç‰¹ç‚¹çš„ï¼‰ï¼Œè¾¾åˆ°è¿™æ ·ä¸€ä¸ªæ•ˆæœã€‚

åŸºç±»ä¸­å®šä¹‰è™šå‡½æ•°ï¼Œå‡½æ•°å‰é¢æ·»åŠ  `virtual` ä¿®é¥°ï¼Œå°±æˆäº†è™šå‡½æ•°ï¼ˆå¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œå†™ä¸º `å¯¹è±¡å.è™šå‡½æ•°å();`ï¼‰ï¼Œå› åŸºç±»è™šå‡½æ•°ä¸€èˆ¬ä¸ºå®ç°ç±»å¤šæ€ï¼Œå­ç±»ä¼šè¦†å†™åŒåå‡½æ•°å¸¦æœ‰å…·ä½“å†…å®¹ï¼Œå› æ­¤åŸºç±»è¿™é‡Œçš„è™šå‡½æ•°å¯å†™ä¸ºç©ºï¼ˆèŠ±æ‹¬å·é‡Œé¢ä¸ºç©ºï¼‰ï¼›åŸºç±»ä¸­è™šå‡½æ•°ä¹Ÿå¯ä»¥å†™ä¸º `virtual å‡½æ•°è¿”å›å€¼ å‡½æ•°å() = 0;`ï¼Œåˆ™æˆä¸ºçº¯è™šå‡½æ•°ï¼Œæœ‰çº¯è™šå‡½æ•°çš„ç±»æ˜¯æŠ½è±¡ç±»ï¼ŒæŠ½è±¡ç±»ä¸å…è®¸åˆ›å»ºå¯¹è±¡ï¼ˆæŠ½è±¡ç±»ä¸€èˆ¬æ˜¯åŸºç¡€çš„ã€æä¾›æ¥å£è§„èŒƒçš„ï¼Œä¸æä¾›å®é™…å…·ä½“åŠŸç”¨ï¼Œæ˜¯ç”¨æ¥è¢«ç»§æ‰¿çš„ï¼Œå› æ­¤å°±ä¸å…è®¸åˆ›å»ºå¯¹è±¡äº†ï¼‰ã€‚å­ç±»ç»§æ‰¿æŠ½è±¡ç±»åï¼Œå­ç±»é‡Œé¢å¿…é¡»å®ç°æœ‰åŒåå‡½æ•°ï¼ˆå‡½æ•°åã€è¿”å›å€¼ã€å‡½æ•°å‚æ•°å¿…é¡»ä¸€è‡´ï¼‰ï¼ˆè‡³å°‘å†™æˆ `å‡½æ•°è¿”å›å€¼ å‡½æ•°å(){...}`ï¼Œè€Œä¸”ä»ä¸ºè™šå‡½æ•°ï¼‰ï¼ˆè‹¥å‡½æ•°ä¸å®Œå…¨åŒåï¼Œæ¯”å¦‚å‚æ•°æœ‰åŒºåˆ«ï¼Œé‚£å°±ä¸è¦†ç›–ï¼Œè€Œä¸”åŸºç±»ç»§æ‰¿è¿‡æ¥å¹¶ä¸”å’Œå­ç±»çš„éƒ½å­˜åœ¨ï¼Œå±äºå‡½æ•°é‡è½½äº†ï¼‰ï¼Œå­ç±»æ‰èƒ½åˆ›å»ºå¯¹è±¡ï¼Œå¦åˆ™å­ç±»ä¹Ÿæ˜¯æŠ½è±¡ç±»å°±ä¸èƒ½åˆ›å»ºå¯¹è±¡ã€‚

å­ç±»çš„åœ°å€å¯ä»¥ èµ‹å€¼ç»™ åŸºç±»çš„æŒ‡é’ˆ æˆ– åŸºç±»çš„å¼•ç”¨ï¼Œè¿™æ˜¯å®‰å…¨çš„ï¼ˆå­ç±»ç©ºé—´æ¯”åŸºç±»ç›¸ç­‰æˆ–æ›´å¤§ï¼ŒåŸºç±»æŒ‡é’ˆæ“ä½œæ—¶å€™ä¸ä¼šè¶Šç•Œï¼‰ã€‚

å…³äºè™šå‡½æ•°çš„ç›´æ¥è°ƒç”¨ï¼ˆå°±æ˜¯è°ƒç”¨è°å°±è¿è¡Œè°ï¼Œæ²¡æœ‰å¤šæ€æ€§ï¼‰ï¼ˆ`åŸºç±»å¯¹è±¡å.è™šå‡½æ•°å()ï¼›` å’Œ `å­ç±»å¯¹è±¡æŒ‡é’ˆ.åŸºç±»ç±»å::è™šå‡½æ•°å();`ï¼ˆè¿™æ˜¯æ˜ç¡®ç±»åŸŸèŒƒå›´çš„ç”¨æŒ‡é’ˆè°ƒç”¨ï¼Œç”¨å¼•ç”¨åŒç†ï¼‰ï¼‰å’Œé—´æ¥è°ƒç”¨ï¼ˆæœ‰äº†å¤šæ€æ€§ï¼‰ï¼ˆç”¨æŒ‡é’ˆæˆ–å¼•ç”¨å»è°ƒç”¨ï¼Œä½†ä¸æ˜ç¡®å†™å‡ºç±»åŸŸèŒƒå›´ï¼‰ï¼Œç¼–è¯‘æ—¶æœŸä¼šæœ‰åŒºåˆ«ï¼Œé—´æ¥è°ƒç”¨çš„è¯è°ƒç”¨è™šå‡½æ•°æ—¶å€™ä¼šæœ‰ä¸€ä¸ªæŸ¥æ‰¾è™šå‡½æ•°è¡¨é‡Œé¢åˆ°åº•è¦è°ƒç”¨å“ªä¸€ä¸ªçš„è¿‡ç¨‹ï¼ˆé™¤äº†ç›´æ¥è°ƒç”¨å’Œæ˜ç¡®ç±»åŸŸèŒƒå›´çš„ç”¨æŒ‡é’ˆè°ƒç”¨ï¼‰ï¼Œå…·ä½“å¯çœ‹ä¸€ä¸‹ [shellmad-c++_37 è™šå‡½æ•°çš„ç›´æ¥è°ƒç”¨ä¸é—´æ¥è°ƒç”¨_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1n54y1X76T/) å’Œ [shellmad-c++_47 è™šå‡½æ•°çš„å¤šæ€æ€§_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1pi4y147dZ/)ã€‚

ä¾‹å­ï¼š

```c++
class shape
{
    public:
        virtual void area()
        {
            cout << "shape area()" << endl;
        }
        // virtual void area() = 0; è¿™ä¹ˆå†™å°±æ˜¯çº¯è™šå‡½æ•°ï¼Œåˆ™ ç±» shape å˜ä¸ºæŠ½è±¡ç±»ï¼Œåˆ™ä¸å…è®¸å®šä¹‰å¯¹è±¡
    
        /* åŸºç±»çš„æ™®é€šæˆå‘˜å‡½æ•°ä¸­è°ƒç”¨å¤šæ€å‡½æ•°ï¼Œä¹Ÿå…·æœ‰å¤šæ€æ€§
        	ä½†æ˜¯åœ¨æ„é€ å’Œææ„å‡½æ•°ä¸­è°ƒç”¨ å¤šæ€å‡½æ•°ï¼Œå°±ä¸å…·å¤‡å¤šæ€äº†ï¼ˆå°±æ˜¯è°ƒç”¨åŸºç±»è‡ªå·±çš„é‚£ä¸ªè™šå‡½æ•°äº†ï¼‰ */
        void shape_area()
        {
            cout << "shape shape_area()" << endl;
            area(); // æœ¬è´¨ä¸Šæ˜¯ this->area(); æ˜¯å…·æœ‰å¤šæ€æ€§çš„ï¼Œå°±æ˜¯çœ‹æ˜¯å“ªä¸ªå­ç±»çš„æŒ‡é’ˆï¼Œå»è°ƒç”¨é‚£ä¸ªå­ç±»çš„ area()
        }
};

class circle : public shape
{
    public:
        virtual void area()
        {
            cout << "circle area()" << endl;
        }
};

class rectangle : public shape
{
    public:
        virtual void area()
        {
            cout << "rectangle area()" << endl;
        }
};

void show_shape_area(shape& s)
{
    s.area();
}

int main()
{
    cout << " ----- start ----- " << endl;

    shape sh;
    circle c;
    rectangle r;

    shape* s[2] = {&c, &r};

    /* ç›´æ¥è°ƒç”¨ï¼Œæ²¡æœ‰å¤šæ€æ€§ï¼Œè°ƒç”¨è°ç›´æ¥è¿è¡Œè° */
    sh.area();
    c.shape::area();

    cout << "-------------" << endl;

    /* é—´æ¥è°ƒç”¨ï¼Œå…·æœ‰å¤šæ€æ€§ï¼šä¸¤ç§å†™æ³•ï¼Œä¸€ä¸ªæ˜¯æŒ‡é’ˆç›´æ¥ç”¨ï¼Œä¸€ä¸ªæ˜¯å†™ä¸ªå‡½æ•°ç”¨å¼•ç”¨ */
    s[0]->area();   show_shape_area(c);
    s[1]->area();   show_shape_area(r);

    cout << "-------------" << endl;

    /* åŸºç±»çš„æ™®é€šæˆå‘˜å‡½æ•°ä¸­è°ƒç”¨å¤šæ€å‡½æ•°ï¼Œä¹Ÿå…·æœ‰å¤šæ€æ€§ */
    s[0]->shape_area();

    cout << " ----- end ----- " << endl;
    system("pause");
    return 0;
}

/*
æ‰“å°å†…å®¹ï¼š
 ----- start -----
shape area()
shape area()
-------------
circle area()
circle area()
rectangle area()
rectangle area()
-------------
shape shape_area()
circle area()
 ----- end -----
*/
```



ç±»çš„ï¼ˆå°¤å…¶æ˜¯æŠ½è±¡ç±»ï¼ˆåŸºç±»ï¼‰ï¼‰çš„ææ„å‡½æ•°æœ€å¥½å®šä¹‰ä¸ºè™šå‡½æ•°ï¼ˆå­ç±»ç»§æ‰¿åï¼Œå­ç±»é‡Œçš„ææ„å‡½æ•°ä¹Ÿéƒ½æˆä¸ºè™šå‡½æ•°ï¼‰ï¼Œå…·ä½“å¯çœ‹ [shellmad-c++_46 è™šææ„å‡½æ•°çš„ä½œç”¨_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1BA411t7K9/)ã€‚ä¸€ä¸ªå°çš„ç‚¹ï¼Œè™šææ„å‡½æ•° å¯ä»¥å†™ä¸º çº¯è™šææ„ï¼Œé‚£ä¹ˆå¿…é¡»è¦æœ‰å®ç°ï¼ˆæœ‰èŠ±æ‹¬å·ï¼‰ï¼Œä¾‹ `virtual ~ç±»å() = 0 { }`ã€‚ä¾‹å­ï¼š

```c++
class base
{
    public:
        base()
        {
            cout << "base()" << endl;
        }
        virtual ~base() // åŸºç±» ä¸”è¦è¢«ç»§æ‰¿çš„åŸºç±» çš„è™šæ„å‡½æ•° æœ€å¥½å†™ä¸º è™šå‡½æ•°
        {
            cout << "~base()" << endl;
        }
};

class child : public base
{
    public:
        child()
        {
            cout << "child()" << endl;
        }
        virtual ~child() // ä¹Ÿå¯ä»¥ä¿®é¥°ä¸ºè™šå‡½æ•°ï¼ˆä¹Ÿå¯ä»¥ä¸ï¼Œé™¤éè¢«åˆ«çš„ç±»å†ç»§æ‰¿ï¼‰
        {
            cout << "~child()" << endl;
        }
};

int main()
{
    cout << " ----- start ----- " << endl;
    
    /* åœ¨ä½¿ç”¨è¿™ç§æ–¹å¼ æ¥ä½¿ç”¨ åŸºç±»çš„æ—¶å€™ï¼Œé‡Šæ”¾ å¯¹è±¡æŒ‡é’ˆ b æ—¶å€™ï¼Œ
           è‹¥åŸºç±»çš„ææ„å‡½æ•° ä¿®é¥°ä¸ºè™šå‡½æ•°ï¼Œåˆ™ä¼šè°ƒç”¨ åŸºç±» å’Œ çˆ¶ç±»çš„ ææ„å‡½æ•°
           è‹¥åŸºç±»çš„ææ„å‡½æ•°ä¸ä¿®é¥°ä¸ºè™šå‡½æ•°ï¼Œåˆ™é‡Šæ”¾ å¯¹è±¡æŒ‡é’ˆ b æ—¶å€™ï¼Œåªä¼šè°ƒç”¨ å­ç±»çš„è™šæ„å‡½æ•°ï¼ŒåŸºç±»çš„è™šæ„å‡½æ•°æ²¡æœ‰è°ƒç”¨åˆ°ï¼Œå°±ä¸å®‰å…¨
    */
    base* b = new child; 
    delete b;

    cout << " ----- end ----- " << endl;
    system("pause");
    return 0;
}
```



æ›´å¤šçš„å¤šæ€çš„åŸºç¡€ä¾‹å­ï¼Œè¿˜å¯ä»¥å‚è€ƒè¿™ä¸ªé“¾æ¥é‡Œé¢ `å¤šæ€` ä¸€èŠ‚ï¼š[è¿™äº›çŸ¥è¯†ç‚¹ä½ éƒ½çŸ¥é“å—ï¼Œæµ‹è¯•ä½ çš„C++å…¥é—¨ç¨‹åº¦ (qq.com)](https://mp.weixin.qq.com/s?__biz=MzkyODU5MTYxMA==&mid=2247493075&idx=1&sn=fcabde545f1863d5a1a2095696308b5b&source=41#wechat_redirect)ã€‚



[(05)é‡å­¦C++ï¼šå¤šæ€ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/621299561)ã€‚



## è¿ç®—ç¬¦é‡è½½

- å‚è€ƒ [C++ é‡è½½è¿ç®—ç¬¦å’Œé‡è½½å‡½æ•° | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-overloading.html)ã€[C++å‡½æ•°é‡è½½è¯¦è§£ (biancheng.net)](http://c.biancheng.net/view/2206.html)ã€[C++è¿ç®—ç¬¦é‡è½½åŸºç¡€æ•™ç¨‹ (biancheng.net)](http://c.biancheng.net/view/2306.html)ã€‚


- å‚è€ƒè§†é¢‘ï¼š[shellmad-c++_51 è¿ç®—ç¬¦é‡è½½_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV13A411q7bE/)ï¼Œ[shellmad-c++_52 cin&coutçš„å¥¥ç§˜_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1kC4y1H7G7/)ï¼Œ[shellmad-c++_53 è‡ªå·±åŠ¨æ‰‹ç¼–å†™å­—ç¬¦ä¸²ç±»_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1eC4y1H7uC/?vd_source=c633af9518bed5572b1614612e2be3df)ï¼Œ[shellmad-c++_54 è½¬æ¢è¿ç®—ç¬¦_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV15z411B7W8/)ã€‚


- [C++ç±»å’Œå¯¹è±¡(4):è¿ç®—ç¬¦é‡è½½â€”â€”=ã€==ã€()å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦_é‡è½½æ“ä½œç¬¦=å’Œ()-CSDNåšå®¢](https://blog.csdn.net/ITJAVAtao/article/details/120922956)ã€‚
- [C++åŸºç¡€-è¿ç®—ç¬¦é‡è½½è¯¦è§£_C++è¯­è¨€-CSDNä¸“æ ](https://download.csdn.net/blog/column/12435130/135169738)ã€‚



TODO: è¿™é‡Œè¿˜éœ€è¦è¡¥å……ä¾‹å­



## æ¨¡æ¿ / æ³›å‹

æ¨¡æ¿æ˜¯æ³›å‹ç¼–ç¨‹çš„åŸºç¡€ã€‚C++ ç”¨ æ¨¡æ¿ æ¥æ”¯æŒ æ³›å‹ç¼–ç¨‹ï¼Œå³ ä¸€ç§ ç±» æˆ– å‡½æ•° æ”¯æŒå¤šç§æ•°æ®ç±»å‹ï¼Œå…³æ³¨ç®—æ³•å®ç°ã€‚

æ¨¡æ¿ä¸€èŠ‚ï¼Œä¼šåŒ…å«ä¸€äº›è¾ƒæ–°çš„ c++ ç‰ˆæœ¬ çš„ æ¨¡æ¿ç‰¹æ€§ã€‚

åŸºç¡€å‚è€ƒï¼š

- [C++ æ¨¡æ¿ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-templates.html)ï¼Œ[C++æ¨¡æ¿å’Œæ³›å‹ç¨‹åºè®¾è®¡ (biancheng.net)](http://c.biancheng.net/cplus/70/)ï¼Œ[c++é«˜æ•ˆç¼–ç¨‹ä¹‹æ¨¡æ¿å‡½æ•°ã€æ¨¡æ¿ç»“æ„ä½“ã€æ¨¡æ¿ç±»çš„ä½¿ç”¨_è·¯è¿‡çš„å°ç†Š~çš„åšå®¢-CSDNåšå®¢_c++ ç»“æ„ä½“æ¨¡æ¿](https://blog.csdn.net/qq_32348883/article/details/122044301)ã€‚
- [c++11æ–°ç‰¹æ€§ä¹‹æ¨¡æ¿çš„æ”¹è¿› - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/137851516)ã€‚
- [C++å‡½æ•°æ¨¡æ¿5åˆ†é’Ÿå…¥é—¨æ•™ç¨‹ (biancheng.net)](http://c.biancheng.net/view/2317.html)ï¼Œ[shellmad-c++_55 å‡½æ•°æ¨¡æ¿_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1Ug4y1B78H/)ã€‚ä¸­æ–‡è¯­å¢ƒä¸‹ ä¹Ÿå« â€œæ¨¡æ¿å‡½æ•°â€ã€‚
- [C++ç±»æ¨¡æ¿5åˆ†é’Ÿå…¥é—¨æ•™ç¨‹ (biancheng.net)](http://c.biancheng.net/view/2318.html)ï¼Œ[shellmad-c++_56 ç±»æ¨¡æ¿_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1NC4y1p7FB/)ã€‚ä¸­æ–‡è¯­å¢ƒä¸‹ ä¹Ÿå« â€œæ¨¡æ¿ç±»â€ã€‚
- [å¤§è¯C++æ¨¡æ¿ç¼–ç¨‹çš„æ¥é¾™å»è„‰ (biancheng.net)](http://c.biancheng.net/view/2319.html)ï¼ŒSTLï¼ˆStandard Template Libraryï¼Œæ ‡å‡†æ¨¡æ¿åº“ï¼‰å°±æ˜¯ C++ æ¨¡æ¿å®ç°åº“ã€‚

- [C++æ¨¡æ¿-CSDNåšå®¢](https://blog.csdn.net/weixin_63246738/article/details/130758826)ã€‚



æŒ‡å®šè°ƒç”¨æ¨¡æ¿å‡½æ•°ï¼š

[c++æ¨¡æ¿:è°ƒç”¨æ¨¡æ¿æˆå‘˜å‡½æ•°éœ€ä¸éœ€è¦åŠ templateå…³é”®å­—?_è°ƒç”¨ç±»æ¨¡æ¿çš„ç‰¹åŒ–å‡½æ•°,éœ€è¦å¸¦templateå…³é”®å­—å—?-CSDNåšå®¢](https://blog.csdn.net/10km/article/details/123571339)ã€‚



å¯å˜å‚æ•°æ¨¡æ¿ç±»å’Œå‡½æ•°ï¼š

[å¯å˜å‚æ•°æ¨¡æ¿ - OI Wiki (oi-wiki.org)](https://oi-wiki.org/lang/new/#å¯å˜å‚æ•°æ¨¡æ¿)ã€‚

[åŒ… (C++11 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/pack)ã€‚



ç²¾å“å‚è€ƒï¼š

- [Mq-b/Modern-Cpp-templates-tutorial: ç°ä»£C++æ¨¡æ¿æ•™ç¨‹ (github.com)](https://github.com/Mq-b/Modern-Cpp-templates-tutorial)ã€‚
- [wuye9036/CppTemplateTutorial: ä¸­æ–‡çš„C++ Templateçš„æ•™å­¦æŒ‡å—ã€‚ä¸çŸ¥åä¹¦ç±C++ Templatesä¸åŒï¼Œè¯¥ç³»åˆ—æ•™ç¨‹å°†C++ Templatesä½œä¸ºä¸€é—¨å›¾çµå®Œå¤‡çš„è¯­è¨€æ¥è®²æˆï¼Œä»¥æ±‚å¸®åŠ©è¯»è€…å¯¹Meta-Programmingèä¼šè´¯é€šã€‚(æ­£åœ¨æ–½å·¥ä¸­) (github.com)](https://github.com/wuye9036/CppTemplateTutorial)ã€‚



- [STL/6 æ¨¡æ¿ä¸­classä¸typenameåŒºåˆ«.md at master Â· FunctionDou/STL (github.com)](https://github.com/FunctionDou/STL/blob/master/6 æ¨¡æ¿ä¸­classä¸typenameåŒºåˆ«.md)ã€‚
- [STL/templateä¹‹æ¨¡æ¿æ³¨æ„äº‹é¡¹.md at master Â· FunctionDou/STL (github.com)](https://github.com/FunctionDou/STL/blob/master/templateä¹‹æ¨¡æ¿æ³¨æ„äº‹é¡¹.md)ã€‚
- [STL/templateä¹‹ç±»ç›¸å…³.md at master Â· FunctionDou/STL (github.com)](https://github.com/FunctionDou/STL/blob/master/templateä¹‹ç±»ç›¸å…³.md)ã€‚
- [STL/templateä¹‹éç±»å‹æ¨¡æ¿å‚æ•°.md at master Â· FunctionDou/STL (github.com)](https://github.com/FunctionDou/STL/blob/master/templateä¹‹éç±»å‹æ¨¡æ¿å‚æ•°.md)ã€‚





TODO: è¿™é‡Œè¿˜éœ€è¦è¡¥å……





**å˜é‡æ¨¡æ¿**

[å˜é‡æ¨¡æ¿ (C++14 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/variable_template)ã€‚

> ```c++
> template<class T>
> constexpr T pi = T(3.1415926535897932385L);
> 
> int main() {
>     cout << pi<int> << endl; // 3
>     cout << pi<double> << endl; // 3.14159
>     return 0;
> }
> ```
>



**åˆ«åæ¨¡æ¿**

C++ 14 èµ·ã€‚

> ```c++
> template<typename T, typename U>
> struct A {
>     T t;
>     U u;
> };
> 
> template<typename T>
> using B = A<T, int>;
> 
> int main() {
>     B<double> b;
>     b.t = 10;
>     b.u = 20;
>     cout << b.t << endl;
>     cout << b.u << endl;
>     return 0;
> }
> ```
>



**æŠ˜å è¡¨è¾¾å¼**

å‚è€ƒ [æŠ˜å è¡¨è¾¾å¼(C++17 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/language/fold)ã€‚

C++ 17 èµ·ã€‚

> ```c++
> template <typename ... Ts>
> auto sum(Ts ... ts) {
>     return (ts + ...);
> }
> int a {sum(1, 2, 3, 4, 5)}; // 15
> std::string a{"hello "};
> std::string b{"world"};
> cout << sum(a, b) << endl; // hello world
> 
> // ---
> 
> template<typename... Args>
> bool all(Args... args) { return (... && args); }
>  
> bool b = all(true, true, true, false);
> // åœ¨ all() ä¸­ï¼Œä¸€å…ƒå·¦æŠ˜å å±•å¼€æˆ
> //  return ((true && true) && true) && false;
> // b æ˜¯ false
> ```
>
> 



## å¤šçº¿ç¨‹ç¼–ç¨‹åŸºç¡€

å‚è€ƒ å’Œ å¼•ç”¨ï¼š

- [å¹¶å‘æ”¯æŒåº“ (C++11 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/thread)ã€‚
- å¾ˆæ¸…æ¥šçš„æ€»ç»“ [C++ ä¸­ï¼Œstd::async å¯ä»¥å®Œå…¨æ›¿ä»£ std::thread æ¥å¼€å¯å¼‚æ­¥çš„å¤šçº¿ç¨‹æ“ä½œå—ï¼Ÿ - çŸ¥ä¹ (zhihu.com)](https://www.zhihu.com/question/547132461/answer/2657296340)ã€‚
- [ã€C++11å¤šçº¿ç¨‹ã€‘å¼‚æ­¥ä»»åŠ¡ï¼šasyncã€packaged_taskã€promise_c++ async-CSDNåšå®¢](https://blog.csdn.net/qq_42815188/article/details/102505884)ã€‚
- [asyncçš„ä¸¤ä¸ªå‘ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/484355423)ã€‚
- [å…³äºå¤šçº¿ç¨‹çš„ä¸€äº›å¿ƒå¾— - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/398428022)ã€‚
- [c++11æ–°ç‰¹æ€§ä¹‹çº¿ç¨‹ç›¸å…³æ‰€æœ‰çŸ¥è¯†ç‚¹ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/137914574)ã€‚
- [c++11 æ–°ç‰¹æ€§æ€»ç»“ï¼ˆäºŒï¼‰â€”â€”å¤šçº¿ç¨‹ç¯‡ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/547970094)ã€‚
- [Mq-b/ModernCpp-ConcurrentProgramming-Tutorial: ç°ä»£C++å¹¶å‘ç¼–ç¨‹æ•™ç¨‹ (github.com)](https://github.com/Mq-b/ModernCpp-ConcurrentProgramming-Tutorial)ã€‚
- æ¯”è¾ƒå…¨é¢çš„æ€»ç»“ [C++å¤šçº¿ç¨‹+çº¿ç¨‹æ± ï¼ˆå…¨è¯¦è§£ï¼‰ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/650522122)ã€‚
- ç”¨æ³•å½’çº³ [C++ä¸­çš„threadæœ€å…¨ç”¨æ³•å½’çº³_c++ threadç”¨æ³•-CSDNåšå®¢](https://blog.csdn.net/zzh516451964zzh/article/details/128421574)ã€‚
- [std::threadï¼ˆçº¿ç¨‹ï¼‰-CSDNåšå®¢](https://blog.csdn.net/weixin_40087851/article/details/82685510/)ã€‚
- [C++ï¼šstd::threadï¼šçº¿ç¨‹ç”¨æ³•_std::threadç”¨æ³•-CSDNåšå®¢](https://blog.csdn.net/u013620306/article/details/128565614)ã€‚
- [C++ std::threadè°ƒç”¨ç±»æˆå‘˜å‡½æ•°_std::thread ç±»æˆå‘˜å‡½æ•°-CSDNåšå®¢](https://blog.csdn.net/IsaiahX/article/details/123303200)ã€‚



### åˆ›å»ºçº¿ç¨‹

ç›¸å…³æ–¹æ³•ï¼šè¿‡äºåŸºç¡€çš„æš‚ä¸æä¾›ä¾‹å­ã€‚

- thread

  åˆ›å»ºçº¿ç¨‹

  > ```c++
  > ...
  > std::thread t(func, funcPara); // å¯ä¼ å…¥ lambdaã€å‡½æ•°æŒ‡é’ˆç­‰ç­‰ï¼Œå¹¶åè·Ÿç€å‡½æ•°å…¥å‚ï¼›ä¹Ÿå¯ä¼ å…¥ std::packaged_task å˜é‡
  > if (t.joinable()) {
  >     t.detach();
  > }
  > ...
  > ```

  æ›´å¤šçº¿ç¨‹ç›¸å…³ API ä¾‹å­ï¼š

  > ```c++
  > std::thread t(func);
  > cout << "å½“å‰çº¿ç¨‹ID " << t.get_id() << endl;
  > cout << "å½“å‰cpuä¸ªæ•° " << std::thread::hardware_concurrency() << endl;
  > auto handle = t.native_handle();// handleå¯ç”¨äºpthreadç›¸å…³æ“ä½œ
  > std::this_thread::sleep_for(std::chrono::seconds(1));
  > ```

- std::call_once

  ```c++
  ...
  for(uint32_t i = 0; i < 5; i++) {
      std::thread t(
          []() -> void {
              static auto func = []() -> void {
                  std::cout << " --- just run once" << std::endl;
              };
              static std::once_flag onceflag;
              std::call_once(onceflag,func);
          }
      );
      if(t.joinable()) {
          t.detach();
      }
  }
  
  std::this_thread::sleep_for(std::chrono::seconds(3));
  ...
  ```



### çº¿ç¨‹é—´åŒæ­¥æœºåˆ¶

- äº’æ–¥é”ï¼šmutex

  æ³¨æ„å…ˆçš„å„ç§é”çš„ç§ç±»ï¼Œæ¥è‡ªäºä¸åŒçš„ C++ ç‰ˆæœ¬ï¼Œå¯å‚è€ƒ [é”ï¼ˆmutexï¼‰ä½¿ç”¨ï¼ˆc++11ã€c++14ã€c++17ï¼‰_c++11ã€c++14ã€c++17å¤šçº¿ç¨‹è¯»å†™é”çš„åŒºåˆ«-CSDNåšå®¢](https://blog.csdn.net/liguan1102/article/details/116236702)ã€‚

  mutex ç§ç±»ï¼š

  [äº’æ–¥ - cppreference.com](https://zh.cppreference.com/w/cpp/thread#.E4.BA.92.E6.96.A5)ã€‚

  - std::mutexï¼šç‹¬å çš„äº’æ–¥é‡ï¼Œä¸èƒ½é€’å½’ä½¿ç”¨ï¼Œä¸å¸¦è¶…æ—¶åŠŸèƒ½
    - shared_mutex (C++17) å¯å®ç°è¯»å†™é”
    - shared_timed_mutex (C++14)ï¼ŒåŒä¸Šï¼Œå¸¦ç­‰å¾…è¶…æ—¶åŠŸèƒ½ã€‚
  - std::recursive_mutexï¼šé€’å½’äº’æ–¥é‡ï¼Œå¯é‡å…¥ï¼Œä¸å¸¦è¶…æ—¶åŠŸèƒ½
  - std::timed_mutexï¼šå¸¦ç­‰å¾…è¶…æ—¶çš„äº’æ–¥é‡ï¼Œä¸èƒ½é€’å½’
  - std::recursive_timed_mutexï¼šå¸¦ç­‰å¾…è¶…æ—¶çš„äº’æ–¥é‡ï¼Œå¯ä»¥é€’å½’ä½¿ç”¨

  åœ¨ C++ ä¸­é€šå¸¸ä¸ç›´æ¥ä½¿ç”¨ std::mutex æ¥è¿›è¡Œé”å®šï¼Œè€Œæ˜¯ä½¿ç”¨ std::unique_lockã€std::lock_guard æˆ– std::scoped_lockï¼ˆä» C++17 èµ·å¯ç”¨ï¼‰ç­‰ç±»ï¼Œä»¥æ›´åŠ å®‰å…¨åœ°ç®¡ç†é”å®šã€‚è¿™äº›ç±»æä¾›äº†æ›´å¥½çš„å¼‚å¸¸å®‰å…¨æ€§ï¼Œåœ¨ä¸´ç•ŒåŒºä¸­çš„ä»£ç å‘ç”Ÿå¼‚å¸¸ï¼Œstd::unique_lock ä¹Ÿä¼šåœ¨è¶…å‡ºä½œç”¨åŸŸæ—¶è‡ªåŠ¨é‡Šæ”¾é”å®šï¼Œç¡®ä¿èµ„æºè¢«æ­£ç¡®åœ°é‡Šæ”¾ï¼Œä»è€Œæä¾›æ›´å¥½çš„å¼‚å¸¸å®‰å…¨æ€§ã€‚

  unique_lock å’Œ lock_guardï¼šå¦‚æœéœ€è¦æ›´å¤šçš„çµæ´»æ€§ã€æ‰‹åŠ¨æ§åˆ¶é”å®šæˆ–æ”¯æŒç§»åŠ¨è¯­ä¹‰ï¼Œåˆ™é€‰æ‹© std::unique_lockã€‚è€Œå¦‚æœåªéœ€è¦ç®€å•çš„è‡ªåŠ¨é”å®šå’Œé‡Šæ”¾ï¼Œä¸”ä¸éœ€è¦é¢å¤–çš„åŠŸèƒ½ï¼Œåˆ™é€‰æ‹© è½»é‡çº§ std::lock_guard æ›´ä¸ºåˆé€‚ã€‚äºŒè€…é»˜è®¤ åˆ›å»ºæ—¶å€™ åŠ é”ï¼Œè¶…å‡ºä½œç”¨åŸŸæ—¶ è‡ªåŠ¨è§£é” å’Œ é‡Šæ”¾ã€‚

  

  é€šè¿‡ try_lock æ–¹æ³•ï¼Œå¯ä»¥åœ¨å¤šæ¬¡æ‰§è¡Œä¸€ä¸ª å‡½æ•°çš„æ—¶å€™ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰å…¶å®ƒçº¿ç¨‹å·²ç»åœ¨æ‰§è¡Œäº†ï¼Œè‹¥ä¸éœ€è¦åŒæ—¶æ‰§è¡Œï¼ˆæ¯”å¦‚æŒ‰é”®çš„å›è°ƒå‡½æ•°ï¼Œå½“æŒ‰é”®å¤šæ¬¡ç‚¹å‡»ï¼Œä¸éœ€è¦å¹¶è¡Œæ‰§è¡Œçš„æ—¶å€™ï¼‰ï¼Œå°±å¯ä»¥ç”¨ try_lock æ–¹æ³•æ¥åˆ¤æ–­ï¼Œé€‰æ‹©è¦ä¸è¦ returnã€‚çµæ´»å»ç”¨ é” çš„ å„ç§æ–¹æ³•ã€‚

  æœ‰ try_to_lockã€defer_lock ç­‰æ›´çµæ´»çš„ç”¨æ³•ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹å‡½æ•°ä¸å¸Œæœ›åœ¨å…¶å®ƒçº¿ç¨‹æ­£åœ¨è¿è¡Œè¿™ä¸ªå‡½æ•°è¿˜æ²¡æœ‰ç»“æŸçš„æ—¶å€™å†æ‰§è¡Œï¼Œå°±å¯ä»¥ç”¨ try_to_lock æ–¹æ³•ï¼Œå¦‚æœ lock.owns_lock() è¿”å› false æ˜¯æ²¡æœ‰é”ä¸Šå°±è¡¨æ˜å…¶å®ƒçº¿ç¨‹æ­£åœ¨å ç”¨ æ‰€ä»¥ç›´æ¥ return å³å¯ã€‚

  ä¸Šé”ï¼š

  - é”å˜é‡ç›´æ¥è°ƒç”¨å…¶æ–¹æ³•æ¥ä¸Šé” (lock() / try_lock())ã€‚

  - RAII é£æ ¼ï¼ˆåˆ©ç”¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç®¡ç†èµ„æºï¼‰
    
    [é€šç”¨äº’æ–¥ä½“ç®¡ç† - cppreference.com](https://zh.cppreference.com/w/cpp/thread#.E9.80.9A.E7.94.A8.E4.BA.92.E6.96.A5.E4.BD.93.E7.AE.A1.E7.90.86)ã€‚
    
    - unique_lockï¼ˆæœ‰ try_lock ç­‰æ–¹æ³•ï¼‰
    - shared_lock (C++14)
    - lock_guard
    - scoped_lock (C++17)ï¼ˆTODO: æœ‰å¾…è¡¥å……ï¼‰
    
    æŒ‡å®šé”å®šç­–ç•¥ [std::defer_lock, std::try_to_lock, std::adopt_lock, std::defer_lock_t, std::try_to_lock_t, std::adopt_lock_t - cppreference.com](https://zh.cppreference.com/w/cpp/thread/lock_tag)ã€‚

  å®ç°è¯»å†™é”ï¼Œå¯ç”¨ shared_mutex æˆ– shared_timed_mutexï¼ˆç›¸è¾ƒ å‰è€…å¤šäº†è¶…æ—¶åŠŸèƒ½ï¼‰ï¼Œå¯å‚è€ƒï¼š

  - [C++å¤šçº¿ç¨‹â€”â€”è¯»å†™é”shared_lock/shared_mutex_princeteng-GitCode å¼€æºç¤¾åŒº (csdn.net)](https://gitcode.csdn.net/65ec508a1a836825ed798052.html)ã€‚
  - [å¤šçº¿ç¨‹åŒæ­¥åŸè¯­std::shared_timed_mutex å’Œ std::shared_lock_std shared lock-CSDNåšå®¢](https://blog.csdn.net/vmt/article/details/143677873)ã€‚

- æ¡ä»¶å˜é‡ï¼šcondition_variableï¼Œå‚è€ƒ [std::condition_variable - cppreference.com](https://zh.cppreference.com/w/cpp/thread/condition_variable)ã€‚

  çœ‹ä¾‹å­å³å¯ï¼Œä½¿ç”¨ä¸ ptherad ä¸­çš„éƒ½æ¯”è¾ƒç±»ä¼¼ã€‚

  å…¶ä¸­ wait(m, pred) çš„ pred å¯ä»¥è®¤ä¸ºæ˜¯å…¶å®ƒçº¿ç¨‹å‘é€çš„æ¡ä»¶å˜é‡åˆ°åº•æ˜¯ä¸æ˜¯ç»™æˆ‘å¬çš„ï¼ˆè¿”å› false æŒ‡ç¤ºä¸æ˜¯ç»™è‡ªå·±çš„ï¼Œåä¹‹åˆ™æ˜¯ï¼‰ï¼Œå‚è€ƒ [std::condition_variable::wait - cppreference.com](https://zh.cppreference.com/w/cpp/thread/condition_variable/wait)ã€‚

- atomicï¼Œå¯ç”¨æ—¶ç°æŸ¥ã€‚

  [std::atomic - cppreference.com](https://zh.cppreference.com/w/cpp/atomic/atomic)ã€‚
  
  [C++å¹¶å‘ç¼–ç¨‹ | åŸå­æ“ä½œstd::atomic-CSDNåšå®¢](https://blog.csdn.net/weixin_44479862/article/details/128059243)ã€‚
  
  äº’æ–¥é‡é”ä¿æŠ¤çš„æ•°æ®èŒƒå›´æ¯”è¾ƒå¤§ï¼Œæˆ‘ä»¬æœŸæœ›æ›´å°èŒƒå›´çš„ä¿æŠ¤ã€‚å¹¶ä¸”å½“å…±äº«æ•°æ®ä¸ºä¸€ä¸ªå˜é‡æ—¶ï¼Œä½¿ç”¨ std::atomic å»ºç«‹åŸå­å˜é‡ æ•ˆç‡æ›´é«˜ã€‚
  
  å¹¶æä¾›äº†åŸå­æ“ä½œçš„ è¯»å†™ã€åŠ å‡ ç­‰ APIã€‚
  
  



### future / packaged_task

promise / future / shared_future

[std::promise - cppreference.com](https://zh.cppreference.com/w/cpp/thread/promise)ã€‚[std::future - cppreference.com](https://zh.cppreference.com/w/cpp/thread/future)ã€‚[std::shared_future - cppreference.com](https://zh.cppreference.com/w/cpp/thread/shared_future).

std::promise ç”¨äºç”Ÿæˆå€¼æˆ–å¼‚å¸¸ï¼Œå¹¶å°†å…¶ä¸ std::future å…³è”èµ·æ¥ï¼Œè€Œ std::future åˆ™ç”¨äºè·å–å¼‚æ­¥æ“ä½œçš„ç»“æœæˆ–çŠ¶æ€ã€‚å®ƒä»¬é€šå¸¸ä¸€èµ·ä½¿ç”¨ï¼Œå®ç°çº¿ç¨‹é—´çš„åä½œå’Œé€šä¿¡ï¼Œä»¥ä¾¿åœ¨å¼‚æ­¥ç¯å¢ƒä¸­è¿›è¡Œæ•°æ®å…±äº«å’Œæ§åˆ¶æµç®¡ç†ã€‚

> ```c++
> // future from a promise
> std::promise<int> p;
> std::future<int> f3 = p.get_future();
> std::thread p([&p]{ p.set_value_at_thread_exit(9); }); p.detach();
> ...
> ```



[C++11ä¸­std::futureçš„å…·ä½“ä½¿ç”¨æ–¹æ³•_C/C++_æœåŠ¡å™¨ä¹‹å®¶ (zzvips.com)](http://www.zzvips.com/article/183327.html)ã€‚

std::future æ˜¯ç‹¬å çš„ï¼Œå³å®ƒåªèƒ½ä¸ä¸€ä¸ª std::promise å¯¹è±¡å…³è”ï¼Œå¹¶ä¸”ä¸èƒ½è¢«å¤åˆ¶æˆ–å…±äº«ï¼›ä¸€æ—¦ä¸ std::promise å…³è”çš„å€¼è¢«è®¾ç½®ï¼Œstd::future å°±æ— æ³•å†æ¬¡ä¸å…¶ä»– std::promise å…³è”ï¼›std::future å¯¹è±¡æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œä¸€æ—¦è·å–äº†å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå°±ä¸èƒ½å†æ¬¡è·å–ã€‚

std::shared_future å¯ä»¥ä¸å¤šä¸ª std::promise å¯¹è±¡å…³è”ï¼Œå¹¶ä¸”å¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ï¼›std::shared_future å…è®¸å¤šä¸ªçº¿ç¨‹åŒæ—¶ç­‰å¾…å¼‚æ­¥æ“ä½œçš„å®Œæˆï¼Œå¹¶ä¸”å¯ä»¥å¤šæ¬¡è·å–ç›¸åŒçš„ç»“æœã€‚

å½“éœ€è¦å…è®¸å¤šä¸ªçº¿ç¨‹åŒæ—¶ç­‰å¾…ç›¸åŒçš„å¼‚æ­¥æ“ä½œç»“æœæ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ std::shared_futureï¼›åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨ std::shared_future å¯ä»¥å‡å°‘èµ„æºçš„é‡å¤è®¡ç®—ï¼Œå› ä¸ºå¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«ç›¸åŒçš„ç»“æœï¼Œè€Œä¸æ˜¯æ¯ä¸ªçº¿ç¨‹éƒ½éœ€è¦ç‹¬ç«‹è®¡ç®—ä¸€æ¬¡ã€‚



packaged_task

ç”¨äºæ›´çµæ´»çš„çº¿ç¨‹è¿”å›å€¼æ§åˆ¶ã€‚

std::packaged_task æ‰¿è½½ä¸€ä¸ªå°†è¦ å¼‚æ­¥æ‰§è¡Œ çš„å¯è°ƒç”¨å¯¹è±¡ï¼ˆå‡½æ•°ã€å‡½æ•°å¯¹è±¡æˆ– Lambda è¡¨è¾¾å¼ï¼‰ï¼Œç„¶åå¯ä»¥è·å¾—å…¶ std::future æˆ– std::shared_future å¯¹è±¡ï¼Œè‡ªå·±æ‰‹åŠ¨åˆ›å»ºä¸ª thread å¹¶å°† std::packaged_task å¯¹è±¡ç§»å…¥ æ¥å¼‚æ­¥æ‰§è¡Œå‡½æ•°ï¼Œç„¶å é€šè¿‡ future å¯¹è±¡ è·å– å¼‚æ­¥æ‰§è¡Œçš„è¿”å›ç»“æœã€‚

ç›¸æ¯”è¾ƒ std::async æ›´çµæ´»ï¼Œå¯æ“ä½œæ€§å¤§ã€‚

> ```c++
> #include <future>
> #include <iostream>
> #include <thread>
> int main() {
>     std::packaged_task<int(int, int)> task([](int a, int b) { return a + b; });
>     auto f = task.get_future();
>     std::thread t(std::move(task), 1, 2);
>     std::cout << f.get() << std::endl;
>     if (t.joinable()) t.join();
> }
> ```
>



### async

std::async æ˜¯ä¸€ä¸ªå‡½æ•°æ¨¡æ¿ï¼Œç”¨äºå¯åŠ¨ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªä¸è¯¥ä»»åŠ¡å…³è”çš„ std::future æˆ– std::shared_future å¯¹è±¡ï¼Œç”¨äºè·å–ä»»åŠ¡çš„ç»“æœï¼Œå¯ä»¥é€‰æ‹©å…¶å†…éƒ¨è‡ªåŠ¨åˆ›å»ºä¸ªæ–°çš„ thread æ¥æ‰§è¡Œï¼ˆé€‰æ‹©ç­–ç•¥ä¸º std::launch::asyncï¼Œå³åˆ›å»ºæ–°çº¿ç¨‹å¹¶ç«‹å³æ‰§è¡Œï¼‰ æˆ– åœ¨è°ƒç”¨çº¿ç¨‹ä¸­æ‰§è¡Œä»»åŠ¡ï¼ˆé€‰æ‹©ç­–ç•¥ä¸º std::launch::deferredï¼Œå³åœ¨è°ƒç”¨ std::future::get() æˆ– std::future::wait() çš„çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå³ å»¶è¿Ÿæ‰§è¡Œä»»åŠ¡ï¼‰ã€‚ç®€åŒ–äº†ä»£ç ç¼–å†™ã€‚

```c++
// future from an async()
std::future<int>f2= std::async(std::launch::async, []{ return 8;}};

    auto f = std::async(
        std::launch::async,
        [](void) mutable -> uint32_t {
            std::this_thread::sleep_for(std::chrono::seconds(3));
            return 0;
        }
    );
    f.get(); // will block until thread of async exit, for "f.wait();" too
    // f.wait();

 	// å…³äº std::chronoï¼Œå¯ä»¥ç”¨æ—¶ç°æŸ¥ï¼Œå…¶æ–¹æ³•æ¯”è¾ƒå¤šï¼Œä¹Ÿå¯ä»¥é—® AIã€‚

    // wait_for
    // auto f_state = f.wait_for(std::chrono::milliseconds(100));
    // if(f_state == std::future_status::ready) {
    //     // ...
    // }

    // wait_until
    // std::chrono::system_clock::time_point two_seconds_passed
    //     = std::chrono::system_clock::now() + std::chrono::seconds(2);
    // auto f_state = f.wait_until(two_seconds_passed);
    // if(f_state == std::future_status::timeout) {
    //     // ...
    // }
```

å…³äº async è¿”å› future åœ¨ææ„çš„æ—¶å€™ä¼šé˜»å¡ç›´åˆ°çº¿ç¨‹å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œä¸ºäº†ä¸é˜»å¡ async åé¢çš„æ‰§è¡Œï¼Œä¸¤ç§å†™æ³•æ¥è§£ï¼š

1ã€æä¸ª å…¨å±€çš„ future å˜é‡æ¥æ‰¿æ¥ async çš„è¿”å›ï¼Œåœ¨éœ€è¦çš„åœ°æ–¹å¯¹å…¶ get æˆ– wait_forï¼›

2ã€æŠŠ async è¿”å›çš„ future å±€éƒ¨å˜é‡ ç”¨ std::thread t(...); t.detach(); åˆ›å»ºä¸ªä¸“é—¨çº¿ç¨‹ï¼Œç”¨  å³å€¼å¼•ç”¨ï¼ˆstd::moveï¼‰çš„ä¼ å‚æ–¹å¼ ä¼ è¿›å»ï¼ˆfuture ç”Ÿå‘½å‘¨æœŸå°±è½¬ç§»åˆ° t çš„çº¿ç¨‹å‡½æ•°é‡Œé¢ï¼‰ï¼Œåœ¨é‡Œé¢å¯¹å…¶ get æˆ– wait_forã€‚

1 ä¾‹ç¨‹ï¼š

```c++
#include <chrono>
#include <cstdint>
#include <future>
#include <iostream>
#include <thread>

void test(void);
void test2(void);

static std::future<uint32_t> f_async;

int main(void)
{
    std::cout << " -------- main begin" << std::endl;
    test();
    test2();
    std::cout << " -------- main end" << std::endl;
}

void test(void)
{
    std::cout << " ------------------ test begin" << std::endl;

    f_async = std::async(
        std::launch::async,
        [](void) mutable -> uint32_t {
            std::this_thread::sleep_for(std::chrono::milliseconds(300));
            return 0;
        }
    );

    std::cout << " ------------------ test end" << std::endl;
    return;
}

void test2(void)
{
    std::cout << " ------------------ test2 begin" << std::endl;

    for(;;) {
        auto f_async_state = f_async.wait_for(std::chrono::milliseconds(100));
        if(f_async_state == std::future_status::timeout) {
            std::cout << " ... f_async wait_for 100 ms" << std::endl;
        } else if (f_async_state == std::future_status::ready) {
            std::cout << " ... f_async ready" << std::endl;
            break;
        }
    }

    std::cout << " ------------------ test2 end" << std::endl;
    return;
}

/* print:

 -------- main begin
 ------------------ test begin
 ------------------ test end
 ------------------ test2 begin
 ... f_async wait_for 100 ms
 ... f_async wait_for 100 ms
 ... f_async ready
 ------------------ test2 end
 -------- main end

*/
```

2 ä¾‹ç¨‹ï¼š

```c++
#include <chrono>
#include <cstdint>
#include <future>
#include <iostream>
#include <thread>

void test(void);

int main(void)
{
    std::cout << " -------- main begin" << std::endl;
    test();
    std::cout << " -------- main end" << std::endl;
}

void test(void)
{
    std::cout << " ------------------ test begin" << std::endl;

    std::future<uint32_t> f_async = std::async(
        std::launch::async,
        [](void) mutable -> uint32_t {
            std::this_thread::sleep_for(std::chrono::milliseconds(300));
            return 0;
        }
    );

    bool is_f_async_done = false;
    std::thread t_process_f_async(
        [&is_f_async_done](std::future<uint32_t>&& f_async) mutable -> void {
            for(;;) {
                auto f_async_state = f_async.wait_for(std::chrono::milliseconds(100));
                if(f_async_state == std::future_status::timeout) {
                    std::cout << " ... f_async wait_for 100 ms" << std::endl;
                } else if (f_async_state == std::future_status::ready) {
                    std::cout << " ... f_async ready" << std::endl;
                    is_f_async_done = true; // or call a callback fun
                    break;
                }
            }
        },
        std::move(f_async)
    );
    t_process_f_async.detach();

    for(;;){
        if(is_f_async_done) {
            std::cout << " ... is_f_async_done" << std::endl;
            break;
        }
    };

    std::cout << " ------------------ test end" << std::endl;
    return;
}
/* print:

 -------- main begin
 ------------------ test begin
 ... f_async wait_for 100 ms
 ... f_async wait_for 100 ms
 ... f_async ready
 ... is_f_async_done
 ------------------ test end
 -------- main end

*/
```

å½“ç„¶è¿™ä¸¤ç§å¯èƒ½ä¸è§„èŒƒï¼Œè¿˜æ˜¯è½¯ä»¶å·¥ç¨‹è¦æå‰åˆ’åˆ†å¥½å­ä»»åŠ¡ï¼Œçº¿ç¨‹é—´è§£è€¦ã€‚



### thread_local

å‚è€ƒ [c++11æ–°ç‰¹æ€§ï¼Œæ‰€æœ‰çŸ¥è¯†ç‚¹éƒ½åœ¨è¿™äº†ï¼ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/139515439) é‡Œé¢ `thread_local` ä¸€èŠ‚ã€‚



> c++11å¼•å…¥thread_localï¼Œç”¨thread_localä¿®é¥°çš„å˜é‡å…·æœ‰threadå‘¨æœŸï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æ‹¥æœ‰å¹¶åªæ‹¥æœ‰ä¸€ä¸ªè¯¥å˜é‡çš„ç‹¬ç«‹å®ä¾‹ï¼Œä¸€èˆ¬ç”¨äºéœ€è¦ä¿è¯çº¿ç¨‹å®‰å…¨çš„å‡½æ•°ä¸­ã€‚
>
> ä¸€ä¸ªçº¿ç¨‹ç§æœ‰å˜é‡ï¼Œä¸€ä¸ªçº¿ç¨‹æ‹¥æœ‰ä¸”åªæ‹¥æœ‰ä¸€ä¸ªè¯¥å®ä¾‹ï¼Œç±»ä¼¼äºstaticã€‚



> ```c++
> #include <iostream>
> #include <thread>
> 
> class A {
>    public:
>     A() {}
>     ~A() {}
> 
>     void test(const std::string &name) {
>         thread_local int count = 0;
>         ++count;
>         std::cout << name << ": " << count << std::endl;
>     }
> };
> 
> void func(const std::string &name) {
>     A a1;
>     a1.test(name);
>     a1.test(name);
>     A a2;
>     a2.test(name);
>     a2.test(name);
> }
> 
> int main() {
>     std::thread(func, "thread1").join();
>     std::thread(func, "thread2").join();
>     return 0;
> }
> 
> /* è¾“å‡º
> thread1: 1
> thread1: 2
> thread1: 3
> thread1: 4
> thread2: 1
> thread2: 2
> thread2: 3
> thread2: 4
> */
> ```



## ç°ä»£é«˜æ€§èƒ½å¹¶å‘ç¼–ç¨‹

- [parallel101/course: é«˜æ€§èƒ½å¹¶è¡Œç¼–ç¨‹ä¸ä¼˜åŒ– - è¯¾ä»¶ (github.com)](https://github.com/parallel101/course)ã€‚
- æ›´å¤šå¯å‚è€ƒ `C-C++å®ç”¨åº“å¤‡æŸ¥` é‡Œé¢çš„çº¿ç¨‹æ± ç­‰ç›¸å…³çš„ github å®ç°ã€‚
- æ›´å¤šå¯å‚è€ƒ `C-C++å®ç”¨åº“å¤‡æŸ¥` é‡Œé¢çš„ é«˜å¹¶å‘ å¤„ç†åº“ï¼Œä¼šç”¨ï¼Œå–„ç”¨ã€‚
- [æ·±å…¥ç†è§£C11/C++11å†…å­˜æ¨¡å‹(ç™½å«–æ–°çŸ¥è¯†~) - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/464207968)ã€‚



TODO æœ‰å¾…è¡¥å……

event

epoll

ä¸€äº› å¹¶å‘åº“ï¼Œä» `C-C++å®ç”¨åº“å¤‡æŸ¥` é‡Œé¢æ‹¿å‡ºæ¥ï¼Œå†™å‡ ä¸ªç”¨ä¾‹ã€‚



## C++ æ ‡å‡†åº“ / STL

å‚è€ƒ èœé¸Ÿæ•™ç¨‹ã€C è¯­è¨€ä¸­æ–‡ç½‘ç­‰ã€‚è¿™é‡Œåªæ˜¯ç½—åˆ—åº“å‡½æ•°ï¼Œè§£å†³â€œéƒ½æœ‰ä»€ä¹ˆâ€çš„é—®é¢˜ï¼Œæ¯ä¸€ä¸ª API çš„å…·ä½“ç”¨æ³•éœ€è¦ç”¨æ—¶ç°æŸ¥ã€‚

å¾ˆå¤šå¯ä»¥ç”¨æ—¶ç°æŸ¥ï¼Œæˆ–è€…é—® AI å·¥å…·ï¼Œä½†æ˜¯ï¼ŒçŸ¥é“ **éƒ½æœ‰ä»€ä¹ˆ** å¾ˆé‡è¦ã€‚



### C++ çš„ ä»¥åŠå‚è€ƒ

cpp æ ‡å‡†åº“ å‚è€ƒï¼šè¿™é‡Œæ˜¯å…¨çš„ï¼Œå¯ä»¥æ—¶ä¸æ—¶çš„åˆ·åˆ·çœ‹çœ‹ã€‚

é‡Œé¢çš„å„ç§æ–¹æ³•å¤ªå¤šï¼Œæ‰€ä»¥**å®é™…å¸¸é—® AI å·¥å…·å»å†™**ï¼Œä½†æ˜¯ï¼Œè¿˜æ˜¯è¦çœ‹ä¸€ä¸‹ **éƒ½æœ‰ä»€ä¹ˆ**ï¼ŒçŸ¥é“ç”¨ä»€ä¹ˆæ‰æ›´å¥½ï¼Œæœ‰æ–¹å‘æ€§çš„å»é—® AIã€‚

std æä¾›äº†å¾ˆå¤šå®ç”¨ API å¯ä»¥ä¸å¿…è‡ªå·±å®ç°ã€‚

TODOï¼šè¿™é‡Œé¢çš„åº“çš„ç½—åˆ—ï¼Œå¯ä»¥å¤åˆ¶å‡ºæ¥æ”¾ä¸‹é¢

- [C++ æ ‡å‡†åº“ - cppreference.com](https://zh.cppreference.com/w/cpp/standard_library)ã€‚
- [C++ æ ‡å‡†åº“æ ‡å¤´ - cppreference.com](https://zh.cppreference.com/w/cpp/header)ã€‚
- [C++ STL æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-stl-tutorial.html)ã€‚
- [STLæ•™ç¨‹ï¼šC++ STLå¿«é€Ÿå…¥é—¨ï¼ˆéå¸¸è¯¦ç»†ï¼‰ (biancheng.net)](http://c.biancheng.net/stl/)ã€‚
- [C++ Cheat Sheets & Infographics | hacking C++ (hackingcpp.com)](https://hackingcpp.com/cpp/cheat_sheets.html)ã€‚



åº“ï¼š



--

ä¸‹é¢åªæ˜¯ä¹‹å‰é›¶ç¢æ•´ç†ï¼Œä¸å…¨ï¼Œä½†æ˜¯åˆ äº†åˆæš‚æ—¶ä¸æƒ³åˆ ï¼Œå…ˆæ”¾ç€ã€‚



- fstreamï¼šæ–‡ä»¶æ“ä½œåº“ï¼Œç”¨æ—¶ç°æŸ¥å³å¯ã€‚

  å¯å‚è€ƒ [C++ æ–‡ä»¶å’Œæµ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-files-streams.html)ã€‚[C++æ–‡ä»¶æ“ä½œ (biancheng.net)](http://c.biancheng.net/cplus/60/)ã€‚
  
  [æ–‡ä»¶ç³»ç»Ÿåº“ - cppreference.com](https://zh.cppreference.com/w/cpp/experimental/fs)ã€‚
  
  fstream / ifstream / ofstream çš„ç”¨æ³•ï¼Œå„ç§æ–¹æ³• å’Œ æ§åˆ¶ç¬¦ã€‚



- regex

  å¯å‚è€ƒ [æ­£åˆ™è¡¨è¾¾å¼åº“ (C++11 èµ·) - cppreference.com](https://zh.cppreference.com/w/cpp/regex)ã€‚

  ä¸€èˆ¬ï¼Œå¯ä»¥ç”± GPT ç­‰å·¥å…·ç”Ÿæˆæ¥å†™ã€‚ä½†æ˜¯æœ€å¥½ï¼Œæ­£åˆ™è¡¨è¾¾å¼è¦æ‡‚ä¸€äº›ã€‚



- chrono
  - duration
  - time_point
  - clocks
    - steady_clock
    - system_clock
    - high_resolution_clock



- std::function

  ç±»ä¼¼äºå®šä¹‰å‡½æ•°æŒ‡é’ˆï¼Œä½†å†™æ³•ç®€å•ï¼Œç”¨äºæ‰¿æ¥ æ™®é€šå‡½æ•°ã€æ¨¡æ¿å‡½æ•°ã€lambdaã€ä»¿å‡½æ•°ï¼ˆç±»æˆ–ç»“æ„å›¾å®ç°â€œ()â€çš„æ“ä½œç¬¦é‡è½½ï¼‰ç­‰

   [c++11æ–°ç‰¹æ€§ä¹‹std::functionå’Œlambdaè¡¨è¾¾å¼ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/137884434)ã€‚

  [std::functionè¯¦è§£-CSDNåšå®¢](https://blog.csdn.net/weixin_44378800/article/details/115210731)

  ä¸°å¯Œç”¨æ³•ä¾‹å­ [std::functionç®€ä»‹ä¸ä½¿ç”¨ | ç å†œå®¶å›­ (codenong.com)](https://www.codenong.com/cs105710781/)

  std::function å˜é‡ æ¯”è¾ƒ å’Œ ç±»çš„å˜é‡æˆå‘˜ [std::functionå¯¹è±¡æ¯”è¾ƒçš„é—®é¢˜_std::function æ¯”è¾ƒ-CSDNåšå®¢](https://blog.csdn.net/ability_555/article/details/119451100)



- std::bind

  [std::bind - cppreference.com](https://zh.cppreference.com/w/cpp/utility/functional/bind)

   [ã€C++ã€‘C++11çš„std::functionå’Œstd::bindç”¨æ³•è¯¦è§£_c++11 æ–°å¢äº† std::functionã€std::bind-CSDNåšå®¢](https://blog.csdn.net/qq_38410730/article/details/103637778)ã€‚

  https://zh.cppreference.com/w/cpp/utility/functional/bind
  [C++11ä¸­çš„std::bind ç®€å•æ˜“æ‡‚-CSDNåšå®¢](https://blog.csdn.net/Jxianxu/article/details/107382049)



- random

  > å¯ä»¥é€‰æ‹©æ¦‚ç‡åˆ†å¸ƒç±»å‹ã€‚
  >
  > æ•´æ•°å‡åŒ€åˆ†å¸ƒå’Œæµ®ç‚¹æ•°å‡åŒ€åˆ†å¸ƒï¼š
  >
  > ```c++
  > ...
  > std::default_random_engine random(time(nullptr));
  > 
  > std::uniform_int_distribution<int> int_dis(0, 100); // æ•´æ•°å‡åŒ€åˆ†å¸ƒ
  > std::uniform_real_distribution<float> real_dis(0.0, 1.0); // æµ®ç‚¹æ•°å‡åŒ€åˆ†å¸ƒ
  > 
  > for (int i = 0; i < 10; ++i) {
  >     cout << int_dis(random) << ' ';
  > }
  > cout << endl;
  > 
  > for (int i = 0; i < 10; ++i) {
  >     cout << real_dis(random) << ' ';
  > }
  > cout << endl;
  > ...
  > ```
  >
  > c++11 æä¾›çš„æ¦‚ç‡åˆ†å¸ƒç±»å‹è¿˜æœ‰å¥½å¤šï¼Œä¾‹å¦‚ä¼¯åŠªåˆ©åˆ†å¸ƒã€æ­£æ€åˆ†å¸ƒç­‰ã€‚



#### algorithm

å‚è€ƒ [ç®—æ³•åº“ - cppreference.com](https://zh.cppreference.com/w/cpp/algorithm)ã€‚

å‚è€ƒ [C++ Standard Library Algorithms Visual Overview | hacking C++ (hackingcpp.com)](https://hackingcpp.com/cpp/std/algorithms.html)ã€‚

- æœç´¢ç®—æ³•ï¼šfind() ã€search() ã€count() ã€find_if() ã€find_if_not() ã€search_if() ã€count_if()

- åˆ†ç±»æ’åºï¼šsort() ã€merge()

- åˆ é™¤ç®—æ³•ï¼šunique() ã€remove()

- ç”Ÿæˆå’Œå˜å¼‚ï¼šgenerate() ã€fill() ã€transformation() ã€copy() ã€copy_if()

- å…³ç³»ç®—æ³•ï¼šequal() ã€min() ã€max()

- æ¡ä»¶ï¼šall_of()ã€any_of()ã€none_of()

- minmax_element() è¿”å›å®¹å™¨å†… æœ€å¤§å…ƒç´  å’Œ æœ€å°å…ƒç´  çš„ è¿­ä»£å™¨

- itoa() å¯¹å®¹å™¨å†…çš„å…ƒç´  é€ä¸ª é€’å¢ èµ‹å€¼

- is_sorted() ã€is_sorted_until() è¿”å›å®¹å™¨å†…å…ƒç´ æ˜¯å¦å·²ç»æ’å¥½åº

- ç­‰ç­‰



#### IO

å‚è€ƒ [è¾“å…¥/è¾“å‡ºåº“ - cppreference.com](https://zh.cppreference.com/w/cpp/io)ã€‚



iostream

è¯¥æ–‡ä»¶å®šä¹‰äº† **cinã€coutã€cerr** å’Œ **clog** å¯¹è±¡ï¼ˆ**iostream** ç±»çš„å®ä¾‹ï¼‰ï¼Œåˆ†åˆ«å¯¹åº”äºæ ‡å‡†è¾“å…¥æµã€æ ‡å‡†è¾“å‡ºæµã€éç¼“å†²æ ‡å‡†é”™è¯¯æµ å’Œ ç¼“å†²æ ‡å‡†æ—¥å¿—æµã€‚

ä½¿ç”¨ cerr æµæ¥æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯ï¼Œè€Œå…¶ä»–çš„æ—¥å¿—æ¶ˆæ¯åˆ™ä½¿ç”¨ clog æµæ¥è¾“å‡ºã€‚



ä¸€äº›è®¾ç½®è¾“å‡ºæ¨¡å¼çš„ APIï¼ˆæ¯”å¦‚ è®¾ç½®/æ¸…é™¤ å·¦/å³å¯¹é½ã€ä¿ç•™å‡ ä½å°æ•°ã€ç§‘å­¦è®¡æ•°æ³•ã€16ç¦æ­¢è¾“å‡ºï¼Œè¿˜æœ‰ iostream ä¸­å®šä¹‰çš„æ“ä½œç¬¦ ç­‰ï¼‰ï¼š

å‚è€ƒ [C++ åŸºæœ¬çš„è¾“å…¥è¾“å‡º | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-basic-input-output.html)ï¼Œ[C++ coutæ ¼å¼åŒ–è¾“å‡ºï¼ˆè¶…çº§è¯¦ç»†ï¼‰ (biancheng.net)](http://c.biancheng.net/view/7578.html)ã€‚



ä¹Ÿå¯ä»¥ç”¨ c çš„æ ‡å‡†è¾“å…¥è¾“å‡º API å¦‚ scanf()ã€printf()ã€getchar()ã€putchar() ç­‰ç­‰ã€‚



sstream

å„ç§ç±»å‹å’Œå­—ç¬¦ä¸²ç±»å‹çš„äº’è½¬ï¼Œä»¥åŠé€ä¸ªæå–å­—ç¬¦ä¸²ï¼ˆé»˜è®¤ç©ºæ ¼ã€å›è½¦åˆ†å‰²ï¼‰

[std::basic_stringstream - cppreference.com](https://zh.cppreference.com/w/cpp/io/basic_stringstream)

[C++ä¹‹stringstreamç±»-åŸºæœ¬ç”¨æ³•è¯¦è§£-CSDNåšå®¢](https://blog.csdn.net/zxy_ZXY123/article/details/136207246)



fstream

æ–‡ä»¶çš„æµå¼è®¿é—®
[std::basic_fstream - cppreference.com](https://zh.cppreference.com/w/cpp/io/basic_fstream)



std::quoted

C++14ã€‚[std::quoted - cppreference.com](https://zh.cppreference.com/w/cpp/io/manip/quoted)ã€‚

> å¯¹å­—ç¬¦ä¸²åšè½¬ä¹‰ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒè‡ªå®šä¹‰çš„è½¬ä¹‰ç¬¦ã€‚

ä¸ªäººè§‰å¾—ä¸å¸¸ç”¨ã€‚



#### utility

å‚è€ƒ [å·¥å…·åº“ - cppreference.com](https://zh.cppreference.com/w/cpp/utility)ã€‚

å‚è€ƒ [æ ‡å‡†åº“æ ‡å¤´  - cppreference.com](https://zh.cppreference.com/w/cpp/header/utility)ã€‚



std::bitset

[std::bitset - cppreference.com](https://zh.cppreference.com/w/cpp/utility/bitset)

å¯ä»¥æ›¿ä»£æ‰€æœ‰ C åŸç”Ÿçš„ ä½è¿ç®—æ“ä½œï¼Œä¸å®¹æ˜“å‡ºé”™



std::exchange

C++14ã€‚[std::exchange - cppreference.com](https://zh.cppreference.com/w/cpp/utility/exchange)ã€‚

> ä½œç”¨æ˜¯æŠŠç¬¬äºŒä¸ªå€¼èµ‹å€¼ç»™ç¬¬ä¸€ä¸ªå€¼ï¼ŒåŒæ—¶è¿”å›ç¬¬ä¸€ä¸ªå€¼çš„æ—§å€¼ã€‚
>
> exchange çš„ç¬¬äºŒä¸ªå€¼æ˜¯ å®Œç¾è½¬å‘ï¼Œæ˜¯æ—¢å¯ä»¥æ¥æ”¶å·¦å€¼ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶å³å€¼ã€‚



std::integer_sequence

C++14ã€‚[std::integer_sequence - cppreference.com](https://zh.cppreference.com/w/cpp/utility/integer_sequence)ã€‚

äººè¯å‚è€ƒï¼š

- [ã€æ¨¡æ¿è¿›é˜¶ã€‘std::integer_sequence_integer sequence-CSDNåšå®¢](https://blog.csdn.net/Antonio915/article/details/143806938)ã€‚
- [ã€C++ 14 æ–°ç‰¹æ€§ std__integer_sequence ã€‘äº†è§£ std__integer_sequence çš„ä½¿ç”¨ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/679456805)ã€‚



#### Math

å‚è€ƒ [æ•°å€¼åº“ - cppreference.com](https://zh.cppreference.com/w/cpp/numeric)ã€‚



Complex å¤æ•°åº“

[æ ‡å‡†åº“æ ‡å¤´  - cppreference.com](https://zh.cppreference.com/w/cpp/header/complex)



#### Memory

å‚è€ƒ [å†…å­˜ç®¡ç†åº“ - cppreference.com](https://zh.cppreference.com/w/cpp/memory)ã€‚

å‚è€ƒ [ä½å±‚å†…å­˜ç®¡ç† - cppreference.com](https://zh.cppreference.com/w/cpp/memory/new)ã€‚



std::launder

å‚è€ƒ [std::launder - cppreference.com](https://zh.cppreference.com/w/cpp/utility/launder)ã€‚

å¯å‚è€ƒ [C++ç¬”è®°ï¼šå°è¯•ç”¨äººè¯è§£é‡Šstd::launder - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/3218510623)ã€‚

> std::launderâ€Œ ç”¨äºå¤„ç†æŒ‡é’ˆçš„ç”Ÿå‘½å‘¨æœŸå’Œç¼–è¯‘å™¨ä¼˜åŒ–é—®é¢˜ã€‚å…¶ä¸»è¦ä½œç”¨æ˜¯é˜²æ­¢ç¼–è¯‘å™¨å¯¹é€šè¿‡ç‰¹å®šæŒ‡é’ˆè¿›è¡Œçš„æ“ä½œè¿›è¡Œä¼˜åŒ–ï¼Œç¡®ä¿ç¨‹åºçš„è¿è¡Œç»“æœç¬¦åˆé¢„æœŸã€‚



### C å¸¦æ¥çš„

å¯ä»¥å‚è€ƒè¿™é‡Œæ¯”è¾ƒå…¨çš„æ€»ç»“ï¼š

[coding-style-and-more/é¢å¤–æ–‡æ¡£/å„ç§Cæ ‡å‡†åº“è¯¦è§£å’Œç”¨ä¾‹ at main Â· Staok/coding-style-and-more (github.com)](https://github.com/Staok/coding-style-and-more/tree/main/é¢å¤–æ–‡æ¡£/å„ç§Cæ ‡å‡†åº“è¯¦è§£å’Œç”¨ä¾‹)ã€‚



--

ä¸‹é¢åªæ˜¯ä¹‹å‰é›¶ç¢æ•´ç†ï¼Œä¸å…¨ï¼Œä½†æ˜¯åˆ äº†åˆæš‚æ—¶ä¸æƒ³åˆ ï¼Œå…ˆæ”¾ç€ã€‚

- cmathï¼šå¸¸ç”¨æ•°å­¦å‡½æ•°ã€‚

  |      | cmath åº“å‡½æ•°                                                 |
  | ---- | ------------------------------------------------------------ |
  | 1    | **double cos(double);** è¯¥å‡½æ•°è¿”å›å¼§åº¦è§’ï¼ˆdouble å‹ï¼‰çš„ä½™å¼¦ã€‚ |
  | 2    | **double sin(double);** è¯¥å‡½æ•°è¿”å›å¼§åº¦è§’ï¼ˆdouble å‹ï¼‰çš„æ­£å¼¦ã€‚ |
  | 3    | **double tan(double);** è¯¥å‡½æ•°è¿”å›å¼§åº¦è§’ï¼ˆdouble å‹ï¼‰çš„æ­£åˆ‡ã€‚ |
  | 4    | **double log(double);** è¯¥å‡½æ•°è¿”å›å‚æ•°çš„è‡ªç„¶å¯¹æ•°ã€‚           |
  | 5    | **double pow(double, double);** å‡è®¾ç¬¬ä¸€ä¸ªå‚æ•°ä¸º xï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸º yï¼Œåˆ™è¯¥å‡½æ•°è¿”å› x çš„ y æ¬¡æ–¹ã€‚ |
  | 6    | **double hypot(double, double);** è¯¥å‡½æ•°è¿”å›ä¸¤ä¸ªå‚æ•°çš„å¹³æ–¹æ€»å’Œçš„å¹³æ–¹æ ¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå‚æ•°ä¸ºä¸€ä¸ªç›´è§’ä¸‰è§’å½¢çš„ä¸¤ä¸ªç›´è§’è¾¹ï¼Œå‡½æ•°ä¼šè¿”å›æ–œè¾¹çš„é•¿åº¦ã€‚ |
  | 7    | **double sqrt(double);** è¯¥å‡½æ•°è¿”å›å‚æ•°çš„å¹³æ–¹æ ¹ã€‚            |
  | 8    | **int abs(int);** è¯¥å‡½æ•°è¿”å›æ•´æ•°çš„ç»å¯¹å€¼ã€‚                   |
  | 9    | **double fabs(double);** è¯¥å‡½æ•°è¿”å›ä»»æ„ä¸€ä¸ªæµ®ç‚¹æ•°çš„ç»å¯¹å€¼ã€‚  |
  | 10   | **double floor(double);** è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªå°äºæˆ–ç­‰äºä¼ å…¥å‚æ•°çš„æœ€å¤§æ•´æ•°ã€‚ |

- ctimeï¼šæ—¶é—´å’Œæ—¥æœŸã€‚

  æœ‰å››ä¸ªä¸æ—¶é—´ç›¸å…³çš„ç±»å‹ï¼š**clock_tã€time_tã€size_t**ï¼ˆè¿™ä¸‰ä¸ªèƒ½å¤ŸæŠŠç³»ç»Ÿæ—¶é—´å’Œæ—¥æœŸè¡¨ç¤ºä¸ºæŸç§æ•´æ•°ï¼‰ å’Œ **tm**ã€‚

  ç»“æ„ç±»å‹ **tm** æŠŠæ—¥æœŸå’Œæ—¶é—´ä»¥ C ç»“æ„çš„å½¢å¼ä¿å­˜ï¼Œtm ç»“æ„çš„å®šä¹‰å¦‚ä¸‹ï¼š

  ```c++
  struct tm {
    int tm_sec;   // ç§’ï¼Œæ­£å¸¸èŒƒå›´ä» 0 åˆ° 59ï¼Œä½†å…è®¸è‡³ 61
    int tm_min;   // åˆ†ï¼ŒèŒƒå›´ä» 0 åˆ° 59
    int tm_hour;  // å°æ—¶ï¼ŒèŒƒå›´ä» 0 åˆ° 23
    int tm_mday;  // ä¸€æœˆä¸­çš„ç¬¬å‡ å¤©ï¼ŒèŒƒå›´ä» 1 åˆ° 31
    int tm_mon;   // æœˆï¼ŒèŒƒå›´ä» 0 åˆ° 11
    int tm_year;  // è‡ª 1900 å¹´èµ·çš„å¹´æ•°
    int tm_wday;  // ä¸€å‘¨ä¸­çš„ç¬¬å‡ å¤©ï¼ŒèŒƒå›´ä» 0 åˆ° 6ï¼Œä»æ˜ŸæœŸæ—¥ç®—èµ·
    int tm_yday;  // ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ï¼ŒèŒƒå›´ä» 0 åˆ° 365ï¼Œä» 1 æœˆ 1 æ—¥ç®—èµ·
    int tm_isdst; // å¤ä»¤æ—¶
  };
  ```

  |      | ctime åº“å‡½æ•°                                                 |
  | ---- | ------------------------------------------------------------ |
  | 1    | [**time_t time(time_t \*time);**](https://www.runoob.com/cplusplus/c-function-time.html) è¯¥å‡½æ•°è¿”å›ç³»ç»Ÿçš„å½“å‰æ—¥å†æ—¶é—´ï¼Œè‡ª 1970 å¹´ 1 æœˆ 1 æ—¥ä»¥æ¥ç»è¿‡çš„ç§’æ•°ã€‚å¦‚æœç³»ç»Ÿæ²¡æœ‰æ—¶é—´ï¼Œåˆ™è¿”å› -1ã€‚ |
  | 2    | [**char \*ctime(const time_t \*time);**](https://www.runoob.com/cplusplus/c-function-ctime.html) è¯¥è¿”å›ä¸€ä¸ªè¡¨ç¤ºå½“åœ°æ—¶é—´çš„å­—ç¬¦ä¸²æŒ‡é’ˆï¼Œå­—ç¬¦ä¸²å½¢å¼ *day month year hours:minutes:seconds year\n\0*ã€‚ |
  | 3    | [**struct tm \*localtime(const time_t \*time);**](https://www.runoob.com/cplusplus/c-function-localtime.html) è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæŒ‡å‘è¡¨ç¤ºæœ¬åœ°æ—¶é—´çš„ **tm** ç»“æ„çš„æŒ‡é’ˆã€‚ |
  | 4    | [**clock_t clock(void);**](https://www.runoob.com/cplusplus/c-function-clock.html) è¯¥å‡½æ•°è¿”å›ç¨‹åºæ‰§è¡Œèµ·ï¼ˆä¸€èˆ¬ä¸ºç¨‹åºçš„å¼€å¤´ï¼‰ï¼Œå¤„ç†å™¨æ—¶é’Ÿæ‰€ä½¿ç”¨çš„æ—¶é—´ã€‚å¦‚æœæ—¶é—´ä¸å¯ç”¨ï¼Œåˆ™è¿”å› -1ã€‚ |
  | 5    | [**char \* asctime ( const struct tm \* time );**](https://www.runoob.com/cplusplus/c-function-asctime.html) è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæŒ‡å‘å­—ç¬¦ä¸²çš„æŒ‡é’ˆï¼Œå­—ç¬¦ä¸²åŒ…å«äº† time æ‰€æŒ‡å‘ç»“æ„ä¸­å­˜å‚¨çš„ä¿¡æ¯ï¼Œè¿”å›å½¢å¼ä¸ºï¼šday month date hours:minutes:seconds year\n\0ã€‚ |
  | 6    | [**struct tm \*gmtime(const time_t \*time);**](https://www.runoob.com/cplusplus/c-function-gmtime.html) è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæŒ‡å‘ time çš„æŒ‡é’ˆï¼Œtime ä¸º tm ç»“æ„ï¼Œç”¨åè°ƒä¸–ç•Œæ—¶ï¼ˆUTCï¼‰ä¹Ÿè¢«ç§°ä¸ºæ ¼æ—å°¼æ²»æ ‡å‡†æ—¶é—´ï¼ˆGMTï¼‰è¡¨ç¤ºã€‚ |
  | 7    | [**time_t mktime(struct tm \*time);**](https://www.runoob.com/cplusplus/c-function-mktime.html) è¯¥å‡½æ•°è¿”å›æ—¥å†æ—¶é—´ï¼Œç›¸å½“äº time æ‰€æŒ‡å‘ç»“æ„ä¸­å­˜å‚¨çš„æ—¶é—´ã€‚ |
  | 8    | [**double difftime ( time_t time2, time_t time1 );**](https://www.runoob.com/cplusplus/c-function-difftime.html) è¯¥å‡½æ•°è¿”å› time1 å’Œ time2 ä¹‹é—´ç›¸å·®çš„ç§’æ•°ã€‚ |
  | 9    | [**size_t strftime();**](https://www.runoob.com/cplusplus/c-function-strftime.html) è¯¥å‡½æ•°å¯ç”¨äºæ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´ä¸ºæŒ‡å®šçš„æ ¼å¼ã€‚ |

  ä½¿ç”¨ä¾‹å­å‚è€ƒ [C++ æ—¥æœŸ & æ—¶é—´ | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cplusplus/cpp-date-time.html)ã€‚

- cstdlibï¼š

  rand()

  è¿™ä¸ªå¤´æ–‡ä»¶é‡Œé¢è¿˜æœ‰å¾ˆå¤šæ–¹æ³•

- cstringï¼šä¸ c çš„ string.h å¤§åŒå°å¼‚ã€‚

  |      | cstring åº“å‡½æ•°                                               |
  | ---- | ------------------------------------------------------------ |
  | 1    | strcpy(s1, s2);    å¤åˆ¶å­—ç¬¦ä¸² s2 åˆ°å­—ç¬¦ä¸² s1ã€‚               |
  | 2    | strcat(s1, s2);    è¿æ¥å­—ç¬¦ä¸² s2 åˆ°å­—ç¬¦ä¸² s1 çš„æœ«å°¾ã€‚è¿æ¥å­—ç¬¦ä¸²ï¼ˆstring ç±»å‹çš„ï¼‰ä¹Ÿå¯ä»¥ç”¨ **+** å·ï¼Œä¾‹å¦‚: `string str1 = "runoob"; string str2 = "google"; string str = str1 + str2;` |
  | 3    | strlen(s1);    è¿”å›å­—ç¬¦ä¸² s1 çš„é•¿åº¦ã€‚                        |
  | 4    | strcmp(s1, s2);    å¦‚æœ s1 å’Œ s2 æ˜¯ç›¸åŒçš„ï¼Œåˆ™è¿”å› 0ï¼›å¦‚æœ s1<s2 åˆ™è¿”å›å€¼å°äº 0ï¼›å¦‚æœ s1>s2 åˆ™è¿”å›å€¼å¤§äº 0ã€‚ |
  | 5    | strchr(s1, ch);    è¿”å›ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å­—ç¬¦ä¸² s1 ä¸­å­—ç¬¦ ch çš„ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚ |
  | 6    | strstr(s1, s2);    è¿”å›ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å­—ç¬¦ä¸² s1 ä¸­å­—ç¬¦ä¸² s2 çš„ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚ |
  |      | ....                                                         |

